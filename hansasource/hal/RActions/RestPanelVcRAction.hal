external function LongInt TimeToSeconds2(Time);

global
updating function LongInt RestPanelVcRecordCheck(var record RestPanelVc RestPanelr,record RestPanelVc RestPanel2r,LongInt stat,LongInt long4)
begin
  LongInt res;
  string 255 errstr;
  integer i,rwcnt;
  row RestPanelVc RestPanelrw;
  longint LastLineDur;
  
  res = 0;
  if (blank(RestPanelr.Code)) then begin
    RecordCheckError(1959,"",-1,"Code");      
    res = -1;
    goto LRestPanelVcRecordCheck;
  end;  
  rwcnt = MatRowCnt(RestPanelr);
  for (i=0; i<rwcnt; i=i+1) begin
    MatRowGet(RestPanelr,i,RestPanelrw);
    if (i>0) then begin 
      if (TimeToSeconds2(RestPanelrw.DurationTime)<=LastLineDur) then begin
        RecordCheckError(34152,"",i,"DurationTime");      
        res = -1;
        goto LRestPanelVcRecordCheck;                     
      end;
      LastLineDur = TimeToSeconds2(RestPanelrw.DurationTime);
    end else begin
      LastLineDur = TimeToSeconds2(RestPanelrw.DurationTime);
    end;
  end;
LRestPanelVcRecordCheck:;
  RestPanelVcRecordCheck = res;
  return;
end;
