global
function LongInt StockReservVcRecordSaveClient(LongInt wn,var record StockReservVc StockReservr,record StockReservVc StockReserv2r,LongInt long3,LongInt long4)
begin
  record StockMovVc StockMovr;
  record StockReservBlock SRb;
  LongInt res;
  Integer nwn;

  if (StockReservr.ToFileName==kResTypeStock) then begin
    BlockLoad(SRb);
    if (SRb.AutoLevel==0 and SRb.ReservationType==0) then begin
      StockMovr.SerNr = StockReservr.ToSerNr;
      if (ReadFirstMain(StockMovr,1,true)) then begin
        nwn = OpenWindow("StockMovDClass",1,0,"","",StockMovr);
      end;
    end;
  end;
  StockReservVcRecordSaveClient = res;
  return;
end;
