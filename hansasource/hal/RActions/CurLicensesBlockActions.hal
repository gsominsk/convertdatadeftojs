global
updating function LongInt CurLicensesBlockImporting(var record CurLicensesBlock CLb,record CurLicensesBlock oldCLb,LongInt stat,LongInt long4)
begin
  LongInt res;
  Integer error;
  record ModuleBlock Modb;

  res = 0;
  if (IsStandardProduct) then begin
    if (LicenseMode==kLicenseModeServer) then begin
      if (CLb.NrUsersToCharge>=0) then begin
        BlockLoad(Modb);
        Modb.NumberOfUsers = CLb.NrUsersToCharge;
        if (Modb.NumberOfUsers<=0) then begin  Modb.NumberOfUsers = 1;  end;
        Modb.ConcurrentUserNo = Modb.NumberOfUsers;
        BlockStore(Modb);
        CLb.NrUsersToCharge = -1;
      end;
    end;
  end;
  CurLicensesBlockImporting = res;
  return;
end;
