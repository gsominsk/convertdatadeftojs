procedure SetDateAndTimeIfNeeded(record UUIDHistoryVc UUIDHistoryr)
begin
  if (blankdate(UUIDHistoryr.Date)) then begin
    UUIDHistoryr.Date = CurrentDate;
    UUIDHistoryr.Time = CurrentTime;
  end;
end;

global
function LongInt UUIDHistoryVcRecordSave(var record UUIDHistoryVc UUIDHistoryr,record UUIDHistoryVc UUIDHistory2r,LongInt stat,LongInt long4)
begin
  LongInt res;
  SetDateAndTimeIfNeeded(UUIDHistoryr);
  UUIDHistoryr.User = CurrentUser;
  UUIDHistoryVcRecordSave = res;
end;

global
function LongInt UUIDHistoryVcRecordImport(var record UUIDHistoryVc UUIDHistoryr,record UUIDHistoryVc UUIDHistory2r,LongInt stat,LongInt long4)
begin
  LongInt res;
  SetDateAndTimeIfNeeded(UUIDHistoryr);
  UUIDHistoryVcRecordImport = res;
end;

global
updating function LongInt UUIDHistoryVcRecordUpdate(var record UUIDHistoryVc UUIDHistoryr,record UUIDHistoryVc UUIDHistory2r,LongInt stat,LongInt long4)
begin
  LongInt res;
  SetDateAndTimeIfNeeded(UUIDHistoryr);
  UUIDHistoryVcRecordUpdate = res;
end;
