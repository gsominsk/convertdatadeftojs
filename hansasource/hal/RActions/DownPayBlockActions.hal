global
updating function LongInt DownPayBlockCheck(var record DownPayBlock DownPayr,record DownPayBlock DownPay2r,LongInt stat,LongInt long4)
BEGIN
  LongInt res;
  record PDVc PDr;
  
  res = 0;
  PDr.Code = DownPayr.PayDeal;
  if (ReadFirstMain(PDr,1,true)) then begin
    if (PDr.PDType==2) then begin
      RecordCheckError(1958,"",-1,"PayDeal");   
      res = -1;
      goto LDownPayBlockCheck;        
    end;
  end else begin
    RecordCheckError(1958,"",-1,"PayDeal");   
    res = -1;
    goto LDownPayBlockCheck;        
  end;
LDownPayBlockCheck:;  
  DownPayBlockCheck = res;
  return;
end;
