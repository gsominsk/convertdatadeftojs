external procedure DoCCLookupServiceAsync();

global
function LongInt CCAccountIDVcRecordCheck(var record CCAccountIDVc CCAIr,record CCAccountIDVc CCAI2r,LongInt stat,LongInt long4)
begin
  LongInt res;

  res = 0;
  if (blank(CCAIr.Code)) then begin
    RecordCheckError(1058,"",-1,"Code");
    res = -1;
    goto LCCAccountIDVcRecordCheck;
  end;
  if (NonBlank(CCAIr.ProfileID)) then begin 
    if (blank(CCAIr.AccessKey)) then begin 
      RecordCheckError(1058,"",-1,"AccessKey");
      res = -1;
      goto LCCAccountIDVcRecordCheck;      
    end;
    if (BlankDate(CCAIr.KeyCreatedDate)) then begin 
      RecordCheckError(1058,"",-1,"KeyCreatedDate");
      res = -1;
      goto LCCAccountIDVcRecordCheck;      
    end;    
    if (BlankDate(CCAIr.KeyExpireDate)) then begin 
      RecordCheckError(1058,"",-1,"KeyExpireDate");
      res = -1;
      goto LCCAccountIDVcRecordCheck;      
    end;      
    if (CCAIr.KeyExpireDate<=CCAIr.KeyCreatedDate) then begin 
      RecordCheckError(20851,"",-1,"KeyExpireDate");
      res = -1;
      goto LCCAccountIDVcRecordCheck;      
    end;
  end;
LCCAccountIDVcRecordCheck:;
  CCAccountIDVcRecordCheck = res;
  return;
end;

global
function LongInt CCAccountIDVcRecordSaveAfter(var record CCAccountIDVc CCAIDr,record CCAccountIDVc CCAID2r,LongInt stat,LongInt long4)
begin
  LongInt res;

  DoCCLookupServiceAsync;
  CCAccountIDVcRecordSaveAfter = res;
  return;
end;
