function Integer TestTimeHound(Time frt1,Time tot1,Time frt2,Time tot2)
begin
  Integer res;
  
  if (frt1<frt2) and (tot1>tot2) then begin
    if (tot2>frt1) then begin
      res = 1;
    end;
  end;
  if (frt1<frt2) and (tot1>frt2) then begin
    if (tot1<tot2) then begin
      res = 2;
    end;  
  end;  
  if (frt2<frt1) and (tot2>tot1) then begin
    if (tot2>frt1) then begin
      res = 3;
    end;
  end;
  if (frt2<frt1) and (tot2>frt1) then begin
    if (tot2<tot1) then begin
      res = 4;
    end;  
  end;  
  TestTimeHound = res;
  return;
end;

procedure PromptError(Integer err,string field1,string field2,string field3,string field4)
begin
  string 255 fieldname;
  
  switch (err) begin
    case 1: fieldname = field1;
    case 2: fieldname = field2;
    case 3: fieldname = field3;
    case 4: fieldname = field4;
  end;
  RecordCheckError(1120,"",-1,fieldname);      
  return;
end;

global
function LongInt SalesTimeBlockCheck(var record SalesTimeBlock STb,record SalesTimeBlock ST2b,LongInt stat,LongInt long4)
begin
  LongInt res;
  Integer err;

  res = 0;    
  err = TestTimeHound(STb.FrTime1,STb.ToTime1,STb.FrTime2,STb.ToTime2);
  if (err!=0) then begin
    PromptError(err,"FrTime1","ToTime1","FrTime2","ToTime2");
    res = -1;
    goto LSalesTimeBlockCheck;
  end;
  err = TestTimeHound(STb.FrTime1,STb.ToTime1,STb.FrTime3,STb.ToTime3);
  if (err!=0) then begin
    PromptError(err,"FrTime1","ToTime1","FrTime3","ToTime3");
    res = -1;
    goto LSalesTimeBlockCheck;
  end;
  err = TestTimeHound(STb.FrTime1,STb.ToTime1,STb.FrTime4,STb.ToTime4);
  if (err!=0) then begin
    PromptError(err,"FrTime1","ToTime1","FrTime4","ToTime4");
    res = -1;
    goto LSalesTimeBlockCheck;
  end;
  err = TestTimeHound(STb.FrTime1,STb.ToTime1,STb.FrTime5,STb.ToTime5);
  if (err!=0) then begin
    PromptError(err,"FrTime1","ToTime1","FrTime5","ToTime5");
    res = -1;
    goto LSalesTimeBlockCheck;
  end;

  err = TestTimeHound(STb.FrTime2,STb.ToTime2,STb.FrTime3,STb.ToTime3);
  if (err!=0) then begin
    PromptError(err,"FrTime2","ToTime2","FrTime3","ToTime3");
    res = -1;
    goto LSalesTimeBlockCheck;
  end;
  err = TestTimeHound(STb.FrTime2,STb.ToTime2,STb.FrTime4,STb.ToTime4);
  if (err!=0) then begin
    PromptError(err,"FrTime2","ToTime2","FrTime4","ToTime4");
    res = -1;
    goto LSalesTimeBlockCheck;
  end;
  err = TestTimeHound(STb.FrTime2,STb.ToTime2,STb.FrTime5,STb.ToTime5);
  if (err!=0) then begin
    PromptError(err,"FrTime2","ToTime2","FrTime5","ToTime5");
    res = -1;
    goto LSalesTimeBlockCheck;
  end;

  err = TestTimeHound(STb.FrTime3,STb.ToTime3,STb.FrTime4,STb.ToTime4);
  if (err!=0) then begin
    PromptError(err,"FrTime3","ToTime3","FrTime4","ToTime4");
    res = -1;
    goto LSalesTimeBlockCheck;
  end;
  err = TestTimeHound(STb.FrTime3,STb.ToTime3,STb.FrTime5,STb.ToTime5);
  if (err!=0) then begin
    PromptError(err,"FrTime3","ToTime3","FrTime5","ToTime5");
    res = -1;
    goto LSalesTimeBlockCheck;
  end;
  err = TestTimeHound(STb.FrTime4,STb.ToTime4,STb.FrTime5,STb.ToTime5);
  if (err!=0) then begin
    PromptError(err,"FrTime4","ToTime4","FrTime5","ToTime5");
    res = -1;
    goto LSalesTimeBlockCheck;
  end;
  
LSalesTimeBlockCheck:;
  SalesTimeBlockCheck = res;
  return;
end;
