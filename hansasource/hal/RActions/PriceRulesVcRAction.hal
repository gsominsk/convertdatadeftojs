global
updating function LongInt PriceRulesVcRecordCheck(var record PriceRulesVc PRr,record PriceRulesVc PR2r,LongInt stat,LongInt long4)
begin
  row PriceRulesVc PRrw;
  integer i,rowcnt;
  longint res;
  
  res = 0;
  rowcnt = MatRowCnt(PRr);
  for (i=0;i<rowcnt;i=i+1) begin
    MatRowGet(PRr,i,PRrw);
    if (PRrw.RestrictionType==kRoomPriceRestictionTypeNone) then begin
      PRrw.RestrictionOperator = 0;
      PRrw.RestrictionCustClass = "";
      PRrw.RestrictionOperand1 = -1;
      PRrw.RestrictionOperand2 = -1;
    end;
    if (PRrw.RestrictionOperator<>kCompOpRange) then begin
      PRrw.RestrictionOperand2 = -1;
    end;
    if (PRrw.ChargeType==kChargeTypeFixedPrice) then begin
      PRrw.ChargeCustClass = "";
      PRrw.ChargeOperator = 0;
      PRrw.ChargeOperand1 = -1;
      PRrw.ChargeOperand2 = -1;
    end;
    if (PRrw.ChargeOperator<>kCompOpRange) then begin
      PRrw.ChargeOperand2 = -1;
    end;
    MatRowPut(PRr,i,PRrw);
  end;
  return;
end;