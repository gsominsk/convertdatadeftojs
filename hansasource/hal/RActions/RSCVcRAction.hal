global
function LongInt RSCVcRecordCheck(record RSCVc RSCr,record RSCVc RSC2p,LongInt stat,LongInt long4)
begin
  LongInt res;
  Integer i,rwcnt;
  row RSCVc RSCrw;
  record ReservationStatusVc RSr;
      
  res = 0;
  if (blank(RSCr.Code)) then begin
    RecordCheckError(1120,"",-1,"Code");      
    res = -1; 
    goto LRSCVcRecordCheck;
  end;  
  rwcnt = MatRowCnt(RSCr);
  for (i=0;i<rwcnt;i=i+1) begin
    MatRowGet(RSCr,i,RSCrw);
    if (nonblank(RSCrw.ResStatus)) then begin
      RSr.Code = RSCrw.ResStatus;
      if (ReadFIrstMain(RSr,1,true)==false) then begin
        RecordCheckError(1290,"",i,"ResStatus");
        res = -1;
        goto LRSCVcRecordCheck;
      end;
    end else begin
      RecordCheckError(1058,"",i,"ResStatus");
      res = -1;
      goto LRSCVcRecordCheck;
    end;
  end;
LRSCVcRecordCheck:;  
  RSCVcRecordCheck = res;
  return;
end;  
