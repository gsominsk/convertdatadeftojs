global
function LongInt LiqInfoVcRecordCheck(record LiqInfoVc LiqInfor,record LiqInfoVc LiqInfo2r,LongInt stat,LongInt long4)
begin
  LongInt res;
  LongInt oldnr;

  res = 0;

  oldnr = LiqInfor.SerNr;
  if (blankdate(LiqInfor.TransDate)) then begin
    LiqInfor.TransDate = CurrentDate;
  end;
  if (LiqInfor.SerNr<=0) then begin
    LiqInfor.SerNr = NextSerNr("LiqInfoVc",LiqInfor.TransDate,-1,false,"");
  end;
/*
  if (blank(LiqInfor.Code)) then begin
    RecordCheckError(112,"",-1,"Code");      
    res = -1;
    goto LLiqInfoVcRecordCheck;
  end;
*/  
LLiqInfoVcRecordCheck:;
  if (res!=0) then begin
    LiqInfor.SerNr = oldnr;
  end;
  LiqInfoVcRecordCheck = res;
  return;
end;

global
function LongInt LiqInfoVcRecordDefaults(var record LiqInfoVc LiqInfor,record LiqInfoVc LiqInfo2r,LongInt stat,LongInt long4)
begin
  LongInt res;
  record AccBlock ARAccRec;
  
  LiqInfor.SerNr = -1;

  LiqInfor.TransDate = CurrentDate;
  LiqInfor.IntYc = IVYc;
  if (SingleUserMode) then begin
    LiqInfor.SerNr = NextSerNr("LiqInfoVc",LiqInfor.TransDate,-1,false,"");
  end;
  LiqInfoVcRecordDefaults = res; 
  return;
end;

global
function LongInt LiqInfoVcRecordDuplicate(var record LiqInfoVc LiqInfor,record LiqInfoVc LiqInfo2r,LongInt stat,LongInt long4)
begin
  LongInt res;
  
  LiqInfor.SerNr = -1;
  LiqInfor.TransDate = CurrentDate;
  if (SingleUserMode) then begin
    LiqInfor.SerNr = NextSerNr("LiqInfoVc",LiqInfor.TransDate,-1,false,"");
  end;
  LiqInfoVcRecordDuplicate = res; 
  return;
end;

global
function LongInt LiqInfoVcRecordInIndex(record LiqInfoVc LiqInfor,string indexname)
begin
  LongInt res;
  
  res = 1;
  if (LiqInfor.Closed!=0) then begin 
    if (indexname=="ActIntYc")  then begin res = 0; end;
    if (indexname=="ActNewPayDate")  then begin res = 0; end;
  end;
  LiqInfoVcRecordInIndex = res;
  return;
end;

global
function LongInt LiqInfoVcRecordImport(var record LiqInfoVc LiqInfor,record LiqInfoVc LiqInfo2r,LongInt stat,LongInt long4)
begin
  LongInt res;

  switch (LiqInfor.IntYc) begin
    case 0: LiqInfor.IntYc = IVYc;
    case 1: LiqInfor.IntYc = VIYc;
  end;
  LiqInfoVcRecordImport = res;
  return;
end;
