global
function LongInt DARateVcRecordDefaults(var record DARateVc DARr,record DARateVc DAR2r,LongInt stat,LongInt long4)
begin
  LongInt res;
  record DABlock DAb;
      
  BlockLoad(DAb);
  switch (DAb.RateType) begin
    case kDARateTypePerMealType:
      DARr.BreakfastRate = DAb.BreakfastRate;
      DARr.LunchRate = DAb.LunchRate;
      DARr.DinnerRate = DAb.DinnerRate;
    case kDARateTypePerMealNumber:
      DARr.OneMealRate = DAb.OneMealRate;
      DARr.TwoMealsRate = DAb.TwoMealsRate;
      DARr.ThreeMealsRate = DAb.ThreeMealsRate;
  end;
  DARateVcRecordDefaults = res; 
  return;
end;

global
function LongInt DARateVcRecordCheck(var record DARateVc DARr,record DARateVc DAR2r,LongInt stat,LongInt long4)
begin
  LongInt res;
  record CountryVc Countryr;

  res = 0;  
  if (blank(DARr.Country)) then begin
    RecordCheckError(2210,"",-1,"Country");      
    res = -1;
    goto LDARateVcRecordCheck;
  end;  
  Countryr.Code = DARr.Country;
  if (ReadFirstMain(Countryr,1,true)==false) then begin
    RecordCheckError(1290,"",-1,"Country");      
    res = -1;
    goto LDARateVcRecordCheck;
  end;
LDARateVcRecordCheck:;
  DARateVcRecordCheck = res; 
  return;
end;
