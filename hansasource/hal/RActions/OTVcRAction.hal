external function Boolean CodeTest(string);

global
function LongInt OTVcRecordDefaults(var record OTVc OTr,record OTVc OT2r,LongInt stat,LongInt long4)
BEGIN
  LongInt res;
  
  OTr.TerminateFlag = 0;
  OTr.Length = -1;
  OTr.Type = 0;
  OTVcRecordDefaults = res; 
  RETURN;
END;

global
function LongInt OTVcRecordRemoveTest(var record OTVc OTr,record OTVc OT2r,LongInt long3,LongInt long4)
BEGIN
  LongInt res;
  record ObjVc RUr;

  res = 1;
  RUr.OTCode = OTr.Code;
  if (ReadFirstKey("OTCode",RUr,1,true)) then begin
    if (long3>0) then begin MessageBox(1042,""); end;
    res = 0;
  end;  
LOTVcRecordRemoveTest:;
  OTVcRecordRemoveTest = res; 
  RETURN;
END;

global
updating function LongInt OTVcRecordCheck(var record OTVc OTr,record OTVc OT2r,LongInt stat,LongInt long4)
BEGIN
  LongInt res;

  res = 0;
  if (blank(OTr.Code)) then begin
    RecordCheckError(1058,"",-1,"Code");      
    res = -1; 
    goto LOTVcRecordCheck;
  end;
  if (CodeTest(OTr.Code)==false) then begin
    RecordCheckError(1059,"",-1,"Code");      
    res = -1; 
    goto LOTVcRecordCheck;
  end;  
LOTVcRecordCheck:;
  OTVcRecordCheck = res;
  RETURN;
END;

global 
function Boolean OTVcRecordShouldBeSynchronised(record OTVc OTr,string tagstr)
begin
  Boolean res;
  
  res = true;
  OTVcRecordShouldBeSynchronised = res;
  return;
end;

global 
function Boolean OTVcRecordSync(record OTVc OTr,string tagstr)
begin
  Boolean res;
  
  res = true;
  OTVcRecordSync = res;
  return;
end;
