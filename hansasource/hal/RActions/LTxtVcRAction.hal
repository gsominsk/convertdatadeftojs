global
function LongInt LTxtVcRecordCheck(var record LTxtVc LTxtr,record LTxtVc LTxt2r,LongInt stat,LongInt long4)
BEGIN
  LongInt res;
  string 255 tstr;
  record LTxtVc lLTxtr;
  Integer insertmode;

  res = 0;     
  insertmode = 1;
  if (blank(LTxtr.Code)) then begin
    RecordCheckError(1058,LTxtr.Code,-1,"Code");      
    res = -1; 
    goto LLTxtVcRecordCheck;
  end;
  if (stat==insertmode) then begin
    lLTxtr.Code = LTxtr.Code;
    if (ReadFirstMain(lLTxtr,1,true)) then begin
      RecordCheckError(1547,LTxtr.Code,-1,"Code");      
      res = -1; 
      goto LLTxtVcRecordCheck;
    end;
  end;
LLTxtVcRecordCheck:;
  LTxtVcRecordCheck = res;
  RETURN;
END;
