external function Boolean GetNextItemNr(var string);
external function Boolean GetNextCustNr(var string);

global updating
procedure StoreRandomOrder(var record ORVc orr)
begin
  boolean dummy;
  
  orr.SerNr = NextSerNr("ORVc",CurrentDate,-1,false,"");
  dummy = RecordStore(orr,false);
  return;
end;

global updating
procedure OKRandomDelivery(var record SHVc shr)
begin
  boolean dummy;
  record SHVc oldshr;
  
  RecordCopy(oldshr,shr);
  shr.OKFlag = 1;
  if (RecordUpdate(oldshr,shr,true)==0) then begin
  end;
  return;
end;

global updating
procedure OKRandomInvoice(var record IVVc ivr)
begin
  boolean dummy;
  record SHVc oldivr;
  
  RecordCopy(oldivr,ivr);
  ivr.OKFlag = 1;
  if (RecordUpdate(oldivr,ivr,true)==0) then begin
  end;
  return;
end;

global updating
procedure StoreRandomInvoice(var record IVVc IVr)
begin
  boolean dummy;
  
  IVr.SerNr = NextSerNr("IVVc",CurrentDate,-1,false,"");
  dummy = RecordStore(IVr,false);
  return;
end;

global
procedure RemoteIVNew(var record IVVc IVr)
begin
  RecordNew(IVr);
  return;
end;

global updating
procedure StoreRandomBarTab(var record RestAccVc RAr)
begin
  boolean dummy;
  
  if (RAr.SerNr==-1) then begin
    RAr.SerNr = NextSerNr("RestAccVc",RAr.TransDate,-1,false,"");
  end;
  
  dummy = RecordStore(RAr,false);
  return;
end;

global
procedure RemoteRestAccNew(var record RestAccVc RAr)
begin
  RecordNew(RAr);
  return;
end;

global updating
procedure StoreRandomPOSInvoice(var record IVCashVc IVCashr)
begin
  boolean dummy;
  
  if (IVCashr.SerNr==-1) then begin
    IVCashr.SerNr = NextSerNr("IVCashhVc",IVCashr.TransDate,-1,false,"");
  end;
  
  dummy = RecordStore(IVCashr,false);
  return;
end;

global
procedure RemoteIVCashNew(var record IVCashVc IVCashr)
begin
  RecordNew(IVCashr);
  return;
end;

global
procedure RemoteORNew(var record ORVc ORr)
begin
  RecordNew(ORr);
  return;
end;

global
procedure RemoteRCNew(var record RcVc RepSpec)
begin
  RecordNew(RepSpec);
  return;
end;

global
procedure RemoteCUNew(var record CUVc CUr)
begin
  RecordNew(CUr);
  return;
end;

global
updating procedure StoreRandomCustomer(var record CUVc cur)
begin
  boolean dummy;
  
  if (blank(CUr.Code)) then begin
    if (GetNextCustNr(CUr.Code)) then begin end;
  end;
  if (nonblank(CUr.Code)) then begin
    dummy = RecordStore(cur,false);
  end;
  return;
end;

global
procedure RemoteINNew(var record INVc INr)
begin
  RecordNew(INr);
  return;
end;

global
updating procedure StoreRandomItem(var record INVc inr)
begin
  boolean dummy;
  
  if (blank(INr.Code)) then begin
    if (GetNextItemNr(INr.Code)) then begin end;
  end;
  if (nonblank(INr.Code)) then begin
    dummy = RecordStore(inr,false);
  end;
  return;
end;
