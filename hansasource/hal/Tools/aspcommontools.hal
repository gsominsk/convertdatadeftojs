
global
function Boolean TreatServiceError(LongInt stat,string url,string service)
begin
  Boolean res;
  string 255 errtext;
  
  switch (stat) begin
    case kCallServiceOK:
      res = false;
    case kCallServiceCommError:
      errtext = "communications error";
      res = true;
    case kCallServiceAuthError:
      errtext = "authentication error";
      res = true;
    case kCallServiceParamError:
      errtext = "parameter error";
      res = true;
    case kCallServiceNoFuncError:
      errtext = "no function error";
      res = true;
    otherwise
      errtext = "unknown error " & stat;
      res = true;
  end;
  
  if (res) then begin
    LogText(0,"service call: " & service & " to: " & url & " failed with: " & errtext);
  end;
  
  TreatServiceError = res;
  return;
end;
