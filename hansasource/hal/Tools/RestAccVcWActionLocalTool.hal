external function Boolean RestAccDchrsum(var record RestAccVc,Integer,Integer);
external procedure RestAccSumup(var record RestAccVc,string);
external function val GetServiceCharge(var record RestAccVc,record LocalMachineBlock,boolean);
external procedure RestAccVcGetCalcItemPrice(record INVc,record RestAccVc,Integer,var val);

/*  

global
function Boolean RestAccVc_PasteArtCodeFromLocalIN(var record RestAccVc RestAccr,Integer rownr,record LocalMachineBlock LMb)
begin
  Boolean res;  
  record LocalINVc LocalINr;  
  row RestAccVc RestAccrw;
  Boolean chsum,calcpricef,bool;
  val price,vreb,baseprice,tax2prc;
  string 255 curitemname,vatcode,salesacc,tax2code;
  Boolean dummyf;

  MatRowGet(RestAccr,rownr,RestAccrw);
  if (RestAccrw.Quant==blankval) then begin
    RestAccrw.Quant = 1;
  end;

  if (GetItemPriceDiscountLocalItem(RestAccrw.ArtCode,RestAccrw.Quant,LocalINr,"",
                          blankval,blankval,blankval,blankval,blankval,
                          "","",RestAccr.PriceList,"",
                          price,curitemname,vreb,vatcode,baseprice,salesacc,
                          0,calcpricef,RestAccr.TransDate,RestAccr.CUCode,false,dummyf,"",tax2code,tax2prc,"","")) then 
  begin
//jjlocal ?
    if (calcpricef) then begin
      RestAccrw.Quant = blankval;
      RestAccVcGetCalcItemPrice(INr,RestAccr,rownr,price);
    end;
    RestAccrw.Spec = curitemname;
    RestAccrw.Price = price;
    RestAccrw.VATCode = vatcode;
    MatRowPut(RestAccr,rownr,RestAccrw);
    chsum = true;
    res = true;
  end;  
  RestAccDchrsum(RestAccr,rownr,0);
  if (chsum) then begin
//    RestAccr.ServCharge = GetServiceCharge(RestAccr,LMb,false);//jjlocal ?
    RestAccSumup(RestAccr,"");
  end;  
  
  RestAccVc_PasteArtCodeFromLocalIN = res;
  return;
end;



//___________
global
function Boolean RestAccPriceLookpup_PasteArtCodeFromLocalIN(var record SoftFVc RestAccPLr,Integer rownr,record LocalMachineBlock LMb)
begin
  Boolean res;  
  record LocalINVc LocalINr;  
  row SoftFVc RestAccPLrw;
  Boolean chsum,calcpricef,bool;
  val price,vreb,baseprice,tax2prc;
  string 255 curitemname,vatcode,salesacc,tax2code;
  Boolean dummyf;

  MatRowGet(RestAccPLr,rownr,RestAccPLrw);
  if (RestAccPLrw.Quant==blankval) then begin
    RestAccPLrw.Quant = 1;
  end;

  if (GetItemPriceDiscountLocalItem(RestAccPLrw.ArtCode,RestAccPLrw.Quant,LocalINr,"",
                          blankval,blankval,blankval,blankval,blankval,
                          "","",RestAccPLr.PriceList,"",
                          price,curitemname,vreb,vatcode,baseprice,salesacc,
                          0,calcpricef,RestAccPLr.TransDate,RestAccPLr.CustCode,false,dummyf,"",tax2code,tax2prc,"","")) then 
  begin
//jjlocal ?
    if (calcpricef) then begin
      RestAccrw.Quant = blankval;
      RestAccVcGetCalcItemPrice(INr,RestAccr,rownr,price);
    end;
    RestAccPLrw.Spec = curitemname;
    RestAccPLrw.Price = price;
    RestAccPLrw.VATCode = vatcode;
    MatRowPut(RestAccPLr,rownr,RestAccPLrw);
    chsum = true;
    res = true;
  end;    
  RestAccPriceLookpup_PasteArtCodeFromLocalIN = res;
  return;
end;

*/    
