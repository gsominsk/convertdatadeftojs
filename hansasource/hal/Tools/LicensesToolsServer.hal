external function Boolean ProductInDemoMode();
external updating procedure RemoteLicensesUpdateFromClient(var array record LicensesVc,Longint);

global
function Boolean LicenseShouldBeMovedToServer(record LicensesVc Lr)
begin
  Boolean res;
  
  switch (Lr.Function) begin
    case "ServerSlot": 
      res = ProductInDemoMode==false;
    otherwise 
      res = false;
  end;
  
  LicenseShouldBeMovedToServer = res;
  return;
end;

global
updating function Boolean MoveLicenseToServer(record LicensesVc Lr)
begin
  array record LicensesVc Licensesra;
  
  Licensesra[0] = Lr;
  RemoteLicensesUpdateFromClient(Licensesra,1);
  
  MoveLicenseToServer = true;
  return;
end;
