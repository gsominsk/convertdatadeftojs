external function Boolean ReadFirstItem(string,var record INVc,Boolean,Boolean);

global
function Boolean RestItemDepVc_PasteArtCode(var record RestItemDepVc RestItemDepr)
begin
  record INVc INr;
  Boolean res;

  if (ReadFirstItem(RestItemDepr.ArtCode,INr,true,true)) then begin
    RestItemDepr.ArtName = INr.Name;
    res = true;
  end;
  RestItemDepVc_PasteArtCode = res;
  return;
end;

global 
function string 255 GetItemDept(record LocalMachineBlock LMb, string ArtCode,string BranchID)
begin
  string 255 res;
  record RestItemDepVc RestItemDepr;
  
  RestItemDepr.ArtCode = ArtCode;
  RestItemDepr.BranchID = BranchID;
  if (ReadFirstKey("BranchID",RestItemDepr,2,true)) then begin
    res = RestItemDepr.Department;
  end else begin    
    res = LMb.KitchenOrdScrDep;
  end;
  GetItemDept = res;
  return;
end;