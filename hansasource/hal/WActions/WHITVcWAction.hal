function Boolean WHITDClassITCodeEFAfter(Integer wn,Boolean changedf)
begin
  record WHITVc WHITr;
  record ITVc ITr;
  Boolean res;
  
  if (changedf) then begin
    GetWindowRecord(wn,WHITr);
    ITr.Code = WHITr.ITCode;
    if (ReadFirstMain(ITr,1,true)) then begin
      WHITr.Comment = ITr.Comment;
    end;
    PutWindowRecord(wn,WHITr);
    res = true;
  end;
  WHITDClassITCodeEFAfter = res;
  return;
end;

global
function Boolean WHITDClassAfterEditField(Integer wn,string fieldname,Integer fn, Integer rownr,Integer changed)
begin
  Boolean res;

  switch (fieldname) begin
    case "ITCode": res = WHITDClassITCodeEFAfter(wn,changed!=0);
  end;
  WHITDClassAfterEditField = res;
  return;
end;
