function Boolean ARInstallDClassRValEFAfter(Integer wn,Integer fn,Integer rownr,Integer changedf)
begin
  Boolean res;
  record ARInstallVc ARInstallr;
  record ARInstallVc prevARInstallr;
  val temp;
  
  res = true;
  if (changedf!=0) then begin
    GetPrevWindowRecord(wn,prevARInstallr);
    temp = prevARInstallr.RVal / prevARInstallr.BookRVal;
    if (temp==0) then begin
      temp = 1;
    end;
    GetWindowRecord(wn,ARInstallr);
    ARInstallr.BookRVal = ARInstallr.RVal * temp;
    PutWindowRecord(wn,ARInstallr);
  end;
  ARInstallDClassRValEFAfter = res;
  return;
end;

global
function Boolean ARInstallDClassAfterEditField(Integer wn,string fieldname,Integer fn,Integer rownr,Integer changed)
BEGIN
  Boolean res;
  
  res = false;
  switch (fieldname) begin
    case "RVal": res = ARInstallDClassRValEFAfter(wn,fn,rownr,changed);
  end;
  ARInstallDClassAfterEditField = res;
  RETURN;
END;

