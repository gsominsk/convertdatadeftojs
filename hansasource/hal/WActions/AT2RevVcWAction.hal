
function Boolean AT2RevDClassAT2GroupCodeEFAfter(Integer wn,Integer fn, Integer rownr,Integer changed)
BEGIN
  Boolean res;
  record AT2RevVc AT2Revr;
  record AT2GroupVc AT2Groupr;

  res = true;
  if (changed!=0) then begin
    GetWindowRecord(wn,AT2Revr);
    AT2Groupr.Code = AT2Revr.AT2GroupCode;
    if (ReadFirstMain(AT2Groupr,1,true)) then begin
      AT2Revr.Description = AT2Groupr.Description;
      PutWindowRecord(wn,AT2Revr);    
    end;
  end;
  AT2RevDClassAT2GroupCodeEFAfter = res;
  RETURN;
END;

global
function Boolean AT2RevDClassAfterEditField(Integer wn,string fieldname,Integer fn, Integer rownr,Integer changed)
BEGIN
  Boolean res;

  switch (fieldname) begin
    case "AT2GroupCode": res = AT2RevDClassAT2GroupCodeEFAfter(wn,fn,rownr,changed);
  end;
  AT2RevDClassAfterEditField = res;
  RETURN;
END;
