function Boolean VEStoreIDDClassVECodeEFAfter(Integer wn,Boolean changedf)
begin
  Boolean res;
  record INVc INr;
  record VEStoreIDVc VESr;
  record CUVc VEr;
  
  if (changedf) then begin
    res = true;
    GetWindowRecord(wn,VESr);
    VEr.Code = VESr.VECode;
    if (ReadFirstMain(VEr,1,true)) then begin
      VESr.VEName = VEr.Name;
      PutWindowRecord(wn,VESr);        
    end;
  end;
  VEStoreIDDClassVECodeEFAfter = res;
  return;
end;

global
function Boolean VEStoreIDDClassAfterEditField(Integer wn,string fieldname,Integer fn, Integer rownr,Integer changed)
begin
  Boolean res;

  switch (fieldname) begin
    case "VECode": res = VEStoreIDDClassVECodeEFAfter(wn,changed!=0);
  end;
  VEStoreIDDClassAfterEditField = res;
  return;
end;
