remote procedure SplitINVc_PasteFromArtCode(var record CrossINVc);
remote procedure SplitINVc_PasteToArtCode(var record CrossINVc);

global
function Boolean SplitINDClassFromArtCodeEFAfter(Integer wn,Integer changedf)
begin
  record SplitINVc SplitINr;

  if (changedf!=0) then begin  
    GetWindowRecord(wn,SplitINr);
    SplitINVc_PasteFromArtCode(SplitINr);
    PutWindowRecord(wn,SplitINr);
  end;  
  SplitINDClassFromArtCodeEFAfter = true;
  return;
end;

global
function Boolean SplitINDClassToArtCodeEFAfter(Integer wn,Integer changedf)
begin
  record SplitINVc SplitINr;

  if (changedf!=0) then begin  
    GetWindowRecord(wn,SplitINr);
    SplitINVc_PasteToArtCode(SplitINr);
    PutWindowRecord(wn,SplitINr);
  end;  
  SplitINDClassToArtCodeEFAfter = true;
  return;
end;

global
function Boolean SplitINDClassAfterEditField(Integer wn,string fieldname,Integer fn,Integer rownr,Integer changed)
begin
  Boolean res;

  switch (fieldname) begin
    case "FromArtCode": res = SplitINDClassFromArtCodeEFAfter(wn,changed);
    case "ToArtCode": res = SplitINDClassToArtCodeEFAfter(wn,changed);
  end;
  SplitINDClassAfterEditField = res;
  return;
end;
