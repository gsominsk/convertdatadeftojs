
function Boolean IRDClassCodeEFAfter(Integer wn,Integer changed)
BEGIN
  Boolean res;
  record IRVc IRr;
  record IntVc Intr;
  
  if (changed!=0) then begin
    res = true;
    DeselectWindow(wn,false);
    GetWindowRecord(wn,IRr);
    Intr.Code = IRr.Code;
    if (ReadFirstMain(Intr,1,true)) then begin
      IRr.Comment = Intr.Comment;
    end;
    PutWindowRecord(wn,IRr);        
  end;
  IRDClassCodeEFAfter = res;
  RETURN;
END;

global
function Boolean IRDClassAfterEditField(Integer wn,string fieldname,Integer fn, Integer rownr,Integer changed)
BEGIN
  Boolean res;

  switch (fieldname) begin
    case "Code": res = IRDClassCodeEFAfter(wn,changed);
  end;
  IRDClassAfterEditField = res;
  RETURN;
END;

