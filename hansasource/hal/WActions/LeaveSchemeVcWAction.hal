function Boolean LeaveSchemeDClassActTypeEFAfter(Integer wn,Integer rownr,Boolean changedf)
begin
  record LeaveSchemeVc LSr;
  row LeaveSchemeVc LSrw;
  record ActTypeVc ATr;
  Boolean res;
  
  res = true;
  if (changedf) then begin
    GetWindowRecord(wn,LSr);
    MatRowGet(LSr,rownr,LSrw);
    ATr.Code = LSrw.ActType;
    ReadFIrstMain(ATr,1,true);
    LSrw.Comment = ATr.Comment;
    MatRowPut(LSr,rownr,LSrw);
    PutWindowRecord(wn,LSr);
  end;
  LeaveSchemeDClassActTypeEFAfter = res;
  return;
end;

global
function Boolean LeaveSchemeDClassAfterEditField(Integer wn,string fieldname,Integer fn, Integer rownr,Integer changed)
begin
  Boolean res;

  switch (fieldname) begin
    case "ActType": res = LeaveSchemeDClassActTypeEFAfter(wn,rownr,changed!=0);
  end;
  LeaveSchemeDClassAfterEditField = res;
  return;
end;
