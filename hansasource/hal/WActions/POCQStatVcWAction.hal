function Boolean POCQStatDClassVECodeEFAfter(Integer wn,Boolean changedf)
BEGIN
  Boolean res;
  record POCQStatVc POCQStatr;
  record CUVc VEr;

  res = true;
  if (changedf) then begin
    GetWindowRecord(wn,POCQStatr);
    VEr.Code = POCQStatr.VECode;
    if (ReadFirstMain(VEr,1,true)) then begin
      POCQStatr.Name = VEr.Name;
      PutWindowRecord(wn,POCQStatr);    
    end;
  end;
  POCQStatDClassVECodeEFAfter = res;
  RETURN;
END;

function Boolean POCQStatDClassTenderEFAfter(Integer wn,Boolean changedf)
BEGIN
  Boolean res;
  record POCQStatVc POCQStatr;
  record TenderVc Tenderr;

  res = true;
  if (changedf) then begin
    GetWindowRecord(wn,POCQStatr);
    Tenderr.Code = POCQStatr.Tender;
    if (ReadFirstMain(Tenderr,1,true)) then begin
      POCQStatr.Comment = Tenderr.Comment;
      PutWindowRecord(wn,POCQStatr);    
    end;
  end;
  POCQStatDClassTenderEFAfter = res;
  RETURN;
END;

global
function Boolean POCQStatDClassAfterEditField(Integer wn,string fieldname,Integer fn, Integer rownr,Integer changed)
BEGIN
  Boolean res;

  switch (fieldname) begin
    case "VECode": res = POCQStatDClassVECodeEFAfter(wn,changed!=0);
    case "Tender": res = POCQStatDClassTenderEFAfter(wn,changed!=0);
  end;
  POCQStatDClassAfterEditField = res;
  RETURN;
END;
