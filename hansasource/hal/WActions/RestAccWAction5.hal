remote procedure RestAccSumup(var record RestAccVc,string);
remote function Boolean RestAccVc_BeforeGuestCode(var record RestAccVc,var string);
external procedure RestAccDClassPasteItemButton(Integer);

global
procedure RestAccDClassPasteItem151()
BEGIN
  RestAccDClassPasteItemButton(151);
  RETURN;
END;

global
procedure RestAccDClassPasteItem152()
BEGIN
  RestAccDClassPasteItemButton(152);
  RETURN;
END;

global
procedure RestAccDClassPasteItem153()
BEGIN
  RestAccDClassPasteItemButton(153);
  RETURN;
END;

global
procedure RestAccDClassPasteItem154()
BEGIN
  RestAccDClassPasteItemButton(154);
  RETURN;
END;

global
procedure RestAccDClassPasteItem155()
BEGIN
  RestAccDClassPasteItemButton(155);
  RETURN;
END;

global
procedure RestAccDClassPasteItem156()
BEGIN
  RestAccDClassPasteItemButton(156);
  RETURN;
END;

global
procedure RestAccDClassPasteItem157()
BEGIN
  RestAccDClassPasteItemButton(157);
  RETURN;
END;

global
procedure RestAccDClassPasteItem158()
BEGIN
  RestAccDClassPasteItemButton(158);
  RETURN;
END;

global
procedure RestAccDClassPasteItem159()
BEGIN
  RestAccDClassPasteItemButton(159);
  RETURN;
END;

global
procedure RestAccDClassPasteItem160()
BEGIN
  RestAccDClassPasteItemButton(160);
  RETURN;
END;

global
procedure RestAccDClassPasteItem161()
BEGIN
  RestAccDClassPasteItemButton(161);
  RETURN;
END;

global
procedure RestAccDClassPasteItem162()
BEGIN
  RestAccDClassPasteItemButton(162);
  RETURN;
END;

global
procedure RestAccDClassPasteItem163()
BEGIN
  RestAccDClassPasteItemButton(163);
  RETURN;
END;

global
procedure RestAccDClassPasteItem164()
BEGIN
  RestAccDClassPasteItemButton(164);
  RETURN;
END;

global
procedure RestAccDClassPasteItem165()
BEGIN
  RestAccDClassPasteItemButton(165);
  RETURN;
END;

global
procedure RestAccDClassPasteItem166()
BEGIN
  RestAccDClassPasteItemButton(166);
  RETURN;
END;

global
procedure RestAccDClassPasteItem167()
BEGIN
  RestAccDClassPasteItemButton(167);
  RETURN;
END;

global
procedure RestAccDClassPasteItem168()
BEGIN
  RestAccDClassPasteItemButton(168);
  RETURN;
END;

global
procedure RestAccDClassPasteItem169()
BEGIN
  RestAccDClassPasteItemButton(169);
  RETURN;
END;

global
procedure RestAccDClassPasteItem170()
BEGIN
  RestAccDClassPasteItemButton(170);
  RETURN;
END;

global
procedure RestAccDClassPasteItem171()
BEGIN
  RestAccDClassPasteItemButton(171);
  RETURN;
END;

global
procedure RestAccDClassPasteItem172()
BEGIN
  RestAccDClassPasteItemButton(172);
  RETURN;
END;

global
procedure RestAccDClassPasteItem173()
BEGIN
  RestAccDClassPasteItemButton(173);
  RETURN;
END;

global
procedure RestAccDClassPasteItem174()
BEGIN
  RestAccDClassPasteItemButton(174);
  RETURN;
END;

global
procedure RestAccDClassPasteItem175()
BEGIN
  RestAccDClassPasteItemButton(175);
  RETURN;
END;

global
procedure RestAccDClassPasteItem176()
BEGIN
  RestAccDClassPasteItemButton(176);
  RETURN;
END;

global
procedure RestAccDClassPasteItem177()
BEGIN
  RestAccDClassPasteItemButton(177);
  RETURN;
END;

global
procedure RestAccDClassPasteItem178()
BEGIN
  RestAccDClassPasteItemButton(178);
  RETURN;
END;

global
procedure RestAccDClassPasteItem179()
BEGIN
  RestAccDClassPasteItemButton(179);
  RETURN;
END;

global
procedure RestAccDClassPasteItem180()
BEGIN
  RestAccDClassPasteItemButton(180);
  RETURN;
END;

global
procedure RestAccDClassPasteItem181()
BEGIN
  RestAccDClassPasteItemButton(181);
  RETURN;
END;

global
procedure RestAccDClassPasteItem182()
BEGIN
  RestAccDClassPasteItemButton(182);
  RETURN;
END;

global
procedure RestAccDClassPasteItem183()
BEGIN
  RestAccDClassPasteItemButton(183);
  RETURN;
END;

global
procedure RestAccDClassPasteItem184()
BEGIN
  RestAccDClassPasteItemButton(184);
  RETURN;
END;

global
procedure RestAccDClassPasteItem185()
BEGIN
  RestAccDClassPasteItemButton(185);
  RETURN;
END;

global
procedure RestAccDClassPasteItem186()
BEGIN
  RestAccDClassPasteItemButton(186);
  RETURN;
END;

global
procedure RestAccDClassPasteItem187()
BEGIN
  RestAccDClassPasteItemButton(187);
  RETURN;
END;

global
procedure RestAccDClassPasteItem188()
BEGIN
  RestAccDClassPasteItemButton(188);
  RETURN;
END;

global
procedure RestAccDClassPasteItem189()
BEGIN
  RestAccDClassPasteItemButton(189);
  RETURN;
END;

global
procedure RestAccDClassPasteItem190()
BEGIN
  RestAccDClassPasteItemButton(190);
  RETURN;
END;

global
procedure RestAccDClassPasteItem191()
BEGIN
  RestAccDClassPasteItemButton(191);
  RETURN;
END;

global
procedure RestAccDClassPasteItem192()
BEGIN
  RestAccDClassPasteItemButton(192);
  RETURN;
END;

global
procedure RestAccDClassPasteItem193()
BEGIN
  RestAccDClassPasteItemButton(193);
  RETURN;
END;

global
procedure RestAccDClassPasteItem194()
BEGIN
  RestAccDClassPasteItemButton(194);
  RETURN;
END;

global
procedure RestAccDClassPasteItem195()
BEGIN
  RestAccDClassPasteItemButton(195);
  RETURN;
END;

global
procedure RestAccDClassPasteItem196()
BEGIN
  RestAccDClassPasteItemButton(196);
  RETURN;
END;

global
procedure RestAccDClassPasteItem197()
BEGIN
  RestAccDClassPasteItemButton(197);
  RETURN;
END;

global
procedure RestAccDClassPasteItem198()
BEGIN
  RestAccDClassPasteItemButton(198);
  RETURN;
END;

global
procedure RestAccDClassPasteItem199()
BEGIN
  RestAccDClassPasteItemButton(199);
  RETURN;
END;

global
procedure RestAccDClassPasteItem200()
BEGIN
  RestAccDClassPasteItemButton(200);
  RETURN;
END;

global
procedure RestAccDClassPasteItem201()
BEGIN
  RestAccDClassPasteItemButton(201);
  RETURN;
END;

global
procedure RestAccDClassPasteItem202()
BEGIN
  RestAccDClassPasteItemButton(202);
  RETURN;
END;

global
procedure RestAccDClassPasteItem203()
BEGIN
  RestAccDClassPasteItemButton(203);
  RETURN;
END;

global
procedure RestAccDClassPasteItem204()
BEGIN
  RestAccDClassPasteItemButton(204);
  RETURN;
END;

global
procedure RestAccDClassPasteItem205()
BEGIN
  RestAccDClassPasteItemButton(205);
  RETURN;
END;

global
procedure RestAccDClassPasteItem206()
BEGIN
  RestAccDClassPasteItemButton(206);
  RETURN;
END;

global
procedure RestAccDClassPasteItem207()
BEGIN
  RestAccDClassPasteItemButton(207);
  RETURN;
END;

global
procedure RestAccDClassPasteItem208()
BEGIN
  RestAccDClassPasteItemButton(208);
  RETURN;
END;

global
procedure RestAccDClassPasteItem209()
BEGIN
  RestAccDClassPasteItemButton(209);
  RETURN;
END;

global
procedure RestAccDClassPasteItem210()
BEGIN
  RestAccDClassPasteItemButton(210);
  RETURN;
END;

global
procedure RestAccDClassPasteItem211()
BEGIN
  RestAccDClassPasteItemButton(211);
  RETURN;
END;

global
procedure RestAccDClassPasteItem212()
BEGIN
  RestAccDClassPasteItemButton(212);
  RETURN;
END;

global
procedure RestAccDClassPasteItem213()
BEGIN
  RestAccDClassPasteItemButton(213);
  RETURN;
END;

global
procedure RestAccDClassPasteItem214()
BEGIN
  RestAccDClassPasteItemButton(214);
  RETURN;
END;

global
procedure RestAccDClassPasteItem215()
BEGIN
  RestAccDClassPasteItemButton(215);
  RETURN;
END;

global
procedure RestAccDClassPasteItem216()
BEGIN
  RestAccDClassPasteItemButton(216);
  RETURN;
END;

global
procedure RestAccDClassPasteItem217()
BEGIN
  RestAccDClassPasteItemButton(217);
  RETURN;
END;

global
procedure RestAccDClassPasteItem218()
BEGIN
  RestAccDClassPasteItemButton(218);
  RETURN;
END;

global
procedure RestAccDClassPasteItem219()
BEGIN
  RestAccDClassPasteItemButton(219);
  RETURN;
END;

global
procedure RestAccDClassPasteItem220()
BEGIN
  RestAccDClassPasteItemButton(220);
  RETURN;
END;

global
procedure RestAccDClassPasteItem221()
BEGIN
  RestAccDClassPasteItemButton(221);
  RETURN;
END;

global
procedure RestAccDClassPasteItem222()
BEGIN
  RestAccDClassPasteItemButton(222);
  RETURN;
END;

global
procedure RestAccDClassPasteItem223()
BEGIN
  RestAccDClassPasteItemButton(223);
  RETURN;
END;

global
procedure RestAccDClassPasteItem224()
BEGIN
  RestAccDClassPasteItemButton(224);
  RETURN;
END;

global
procedure RestAccDClassPasteItem225()
BEGIN
  RestAccDClassPasteItemButton(225);
  RETURN;
END;

global
procedure RestAccDClassPasteItem226()
BEGIN
  RestAccDClassPasteItemButton(226);
  RETURN;
END;

global
procedure RestAccDClassPasteItem227()
BEGIN
  RestAccDClassPasteItemButton(227);
  RETURN;
END;

global
procedure RestAccDClassPasteItem228()
BEGIN
  RestAccDClassPasteItemButton(228);
  RETURN;
END;

global
procedure RestAccDClassPasteItem229()
BEGIN
  RestAccDClassPasteItemButton(229);
  RETURN;
END;

global
procedure RestAccDClassPasteItem230()
BEGIN
  RestAccDClassPasteItemButton(230);
  RETURN;
END;

global
procedure RestAccDClassPasteItem231()
BEGIN
  RestAccDClassPasteItemButton(231);
  RETURN;
END;

global
procedure RestAccDClassPasteItem232()
BEGIN
  RestAccDClassPasteItemButton(232);
  RETURN;
END;

global
procedure RestAccDClassPasteItem233()
BEGIN
  RestAccDClassPasteItemButton(233);
  RETURN;
END;

global
procedure RestAccDClassPasteItem234()
BEGIN
  RestAccDClassPasteItemButton(234);
  RETURN;
END;

global
procedure RestAccDClassPasteItem235()
BEGIN
  RestAccDClassPasteItemButton(235);
  RETURN;
END;

global
procedure RestAccDClassPasteItem236()
BEGIN
  RestAccDClassPasteItemButton(236);
  RETURN;
END;

global
procedure RestAccDClassPasteItem237()
BEGIN
  RestAccDClassPasteItemButton(237);
  RETURN;
END;

global
procedure RestAccDClassPasteItem238()
BEGIN
  RestAccDClassPasteItemButton(238);
  RETURN;
END;

global
procedure RestAccDClassPasteItem239()
BEGIN
  RestAccDClassPasteItemButton(239);
  RETURN;
END;

global
procedure RestAccDClassPasteItem240()
BEGIN
  RestAccDClassPasteItemButton(240);
  RETURN;
END;

global
function Boolean RestAccDClassBeforeEditField(Integer wn,string fieldname,Integer fn, Integer rownr)
BEGIN
  Boolean res;
  record RestAccVc RestAccr;
  Integer nwn;
  string 40 psname;

  switch (fieldname) begin  
    case "GuestCode": 
      GetWindowRecord(wn,RestAccr);
      if (RestAccVc_BeforeGuestCode(RestAccr,psname)) then begin
        if (nonblank(psname)) then begin
          nwn = OpenPasteWindow(wn,psname,"");
        end;
      end;
  end;
  RestAccDClassBeforeEditField = res;
  RETURN;
END;

global
procedure RestAccToolKeyPadExact()
BEGIN
  Integer wn;
  record RestAccVc RestAccr;
  
  wn = CurWindow;
  KeyPadEnter(wn);
  GetWindowRecord(wn,RestAccr);
  WindowDeactivatefield(wn);
  RestAccr.CashValue = RestAccr.CashValue + RestAccr.RemValue;
  RestAccSumup(RestAccr,"");
  PutWindowRecord(wn,RestAccr);
  RETURN;
END;  
  
global
function Boolean RestPMOtherPayVClassOnOpenWindow(Integer wn)
begin
  record LocalMachineBlock LMb;
  record RestPMBlock RestPMb;
  row RestPMBlock RestPMbrw;
  Integer i,rwcnt,pmcnt;
  
  BlockLoad(RestPMb);
  BlockLoad(LMb);
  rwcnt = MatRowCnt(RestPMb);
  pmcnt = 1;
  for (i=0;i<rwcnt;i=i+1) begin
    MatRowGet(RestPMb,i,RestPMbrw);
    if (RestPMbrw.MachineName==LMb.LocalMachineCode) then begin
      PutWindowString(wn,"PMCode" & pmcnt,RestPMbrw.PMCode);
      PutWindowString(wn,"PMCodeLabel" & pmcnt,RestPMbrw.Label);
      PutWindowString(wn,"rowstp" & pmcnt,RestPMbrw.rowstp);
      pmcnt = pmcnt + 1;
    end;
  end;
  
  RestPMOtherPayVClassOnOpenWindow = false;
  return;
end;

global
procedure DrawModifierButtons(var integer ht)
begin
  record ModifiersVc Modifiersr;
  row ModifiersVc Modifiersrw;
  Integer rw,rwc;
  record RcVc RepSpec;
  real h,h2,v,vs,v2;
  Integer wn,mwn;
  
  wn = CurWindow;
  if (GetWindowClass(wn)=="SelectModifiersWClass") then begin
    GetWindowRecord(wn,RepSpec);
    h = 30; h2 = 200; v = 10; v2 = 40; v = 10; ht = 0; vs = 50;
    Modifiersr.Code = RepSpec.f1;
    if (ReadFirstMain(Modifiersr,1,true)) then begin
      rwc = MatRowCnt(Modifiersr);
      for (rw = 0; rw <rwc; rw= rw+1) begin
        MatRowGet(Modifiersr,rw,Modifiersrw);
        ColourPushButtonTag(h,v,h+h2,v+v2,"ButtonPasteSpecItem",Modifiersrw.Name,1,Modifiersr.Code & "," & Modifiersrw.Item);
        ht = ht + 50;
        v = v + vs;
      end;
    end;
  end;
  return;
end;

global
function Boolean SelectModifiersWClassOnOpenWindow(Integer wn)
begin
  Integer mwn;
  
  mwn = MotherWindow(wn);
  PutWindowString(wn,"touchscreenwindowprintgroupcode",GetWindowString(mwn,"touchscreenwindowprintgroupcode"));
  return;
end;

global
procedure OpenSelectModifiersWClass(Integer mwn,string code)
begin
  Integer nwn;
  record RcVc RepSpec;

  RepSpec.f1 = code;
  nwn = OpenWindow("SelectModifiersWClass",1,mwn,"","",RepSpec);
  if (nwn>0) then begin
    PutWindowRecord(nwn,RepSpec);
  end;
  return;
end;

global
function Boolean SelectModifiers2WClassOnOpenWindow(Integer wn)
begin
  Integer mwn;
  
  mwn = MotherWindow(wn);
  PutWindowString(wn,"touchscreenwindowprintgroupcode",GetWindowString(mwn,"touchscreenwindowprintgroupcode"));
  return;
end;

global
procedure OpenSelectModifiers2WClass(Integer mwn,string code)
begin
  Integer nwn;
  record RcVc RepSpec;
  record ModifiersVc Modifiersr;
  row ModifiersVc Modifiersrw;
  Integer i,rwcnt;
  LongInt lastgroup;

  RepSpec.f1 = code;
  nwn = OpenWindow("SelectModifiers2WClass",1,mwn,"","",RepSpec);
  if (nwn>0) then begin
    if (ReadFirstMain(Modifiersr,1,true)) then begin
      for (i=0;i<rwcnt;i=i+1) begin
        MatRowGet(Modifiersr,i,Modifiersrw);
        if (lastgroup!=Modifiersrw.Group) then begin
          PutWindowInteger(nwn,"SelectModifiers2WClass" & Modifiersrw.Group,-1);
        end;
        lastgroup = Modifiersrw.Group;
      end;
    end;
    PutWindowRecord(nwn,RepSpec);
  end;
  return;
end;
