external function string 255 GetMachineGroup(string);

procedure MachineHoursChangesDClassInventoryNrEFAfter(integer wn,Boolean changedf)
begin
  record MachineHoursChangesVc MachineHoursChangesr;
  record AT2UnitVc AT2Unitr;
  integer i,rw;

  if (changedf) then begin
    GetWindowRecord(wn,MachineHoursChangesr);
    AT2Unitr.InventoryNr = MachineHoursChangesr.InventoryNr;
    ReadFirstMain(AT2Unitr,1,true);
    MachineHoursChangesr.Description = AT2Unitr.Description;
    PutWindowRecord(wn,MachineHoursChangesr);
  end;
  return;
end;

global
function boolean MachineHoursChangesDClassAfterEditField(Integer wn,string fieldname,Integer fn, Integer rownr,Integer changed)
begin

  switch (fieldname) begin
    case "InventoryNr": MachineHoursChangesDClassInventoryNrEFAfter(wn,changed!=0);
  end;
  MachineHoursChangesDClassAfterEditField = true;
  return;
end;
