function Boolean PrPlanMachinesTClassATCodeEFAfter(Integer wn,Integer rownr,Boolean changedf)begin  record PrPlanMachinesBlock PlanMachinesBl;  row PrPlanMachinesBlock PlanMachinesBlrw;  record AT2UnitVc AT2Unitr;  if (changedf) then begin    if (rownr>=0) then begin      GetWindowRecord(wn,PlanMachinesBl);      MatRowGet(PlanMachinesBl,rownr,PlanMachinesBlrw);      AT2Unitr.InventoryNr = PlanMachinesBlrw.ATCode;      if ReadFirstMain(AT2Unitr,1,true) then begin        PlanMachinesBlrw.ATName = AT2Unitr.Description;      end else begin        PlanMachinesBlrw.ATName = "";      end;      MatRowPut(PlanMachinesBl,rownr,PlanMachinesBlrw);      PutWindowRecord(wn,PlanMachinesBl);    end;  end;  PrPlanMachinesTClassATCodeEFAfter = true;  return;end;globalfunction Boolean PrPlanMachinesTClassAfterEditField(Integer wn,string fieldname,Integer fn, Integer rownr,Integer changed)begin  Boolean res;  switch (fieldname) begin    case "ATCode": res = PrPlanMachinesTClassATCodeEFAfter(wn,rownr,changed!=0);  end;  PrPlanMachinesTClassAfterEditField = res;  return;end;