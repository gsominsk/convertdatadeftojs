function Boolean MailTextDClassRegisterEFAfter(Integer wn,Boolean changedf)
begin
  Boolean res;
  record MailTextVc MailTextr;
  
  res = true;
  if (changedf) then begin
    DeselectWindow(wn,false);
    GetWindowRecord(wn,MailTextr);
    MailTextr.FileName = StringSetFromString(-3,MailTextr.Register);
    PutWindowRecord(wn,MailTextr);
  end;
  MailTextDClassRegisterEFAfter = res;
  return;
end;

global
function Boolean MailTextDClassAfterEditField(Integer wn,string fieldname,Integer fn,Integer rownr,Integer changed)
begin
  Boolean res;
  
  res = true;
  switch (fieldname) begin
    case "Register": res = MailTextDClassRegisterEFAfter(wn,changed!=0);
  end;
  MailTextDClassAfterEditField = res;
  return;
end;
