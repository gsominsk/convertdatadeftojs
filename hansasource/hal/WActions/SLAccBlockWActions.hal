/* SLAccBlockWActions.hal */

global
function Boolean SLAccTClassOnOKWindow(Integer wn)
begin
  record SLAccBlock SLAccBlk;
  row SLAccBlock SLAccBlkrw,SLAccBlk2rw;
  Boolean res;
  Integer i,j,rwcnt;

  res = true;
  GetWindowRecord(wn,SLAccBlk);
  rwcnt = MatRowCnt(SLAccBlk);
  for (i=0; i<rwcnt; i=i+1) begin
    MatRowGet(SLAccBlk,i,SLAccBlkrw);
    for (j=0; j<rwcnt; j=j+1) begin
      MatRowGet(SLAccBlk,j,SLAccBlk2rw);
      if (j!=i) then begin 
        if (SLAccBlk2rw.AccNumber==SLAccBlkrw.AccNumber) then begin 
          MessageBox(34220,": " & SLAccBlk2rw.AccNumber);
          WindowFieldGoto(wn,SLAccBlk,j,"AccNumber",true);
          res = -1;
          goto LSLAccTClassOnOKWindow;          
        end;
      end;
    end;
  end;
LSLAccTClassOnOKWindow:;
  SLAccTClassOnOKWindow = res;
  return;
end;
