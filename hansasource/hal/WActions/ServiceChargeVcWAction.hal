

function Boolean ServiceChargeDClassMachineCodeEFAfter(Integer wn,Boolean changedf)
BEGIN
  record ServiceChargeVc ServiceCharger;
  record LocalMachineVc LMr;
  
  if (changedf) then begin
    GetWindowRecord(wn,ServiceCharger);
    LMr.Code = ServiceCharger.MachineCode;
    if (ReadFirstMain(LMr,1,true)) then begin end;
    ServiceCharger.Comment = LMr.Comment;
    PutWindowRecord(wn,ServiceCharger);
  end; 
  ServiceChargeDClassMachineCodeEFAfter = true;
  return;
end;

global
updating function Boolean ServiceChargeDClassAfterEditField(Integer wn,string fieldname,Integer fn, Integer rownr,Integer changed)
BEGIN
  Boolean res;

  switch (fieldname) begin
    case "MachineCode": res = ServiceChargeDClassMachineCodeEFAfter(wn,changed!=0);
  end;
  ServiceChargeDClassAfterEditField = res;
  RETURN;
END;  
