
global
function Boolean ForkLiftSystemStatus(string location)
BEGIN
  Boolean res;
  record LocationVc Locr;

  res = true;
  Locr.Code = location;
  ReadFirstMain(Locr,1,true);
  if ((Locr.RequirePos!=0) and (Locr.WHMForkLiftSystem!=0)) then begin
    res = false; 
  end;
  ForkLiftSystemStatus = res;
  RETURN;
END;

global
function Boolean MainWHMTClassActiveEditField(Integer wn,string fieldname,Integer fn,Integer wnst,Integer rownr,Integer changed)
BEGIN
  Boolean res;
  record MainWHMBlock MainWHMb;

  GetWindowRecord(wn,MainWHMb);
  res = ForkLiftSystemStatus(MainWHMb.Location);
  if (res==false) then begin
    MessageBox(1728,"");
  end;  
  MainWHMTClassActiveEditField = res;
  RETURN;
END;

