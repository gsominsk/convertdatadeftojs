function Boolean HCUDDClassCUCOdeEFAfter(Integer wn,Boolean changedf)
begin
  Boolean res;
  record HCUDVc HCUDr;
  record CUVc CUr;

  res = true;
  if (changedf) then begin
    GetWindowRecord(wn,HCUDr);
    CUr.Code = HCUDr.CUCode;
    ReadFIrstMain(CUr,1,true);
    HCUDr.CUName = CUr.Name;
    PutWindowRecord(wn,HCUDr);
  end;
  HCUDDClassCUCOdeEFAfter = res;
  return;
end;

global
function Boolean HCUDDClassAfterEditField(Integer wn,string fieldname,Integer fn, Integer rownr,Integer changed)
begin
  Boolean res;

  switch (fieldname) begin
    case "CUCode": res = HCUDDClassCUCOdeEFAfter(wn,changed!=0);
  end;
  HCUDDClassAfterEditField = res;
  return;
end;
