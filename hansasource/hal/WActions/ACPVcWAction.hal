
function Boolean ACPDClassArtCodeEFAfter(Integer wn,Boolean changedf)
begin  
  record ACPVc ACPr;
  record INVc INr;

  if (changedf) then begin
    GetWindowRecord(wn,ACPr);
    INr.Code = ACPr.ArtCode;
    ReadFirstMain(INr,1,true);
    ACPr.ArtName = INr.Name;
    PutWindowRecord(wn,ACPr);
  end;
  ACPDClassArtCodeEFAfter = true;
  return;
end;

global
function Boolean ACPDClassAfterEditField(Integer wn,string fieldname,Integer fn, Integer rownr,Integer changed)
begin
  Boolean res;

  switch (fieldname) begin
    case "ArtCode": res = ACPDClassArtCodeEFAfter(wn,changed!=0);
  end;
  ACPDClassAfterEditField = res;
  return;
end;
