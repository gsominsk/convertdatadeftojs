function Boolean TJGIDClassCodeEFAfter(Integer wn,Boolean changedf)
BEGIN
  Boolean res;
  record TJGIVc TJGIr;
  record EGVc EGr;

  res = true;
  if (changedf) then begin
    GetWindowRecord(wn,TJGIr);
    EGr.Code = TJGIr.Code;
    if (ReadFirstMain(EGr,1,true)) then begin
      TJGIr.Name = EGr.Comment;
      PutWindowRecord(wn,TJGIr);    
    end;
  end;
  TJGIDClassCodeEFAfter = res;
  RETURN;
END;

global
function Boolean TJGIDClassAfterEditField(Integer wn,string fieldname,Integer fn, Integer rownr,Integer changed)
BEGIN
  Boolean res;

  switch (fieldname) begin
    case "Code": res = TJGIDClassCodeEFAfter(wn,changed!=0);
  end;
  TJGIDClassAfterEditField = res;
  RETURN;
END;
