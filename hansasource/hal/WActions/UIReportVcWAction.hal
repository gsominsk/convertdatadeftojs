function Boolean UIReportDClassCodeEFAfter(Integer wn,Boolean changedf)
begin
  record UIReportVc UIRr;
  record RepGenVc RGr;

  if (changedf) then begin
    GetWindowRecord(wn,UIRr);    
    RGr.Code = UIRr.Code;
    ReadFirstMain(RGr,1,true);
    UIRr.Comment = RGr.Comment;
    PutWindowRecord(wn,UIRr);
  end;
  UIReportDClassCodeEFAfter = true;
  return;
end;

global
function Boolean UIReportDClassAfterEditField(Integer wn,string fieldname,Integer fn, Integer rownr,Integer changed)
begin
  Boolean res;

  switch (fieldname) begin
    case "Code": res = UIReportDClassCodeEFAfter(wn,changed!=0);
  end;
  UIReportDClassAfterEditField = res;
  return;
end;
