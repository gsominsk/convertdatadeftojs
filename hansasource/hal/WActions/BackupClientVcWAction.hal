
function Boolean BackupClientDClassCustCodeEFAfter(Integer wn,Boolean changedf)
begin
  Boolean res;
  record BackupClientVc BCr;
  record CUVc CUr;
  
  if (changedf) then begin
    res = true;
    DeselectWindow(wn,false);
    GetWindowRecord(wn,BCr);
    CUr.Code = BCr.CustCode;
    if (ReadFirstMain(CUr,1,true)) then begin
      BCr.Name = CUr.Name;
    end;
    PutWindowRecord(wn,BCr);        
  end;
  BackupClientDClassCustCodeEFAfter = res;
  return;
end;

global
function Boolean BackupClientDClassAfterEditField(Integer wn,string fieldname,Integer fn, Integer rownr,Integer changed)
begin
  Boolean res;

  switch (fieldname) begin
    case "CustCode": res = BackupClientDClassCustCodeEFAfter(wn,changed!=0);
  end;
  BackupClientDClassAfterEditField = res;
  return;
end;

