remote function LongInt WHTaxTClassOnOKWindowRemote(record WHTaxBlock,var string,var string,var integer);


//Should be AccBlockCheck but it is called in more places than storing blocks from the interface
global
function Boolean WHTaxTClassOnOKWindow(Integer wn)
begin
  record WHTaxBlock WHTaxb;
  Boolean res;
  string 255 accstr,fieldgoto;
  LongInt err;
  Integer rw;

  res = true;
  GetWindowRecord(wn,WHTaxb);
  err = WHTaxTClassOnOKWindowRemote(WHTaxb,accstr,fieldgoto,rw);
  if (err!=0) then begin
    MessageBox(err,"");
    WindowFieldGoto(wn,WHTaxb,rw,fieldgoto,true);
    res = -1;
    goto LWHTaxBlockCheck;
  end;

LWHTaxBlockCheck:;
  WHTaxTClassOnOKWindow = res;
  return;
end;
