remote updating procedure UpdateChatNameToContacts(record ChatFilterVc);

global
updating function boolean SMSFilterDClassOnOKWindow(Integer wn)
begin
  record ChatFilterVc ChatFilterr;
  DeselectWindow(wn,false);
  GetWindowRecord(wn,ChatFilterr);
  UpdateChatNameToContacts(ChatFilterr);

  SMSFilterDClassOnOKWindow = true;
  return;
end;

global
procedure OpenChatFilterWsm()
begin
  String 255 tstr;
  record ChatFilterVc ChatFilterr;
  
  ChatFilterr.Sign = CurrentUser;
  if (ReadFirstMain(ChatFilterr,1,true)) then begin
  end else begin
    RecordNew(ChatFilterr);
    ChatFilterr.Sign = CurrentUser;
/*  
    tstr = USetStr(20998);
    Trace("",tstr);
*/    
  end;
  OpenWindow("SMSFilterDClass",0,0,"","",ChatFilterr);
  return;
end;
