remote function Boolean ModifiersVc_PasteArtCode(var record ModifiersVc,var string);
remote function Boolean ModifiersVc_PasteItem(var record ModifiersVc,Integer,var string);

function Boolean ModifiersDClassArtCodeEFAfter(Integer wn,Boolean changedf)
begin  
  record ModifiersVc Modifiersr;
  string 255 inwarning;

  if (changedf) then begin
    GetWindowRecord(wn,Modifiersr);
    if (ModifiersVc_PasteArtCode(Modifiersr,inwarning)) then begin
      if (nonblank(inwarning)) then begin
        MessageBox(0,inwarning);
      end;
      PutWindowRecord(wn,Modifiersr);
    end;
  end;
  ModifiersDClassArtCodeEFAfter = true;
  return;
end;

function Boolean ModifiersDClassItemEFAfter(Integer wn,Integer rownr,Boolean changedf)
begin  
  record ModifiersVc Modifiersr;
  string 255 inwarning;

  if (changedf) then begin
    GetWindowRecord(wn,Modifiersr);
    if (ModifiersVc_PasteItem(Modifiersr,rownr,inwarning)) then begin
      if (nonblank(inwarning)) then begin
        MessageBox(0,inwarning);
      end;
      PutWindowRecord(wn,Modifiersr);
    end;
  end;
  ModifiersDClassItemEFAfter = true;
  return;
end;

global
function Boolean ModifiersDClassAfterEditField(Integer wn,string fieldname,Integer fn, Integer rownr,Integer changed)
begin
  Boolean res;

  switch (fieldname) begin
    case "ArtCode": res = ModifiersDClassArtCodeEFAfter(wn,changed!=0);
    case "Item": res = ModifiersDClassItemEFAfter(wn,rownr,changed!=0);
  end;
  ModifiersDClassAfterEditField = res;
  return;
end;
