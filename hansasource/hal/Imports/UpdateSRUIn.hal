global
updating procedure UpdateSRUIn()
BEGIN
  string 255  InLine;
  string 255  srucode;
  record AccVc oldAccr;
  record AccVc Accr;
  Boolean testf,foundf;
  string 200 fracc,toacc;
  
  while (TestEOF()==false) begin
    InLine = ImportField;
    srucode = ImportField;
    if (nonblank(InLine)) then begin
      fracc = FirstInRange(InLine,10);
      toacc = LastInRange(InLine,10);
      ResetLoop(Accr);
      foundf = true;
      Accr.AccNumber = fracc;
      while(LoopMain(Accr,1,foundf)) begin
        if (Left(Accr.AccNumber,len(toacc))>toacc) then begin
          foundf = false;
        end;
        if (foundf) then begin
          if (Accr.SRUCode!=srucode) then begin
            RecordCopy(oldAccr,Accr);
            Accr.SRUCode = srucode;
            if (RecordUpdate(oldAccr,Accr,false)==0) then begin
            end;
          end;
        end;
      end;
      UserTrace(Accr.AccNumber,M4Str);
    end;
    testf = NextImportLine(true); 
  end;  
  RETURN;
END;