/* Haruss80.hal */

begin
  real h,h1,hl,h2,h3,h4,h5,h6,h7,hs,v,vm,l,vs,f,v2,t,es,hm,fs;
  string 255 label;
  
  SetLangMode(LangRussian,"SYRUS",0);

  WindowBegin("Выберите адрес доставки",DelAddrSClass,CGother,RcType);
  SetWRect(240,80,470,298);
  StringList(9,9,200,209);
  FunctionButton(1,"Выбрать","",ToolOK);
  FunctionButton(4,"Закрыть","",ToolClose);
  EndWindow;

  WindowBegin("Панель управления HansaWorld",ComMasterWClass,CGother,RcType);
  UseView(RcVc);
  es = 6;
  SetWRect(0,0,540,174);
  BlackFrame(10,17,312,1,"Модуль$",kFrameShadeNone);
  hm = 40; v=41+15; h2 = 80;
  AddBic(503,504,h=hm,v,ToolCalendar,0,"Календарь");
  AddBic(501,502,h+=h2,v,ToolMail,0,"Почтовый ящик");
  AddBic(623,624,h+=h2,v,ToolTodo,0,"Задачи");
  AddBic(21423,21424,h+=h2,v,ToolConferences,0,"Конференции");
  AddBic(805,806,h+=h2,v,ToolLogin,0, "Вход");
  AddBic(636,736,h+=h2,v,ToolChat,0,"Связаться");
  AddBic(737,738,h+=h2,v,ToolSetup,0, "Настройки");
  h = hm; v=v+73;
  AddBic(632,730,h,v,ToolModule,0,  "Модуль");
  AddBic(29017,29018,h+=h2,v,ToolArchive,0,"Рабочий стол");
  AddBic(731,734,h+=h2,v,ToolReport,0,  "Отчёты");
  AddBic(718,750,h+=h2,v,ToolDocument,0,"Документы");
  AddBic(635,735,h+=h2,v,ToolResources,0,"Ресурсы");
//  AddBic(737,738,h+=h2,v,ToolRoutines,0,  "Процедуры");
  AddBic(701,700,h+=h2,v,ToolRegs,0,  "Регистры");
  AddBic(633,733,h+=h2,v,ToolMaintenance,0,"Обслуживание");
  FunctionButton(1,"Выбрать","",ToolOK);
  FunctionButton(4,"Выход","",ToolClose);
  EndWindow;

  WindowBegin("Действия",PhRoutinesWClass,CGother,RcType);
  UseView(RcVc);
  es = 6;
  SetWRect(20,90,630,479+11*es);
  hm = 40; v=41; h2 = 80;
  AddBic(805,806,h=hm,v,ToolLogin,0, "Вход");
  AddBic(737,738,h+=h2,v,ToolSetup,0, "Настройки");
  AddBic(718,750,h+=h2,v,ToolDocument,0,"Документы");
  h = hm; v=v+73;
  AddBic(632,730,h,v,ToolExport,0,  "Экспорт");
  AddBic(632,730,h+=h2,v,ToolImport,0,  "Импорт");
  AddBic(633,733,h+=h2,v,ToolMaintenance,0,"Обслуживание");
  h = hm; v=v+73;
  AddBic(635,735,h,v,ToolResources,0,"Ресурсы");
  AddBic(636,736,h+=h2,v,ToolChat,0,"Связаться");
  EndWindow;

  WindowBegin("Регистры",RegsWClass,CGother,RcType);
  SetWRect(357,104,620,402);
  Sizeable(-1,100,0,0);
  StringList(20,20,-40,-20);
  FunctionButton(1,"Выбрать","",ToolOK);
  FunctionButton(4,"Закрыть","",ToolClose);
  EndWindow;
  
  WindowBegin("",ErrorClass,CGother,-);
  SetWRect(20,262,20+468,262+68+40);
  WhiteBackground;
  Modality(1);
  WType(1);
  FunctionButton(1,"OK","",0);
//  AddBic(1031,1032,30,84,ToolHelp,0,""); // This should be as a function button, please add it...
//  PushButton(400,82,460,102,0,"OK");
  EndWindow;

  WindowBegin("",RepWClass,CGRepW,RcType);
  SetWRect(20,80,620,550);
  Sizeable(150,150,0,0);

  ToolBar;
//  AddBic(603,604,200,20,ToolAttach,0,"");
  FunctionButton(1,"Вверх","",ToolPrev);
  FunctionButton(2,"Вниз","",ToolNext);
//  FunctionButton(3,"Zoom","",ToolRestore);
  FunctionButton(4,"Закрыть","",ToolClose);
  EndToolBar;

  UseView(RcVc);
  WhiteBackground;
//  ScrollBar(-17,40,-1,-17);
//    SearchField("Поиск");
    ToolBar;
//    EditFieldTL(-225,6,135,"",M4Str,Normal,20,searchstr,false,0);
//    PushButton(-70,5,-10,22,ToolOK,"Поиск");
    EndToolBar;
// Why go back to C? Is there a problem when using Report Generator, or?
  SpecMenuItem("Пересчитать",'r',0);
  SpecMenuItem("Пересчитать и распечатать",'p',1);
  SpecMenuItem("Открыть определение отчета",' ',2);

//  SpecialMenu("Recalculate",'r',0,"RecalculateRepWsm");
//  SpecialMenu("Recalculate and Print",'p',1,"RecalculatePrintRepWsm");
//  SpecialMenu("Reopen Report Specification",' ',2,"ReopenRepWsm");
  EndWindow;

  WindowBegin("Пожалуйста подтвердите",YesNoCancelWClass,CGother,RcType);
  Modality(1);
  UseView(RcVc);
  SetWRect(80,200,400,300);
  Sizeable(-1,-1,0,0);
  h = 20; v = -30;
//  PushButton(h,v,h+80,v+20,1,"Yes");
//  PushButton(h+=100,v,h+80,v+20,4,"No");
//  PushButton(h+=100,v,h+80,v+20,2,"Отмена");
  
  FunctionButton(1,"Да","",1);
  FunctionButton(2,"Нет","",4);
  FunctionButton(4,"Отмена","",2);
  EndWindow;
  
  WindowBegin("Смена пароля",ChngePasswordClass,CGother,RcType);
  SetWRect(64,80,448,257);
  UseView(RcVc);
  ToolBar;
  h = -200;
  HalPushButton(h,5,h+80,25,"ChngePasswordClassCancel","Отмена");
  h = h+92;
  PushButton(h,5,h+80,22,ToolOK,"Сохранить");
  EndToolBar;
//  Modality(1);
  v = 30; vs = 20; h = 160;
  EditFieldTL(h,v, 150,"Сотрудник",   M4Str,ViewOnly,20,ObjStr,false,0);
  EditFieldTL(h,v+=vs, 150,"Старый пароль",   M4Star,Normal,20,AccStr,false,0);
  EditFieldTL(h,v+=vs, 150,"Новый пароль",   M4Star,Normal,20,FirstAcc,false,0);
  EditFieldTL(h,v+=vs, 150,"Повторите новый пароль", M4Star,Normal,20,LastAcc,false,0);
  FunctionButton(1,"Сохранить","",ToolOK);
  FunctionButton(4,"Отмена","",ToolRestore);
  EndWindow;

  WindowBegin("Настройки",SetupClass,CGother,RcType);
  SetWRect(0,104,447,402);
  Sizeable(-1,100,0,0);
  StringList(20,20,-40,-20);
  FunctionButton(1,"Выбрать","",ToolOK);
  FunctionButton(4,"Закрыть","",ToolClose);
  EndWindow;
  
  WindowBegin("Модули",ModWClass,CGother,HBlRecType);
  SetWRect(357,104,620,402);
  Sizeable(-1,100,0,0);
  StringList(20,20,-40,-20);
  FunctionButton(1,"Выбрать","",ToolOK);
  FunctionButton(4,"Закрыть","",ToolClose);
  EndWindow;
  
  WindowBegin("Печать очереди",QueClass,CGother,RcType);
  SetWRect(357,104,620,402);
  Sizeable(-1,-1,0,0);
  StringList(20,20,-40,-20);
  FunctionButton(1,"OK","",ToolOK);
  FunctionButton(4,"Закрыть","",ToolClose);
  EndWindow;
  
  WindowBegin("Отчёты",RsWClass,CGother,RcType);
  SetWRect(357,0,620,100);
  CloseOnCancel;
  Sizeable(-1,100,0,0);
  StringList(20,20,-40,-20);
//  IconList(20,20,-40,-20,0,"");
//  SpecMenuItem("Screen",' ',0);
//  SpecMenuItem("Printer",' ',1);
//  SpecMenuItem("Print Queue",' ',2);
//  SpecMenuItem("File",' ',3);
//  SpecMenuItem("Clipboard",' ',4);
//  SpecialMenu("(-",' ',5,"");
//  SpecMenuItem("Fax",' ',5);
//  SpecMenuItem("Printer Dialog",' ',6);
//  SpecialMenu("(-",' ',7,"");
//  SpecMenuItem("Define Report",' ',8);
//  SpecMenuItem("Remove Page Setup",' ',9);
//  SpecMenuItem("Select Printer",' ',10); // mac only?
  FunctionButton(1,"Выбрать","",ToolOK);
  FunctionButton(4,"Закрыть","",ToolClose);
  EndWindow;

  WindowBegin("Экспорт",EsWClass,CGother,RcType);
  SetWRect(357,104,620,402);
  Sizeable(-1,100,0,0);
  StringList(20,20,-40,-20);
  FunctionButton(1,"Выбрать","",ToolOK);
  FunctionButton(4,"Закрыть","",ToolClose);
  EndWindow;

  WindowBegin("Импорт",IsWClass,CGother,RcType);
  SetWRect(357,104,620,402);
  Sizeable(-1,100,0,0);
  StringList(20,20,-40,-20);
  FunctionButton(1,"Выбрать","",ToolOK);
  FunctionButton(4,"Закрыть","",ToolClose);
  EndWindow;

  WindowBegin("Обслуживание",MsWClass,CGother,RcType);
  SetWRect(357,104,620,402);
  Sizeable(-1,100,0,0);
  StringList(20,20,-40,-20);
  FunctionButton(1,"Выбрать","",ToolOK);
  FunctionButton(4,"Закрыть","",ToolClose);
  EndWindow;

  WindowBegin("Выберите принтер",PrSelClass,CGother,PrintSelType);
  SetWRect(64,80,509,150);
  EditFieldTL(130,10,150,"Принтер",M4UStr,Normal,20,printername,false,PrintGroupSClass);
//  EditFieldTL(130,40,150,"Background File",M4Str,Normal,40,bgfilename,false,0);
  FunctionButton(1,"OK","",ToolOK);
  FunctionButton(4,"Закрыть","",ToolClose);
  EndWindow;
  
  WindowBegin("Вход",LoginClass,CGother,USRowType);
  UseView(USRowVc);
  h2 = 464; v2 = 250;
/*
  if (DisplayLoginButtons) then begin
    v2 = v2 + 100;
  end;
  if (DisplayLoginKeyPad_RUS) then begin
    v2 = v2 + 170;
  end;
*/
  SetWRect(80,90,h2,v2);
  Modality(1);
  v = 6; vs = 25; h = 120; h2 = 320;
//  v = v+LoginShortcuts;
  v = v+35;
  StaticText(35,v+10,"Введите:",false);
  EditFieldTL(h,v+=vs, 150,"Подпись",   M4Code,Normal,60,Name,false,0);
  EditFieldTL(h,v+=vs, 150,"Пароль",   M4Star,Normal,20,Password,false,0);
  vm = v+30;
  v = -30; h = -100;
  FunctionButton(1,"OK","",ToolOK);
  FunctionButton(4,"Выход","",ToolRestore);
  EndWindow;

  WindowBegin("Вход",Login2Class,CGother,USRowType);
  UseView(USRowVc);
  h2 = 464; v2 = 250;
/*
  if (DisplayLoginButtons) then begin
    v2 = v2 + 100;
  end;
  if (DisplayLoginKeyPad_RUS) then begin
    v2 = v2 + 170;
  end;
*/
  SetWRect(80,90,h2,v2);
  Modality(1);
  v = 6; vs = 25; h = 120; h2 = 320;
//  v = v+LoginShortcuts;
  v = v+35;
  StaticText(35,v+10,"Введите:",false);
  EditFieldTL(h,v+=vs, 150,"Подпись",   M4Code,Normal,60,Name,false,0);
  EditFieldTL(h,v+=vs, 150,"Пароль",   M4Star,Normal,20,Password,false,0);
  v = -30; h = -100;
  FunctionButton(1,"OK","",ToolOK);
  FunctionButton(4,"Выход","",ToolRestore);
  EndWindow;

  WindowBegin("",AboutClass,CGother,-);
//  SetWRect(71,80,503,349);
  CloseOnCancel;
if (HansaWorld) then begin
  SetWRect(71,80,583,485);
end else begin
  SetWRect(71,80,500,365);
end;
  WhiteBackground;
  Modality(1);
  WType(1);
  v = -23; h = -120;
  FunctionButton(1,"OK","",ToolOK);
  EndWindow;

  WindowBegin("",ModalErrorClass,CGother,-);
  SetWRect(20,262,20+468,262+68+32);
  WhiteBackground;
  Modality(1);
  WType(1);
  FunctionButton(1,"OK","",0);
  EndWindow;

  WindowBegin("",YesNoClass,CGother,-);
  SetWRect(20,262,20+468,327);
  Modality(1);
  WType(1);
  EndWindow;
  
  WindowBegin("Выберите компанию",CompaniesSClass,CGother,RcType);
//  Modality(1);
  SetWRect(240,80,520,300);
  StringList(9,9,250,170);
  SpecMenuItem("Открыть регистр компаний",' ',0);
  FunctionButton(1,"OK","",ToolOK);
  FunctionButton(4,"Выход","",ToolClose);
  EndWindow;
  
  WindowBegin("Факс",FaxWClass,CGother,RcType);
  SetWRect(20,80,450,191);
  WhiteBackground;
  FunctionButton(4,"Отмена","",ToolClose);
  EndWindow;

  WindowBegin("Документы",DsWClass,CGother,RcType);
  SetWRect(357,104,620,402);
  Sizeable(-1,100,0,0);
  StringList(20,20,-40,-20);
  SpecMenuItem("Принтер",' ',0);
  SpecMenuItem("Очередь печати",' ',1);
  SpecialMenu("(-",' ',2,"");
//  SpecMenuItem("File",' ',2);
  SpecMenuItem("Факс",' ',3);
  SpecialMenu("(-",' ',4,"");
  SpecMenuItem("Определить документ",' ',5);
  SpecMenuItem("Сбросить параметры страницы",' ',6);
  SpecMenuItem("Выбрать принтер",' ',7);
  FunctionButton(1,"Выбрать","",ToolOK);
  FunctionButton(4,"Закрыть","",ToolClose);
  EndWindow;

  WindowBegin("Симулятор Nokia Communicator",CommunicatorBgWClass,CGother,RcType);
  UseView(RcVc);
  SetWRect(120,80,120+640+100,200+120);
  h = -80;
  v = 20;
  l = 70;
  vs = 45;
  PushButton(h,v,h+l,v+vs-3,ToolF1,"");
  v = v+vs;
  PushButton(h,v,h+l,v+vs-3,ToolF2,"");
  v = v+vs;
  PushButton(h,v,h+l,v+vs-3,ToolF3,"");
  v = v+vs;
  PushButton(h,v,h+l,v+vs-3,ToolF4,"");
  v = v+vs+5;
  PushButton(h,v,h+l,v+22,ToolSpecialOps,"Меню");
  EndWindow;

  return;
end;
