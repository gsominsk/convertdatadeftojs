/* mmengipadivrow.hal */


event DefineWindows
begin
  real h,h1,hl,h2,h3,h4,h5,h6,h7,hs,v,vm,l,l2,l3,l4,vs,vs2,f,v2,t,es,hm,hof,fs,i;
  LongInt wn;
  record RcVc RepSpec;
  
  SetLangMode(LangEnglish,"IDENG",0);
  

  WindowBegin("Edit Invoice Row",IVRowDClass,CGother,RcType);
  DynamicWindow;
  UseView(RcVc);
  SetWRect(0,0,320,460);
  Sizeable(-1,-1,0,0);
  ActiveFieldOnNew("f1");    
  iPhoneTopBar;
  h = 105;
  h2 = -105;
  v = 52;
  vs = 38;
  
  wn = CurWindow;
  if (wn>0) then begin
    GetWindowRecord(wn,RepSpec);
  end;

  if (RepSpec.Comparison == kInvoiceRowTypePrepayment) then begin
    ActiveFieldOnNew("FirstVer");
    EditField(h,v,h2,"Prepayment Number",Normal,FirstVer,true,ARPaySClass);                    // FirstVer -> CUPNr  //ARPay2SClass
    EditField(h,v+=vs,h2,"Sum",Normal,vals2,true,0);                    // vals2 -> Sum
  end else begin
    EditField(h,v,h2,"Item",Normal,f1,false,INSClass);                  // f1    -> ArtCode
    EditField(h,v+=vs,h2,"Description",Normal,f2,false,0);              // f2    -> Spec
    EditField(h,v+=vs,h2,"Quantity",Normal,long2,true,0);               // long2 -> Quant
    EditField(h,v+=(vs+vs),h2,"Unit Price",Normal,vals0,true,0); // vals0 -> Price
    EditField(h,v+=vs,h2,"Discount %",Normal,vals1,true,0);               // vals1 -> vRebate
    EditField(h,v+=vs,h2,"Sum",Normal,vals2,true,0);                    // vals2 -> Sum
  end;
  BottomBar;
  EndWindow;
  
  return;
end;


