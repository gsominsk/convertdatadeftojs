/* Haengsvo.hal */

#ifdef HAL
external inner function real VATZoneButtonsLabelsENG(real,real,real,real);

event DefineWindows
begin
  real h,h1,hl,h2,h3,h4,h5,h6,h7,hs,v,vm,l,vs,f,v2,t;

  SetLangMode(LangEnglish,"ENG",2);

  WindowBegin("Service Order",SVODClass,CGview,-);
  SetWRect(20,80,600,360);
  Sizeable(-1,-1,0,0);
  UseView(SVOVc);
  ActiveFieldOnNew("CustCode");  
  FormName(SVOForm);
  vs = 20; h3 = 550;
  Tile(0,70,false,"",CustCode);
  EditField(h=90,v=6, 82,"No.",Normal,SerNr,false,TSerSClass);
  EnterSkip(CustCode);
  EditField(h2=240,v,-40,"Name",Normal,Addr0,false,0);
  EditField(h,vm=(v+=vs),82, "Customer",Normal,CustCode,false,CUSClass);
  TileButton(1,"Date");
  TileButton(2,"Items");
  TileButton(3,"Currency");
  TileButton(4,"Del. Terms");
  TileButton(5,"Inv. Address");
  TileButton(6,"Del. Address");
  TileButton(7,"Activities");
//  CheckBox(h3=h2,vm,0,"Completed",DoneMark);
  Tile(1,210,false,"1",PayDeal);
  EditField(h=90,vm=(v=6), 25,"Pay Terms",Normal,PayDeal,false,PDSClass);
  EditField(h,v+=vs,130,"Our Ref",Normal,OurContact,false,0);
  EditField(h,v+=vs,130,"Attn.",Normal,CustContact,false,ContactSClass);
  EditField(h,v+=vs,130,"Cust. Ord. No.",Normal,CustOrdNr,false,0);
  EditField(h,v+=vs,130,"Order Class",Normal,OrderClass,false,OrderClassSClass);
  EditField(h,v+=vs,130,"Serv. Location",Normal,ServLocation,false,LocationSClass);
  EditField(h2=350,v=vm,100,"Order Date",Normal,TransDate,false,PasteCurDate);
  EditField(h2,v+=vs,100,"Planned Del.",Normal,PlanShip,false,PasteCurDate);
  EditField(h2,v+=vs,100,"Reg. Date",ViewOnly,RegDate,false,0);
  EditField(h2,v+=vs,100,"Reg. Time",ViewOnly,RegTime,false,0);
  EditField(h2,v+=vs,100,"Salesman",Normal,SalesMan,false,UserSClass);
  EditField(h2,v+=vs,100,"Sales Group",Normal,SalesGroup,false,SalesGroupSClass);
  EditField(h,v+=vs,360,"Comment",Normal,Comment1,false,0);
  EditField(h,v+=vs,360,"",Normal,Comment2,false,0);
  EditField(h,v+=vs,360,"",Normal,Comment3,false,0);
  EditField(h,v+=vs,360,"",Normal,Comment4,false,0);
  Pict_Field(-205,8,-35,178,"");
  if (GuiType==kGuiCocoa) then begin
    PushButton(-160,182,-80,202,ToolImagePicker,"Add picture");  
  end;
  EnterSkip(Math);
  Tile(2,120,true,"2",Math);
  CheckBox(20,-20,0,"Completed",DoneMark);
  EditField(270,-21,70,"Customer Purchase Price",ViewOnly ,TotCost,true,0);
  EditField(-133,-21,70,"Our Sales Price",ViewOnly ,TotPrice,true,0);
  v = 24;
  MatrixBegin(3,v,-50,-25,-,200);
  MatTypedRow(stp);
  Flip(0);
  MatCol(t=1,28,"Serial No",0,SerialNr,false,SVOSerSClass);
  EnterSkip(StandProblem);
  Flip(1);
  EnterSkip(ItemType);
  MatCol(t,170,"Item",0,ArtCode,false,INSClass);
/*  MatCol(t,94,"Var",0,VARList,true,VARSClass);*/
  MatCol(t,250,"Qty",0,Quant,true,0);
  MatCol(t=1,300,"Description",0,Spec,false,0);
  MatCol(t=1,-204,"Std.Problem",0,StandProblem,false,StandProblemsSClass);
  MatCol(t,-114,"Max Cost",0,MaxCost,true,0);
  MatCol(t,-24,"V-Cd",0,VATCode,false,VATCodeSClass);
  Flip(2);
  MatCol(t=1,144,"Item Type",0,ItemType,false,SetSClass);
  MatCol(t,-300,"Work Order",0,WOSerNr,false,0);
  MatCol(t,-130,"Invoiced",0,Invd,true,0);
  MatCol(t,-70,"Ship Date",0,PlanShiprw,true,0);
  Flip(3);
  MatCol(t=1,144,"Description",0,Spec,false,0);
  MatCol(t,-180,"Cost of Repair",0,Cost,true,0);
  MatCol(t,-90,"Max Cost",0,MaxCost,true,0);
  Flip(4);
  MatCol(t=1,144,"Description",0,Spec,false,0);
  MatCol(t,-254,"Contract",0,ContractNr,false,COSClass);
  MatCol(t,-194,"A/C",0,SalesAcc,false,AccSClass);
  MatCol(t,-124,"Tag/Object",0,Objects,false,ObjSClass);
  MatCol(t,-24,"No.",0,WOEnum,true,0);
  InsertRowTest;
  DeleteRowTest;
  EndMatrix;
  vs = 20;
  v = 18; VTab(-35,v,-16,v+vs,ToolFlip,1,"A");
  v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,2,"B");
  v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,3,"C");
  v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,4,"D");
  Tile(3,70,false,"3",FrRate);
  vs = 20;
  EditField(h=110,v=6,50,"Currency",Normal,CurncyCode,false,CurncyCodeSClass);
  EditField(h2=295,v,50,"Rate",Normal,FrRate,true,0);
  EditField(h3=360,v,50,":",Normal,ToRateB1,true,0);
  StaticText(h3+60,v+12,"Base Currency 1",false);
  EditField(h,v+=vs,50,"Base Currency 1",Normal,BaseRate1,true,0);
  EditField(h3,v,50,":",Normal,ToRateB2,true,0);
  StaticText(h3+60,v+12,"Base Currency 2",false);
  EditField(h,v+=vs,50,"Base Currency 2",Normal,BaseRate2,true,0);
  Tile(4,90,false,"4",ShipDeal); vs = 20;
  EditField(h=90,v=6,60,"Del. Terms",Normal,ShipDeal,false,ShipDealSClass);
  EditField(h2=270,v,60,"Del. Mode",Normal,ShipMode,false,DMSClass);
  EditField(h3=500,v,60,"Order Class",Normal,OrderClass,false,OrderClassSClass);
  EditField(h,v+=vs,50,"Language",Normal,LangCode,false,LangSClass);
//  EditField(h2,v,100,"Location",Normal,Location,false,LocationSClass);
//  EditField(h,v+=vs,50,"Project",Normal,PRCode,false,PRSClass);
  EditField(h2,v,150,"Invoice To",Normal,InvoiceToCode,false,CUSClass);
  EditField(h3=500,v,60,"Salesman",Normal,SalesMan,false,UserSClass);
  EditField(h,v+=vs,100,"VAT Reg. No.",Normal,VATNr,false,0);
  EditField(h2,v,150,"Tag/Object",Normal,Objects,false,ObjSClass);
  EditField(h3,v,  100,"Branch",Normal,BranchID,false,AllCUSClass);
  EditField(h,v+=vs,70,"Price List",Normal,PriceList,false,PLDefSClass);
  EditField(h2,v,65,"Service Location",Normal,ServLocation,false,LocationSClass);
  Tile(5,220,false,"5",Addr1); vs = 20;
  EditField(h=90,v=6,-20,"Invoice To",Normal,Addr1,false,0);
  EditField(h,v+=vs,-20,"Address",Normal,Addr2,false,0);
  EditField(h,v+=vs,-20,"",Normal,Addr3,false,0);
  EditField(h,v+=vs,-20,"",Normal,InvAddr3,false,0);
  EditField(h,v+=vs,-20,"",Normal,InvAddr4,false,0);
  EditField(h,vm=(v+=vs),150,"Telephone",Normal,Phone,false,0);
  EditField(h,v+=vs,150,"Fax",Normal,Fax,false,0);
  v = VATZoneButtonsLabelsENG(h2=310,v=vm+vs,140,16);
  Tile(6,150,false,"6",ShipAddr0); vs = 20;
  EditField(h=90,v=6,-20,"Delivery",Normal,ShipAddr0,false,0);
  EditField(h,v+=vs,-20,"Address",Normal,ShipAddr1,false,0);
  EditField(h,v+=vs,-20,"",Normal,ShipAddr2,false,0);
  EditField(h,v+=vs,-20,"",Normal,ShipAddr3,false,0);
  EditField(h,v+=vs,-20,"",Normal,DelAddr3,false,0);
  EditField(h,v+=vs,-20,"",Normal,DelAddr4,false,0);
  EditField(h,v+=vs,80,"Address",Normal,DelAddrCode,false,DelAddrSClass);
  EnterSkip(PayDeal);
  Tile(7,350,false,"7",-);
  RecordList2(4,20,-21,-39,"ActVc");
  RlColKey(4,4,"No.",SerNr,false,ActSVOSerNr);
  RlCol(80,80,"Date",TransDate,false);
  RlCol(160,160,"Time",StartTime,false);
  RlCol(230,230,"Cost Time",CostTime,false);
  RlCol(300,300,"Comment",Comment,false);
  SpecialMenu("Service Order Status",'r',0,"SVOStaDsm");
  SpecialMenu("Customer Status",'e',1,"SVOCustStatDsm");
  SpecialMenu("Item Search",'f',2,"ItemSearchDsm");
  SpecialMenu("Create Activity",'c',3,"ActFromSVODsm");
  SpecialMenu("Create Work Orders",' ',4,"WorkOrderSVODsm");
  SpecialMenu("Create Service Stock Transaction",' ',5,"SVGMFromSVODsm");
  SpecialMenu("Create Work Sheet",' ',6,"WorkSheetSVODsm");
  SpecialMenu("Create Invoice",'F',7,"IVFromSVODsm");
  SpecialMenu("Create Items In",' ',8,"OffHireFromSVODsm");
  SpecialMenu("Create Items Out",' ',0,"DispatchFromSVODsm");
  SpecialMenu("Warranty Status Check",'w',0,"WarrantyStatusSVODsm");
  EndWindow;


  return;
end;

  

#endif
