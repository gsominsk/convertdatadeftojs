/* msengipad.hal */

begin
  real h,h1,hl,h2,h3,h4,h5,h6,h7,hs,v,vm,l,vs,vs2,f,v2,t,es,hm,hof,fs;
  string 255 label;
  
  SetLangMode(LangEnglish,"IDENG",0);
    
  WindowBegin("Connect to server",ServerAddressTClass,CGSbl,-);
  WindowTitleSuperscript("Welcome to #HansaWorld Long Product Name#");
  SetBlid(LocalLoginOptBlock);
  SetWRect(0,0,320,418);
  Sizeable(-1,-1,0,0);
  StringList(1,1,-16,-1);
  EndWindow;
  
  WindowBegin("Connect to sample server",DemoServerAddressTClass,CGSbl,-);
  SetBlid(LocalLoginOptBlock);
  SetWRect(0,0,320,418);
  Sizeable(-1,-1,0,0);
  StringList(1,1,-16,-1);
  EndWindow;

  WindowBegin("Specify Server Details",Server2AddressTClass,CGSbl,-);
  SetBlid(LocalLoginOptBlock);
  SetWRect(0,0,320,418);
  Sizeable(-1,-1,0,0);
  WindowHasNoToolbar;
  h = 375; v = 106; vs = 38; vs2 = 20;

  EditField(h,v+=20,100,"Hostname or IP:",Normal,ServerIP,false,0);
  EditField(h,v+=vs,100,"Port:",Normal,ServerPort,false,0);
  HalPushButton(h,v+=(vs+2),h+100,v+30,"ServerAddressConnect","Connect");
  ControlLabel(0,0,0,0,"Connect","SystemFont",17,kTextStyleBold,AdjCenter,patM4ReportsTextBlue);
  v = v+vs;
  StaticText(242,v+=24,"Please enter IP/Hostname and Port for the",false);
  StaticText(282,v+=vs2,"server you want to connect to",false);
  EndWindow;

  WindowBegin("Master Control",iPhoneMasterWClass,CGother,RcType);
  WindowTitleSuperscript("Mobile #Stock#");
  UseView(RcVc);
  es = 6;
  SetWRect(0,0,320,418);
  hm = 47; h2 = 76; v=40; vs = 80;
  h = hm;
  AddBic(1062,1063,h=h,v,ToolTakeStock,0,"New #Stock# Count");
  AddBic(1062,1063,h+=h2,v,ToolStockTakes,0,"#Stock# Counts");
  //AddBic(1060,1061,h+=h2,v,ToolModule,0,"Module");
  AddBic(737,738,h+=h2,v,ToolRoutines,0,"Connection");
  h = hm; v=v+vs;
  //AddBic(1058,1059,h=h,v,ToolDemoPOS,0,"Sell"); // Queue Buster
  //AddBic(1058,1059,h=hm,v,ToolProjects,0,"Projects");
  //AddBic(1058,1059,h+=h2,v,ToolExpenses,0,"Expenses");
  //AddBic(0,0,h+=h2,v,Tool,0,"");
  h = hm; v=v+vs;
  //AddBic(0,0,h=hm,v,Tool,0,"");
  //AddBic(0,0,h+=h2,v,Tool,0,"");
  //AddBic(0,0,h+=h2,v,Tool,0,"");
  h = hm; v=v+vs;
  //AddBic(0,0,h=hm,v,Tool,0,"");
  //AddBic(0,0,h+=h2,v,Tool,0,"");
  //AddBic(0,0,h+=h2,v,Tool,0,"");
  
  //BlackFrame(15,v,312,1,"Module:$",kFrameShadeNone);
  //SpecMenuItem("Stop automatic login",' ',20);
  EndWindow;


  WindowBegin("iPhone",iPhoneBgWClass,CGother,RcType);
  UseView(RcVc);
  SetWRect(120,80,120+320+20,80+480+80);
  h = 170;
  v = -45;
  AddBic(7703,7703,h,v,ToolClose,0,"");
  EndWindow;


  WindowBegin("Routines",RoutinesWClass,CGother,RcType);
  UseView(RcVc);
  es = 6;
  SetWRect(20,90,630,479+11*es);
  hm = 40; v=41; h2 = 80;
  AddBic(805,806,h=hm,v,ToolLogin,0, "Login");
  AddBic(737,738,h+=h2,v,ToolSetup,0, "Settings");
  AddBic(718,750,h+=h2,v,ToolDocument,0,"Documents");
  h = hm; v=v+73;
  AddBic(632,730,h,v,ToolExport,0,  "Exports");
  AddBic(632,730,h+=h2,v,ToolImport,0,  "Imports");
  AddBic(633,733,h+=h2,v,ToolMaintenance,0,"Maintenance");
  h = hm; v=v+73;
  AddBic(635,735,h,v,ToolResources,0,"Resources");
  AddBic(636,736,h+=h2,v,ToolChat,0,"Chat");
  AddBic(807,807,h+=h2,v,ToolAbout,0,"About");
  EndWindow;


  WindowBegin("Registers",RegsWClass,CGother,RcType);
  SetWRect(357,104,620,402);
  Sizeable(-1,-1,0,0);
  StringList(10,10,-40,-10);
  EndWindow;


  WindowBegin("",ErrorClass,CGother,-);
  SetWRect(20,262,20+468,262+68+40);
  WhiteBackground;
  Modality(1);
  WType(1);
  AddBic(1031,1032,30,84,ToolHelp,0,"");
  PushButton(400,82,460,102,0,"OK");
  EndWindow;


  WindowBegin("",RepWClass,CGRepW,RcType);
  SetWRect(20,80,620,550);
  Sizeable(150,150,0,0);

//  ToolBar;
//  AddBic(603,604,200,20,ToolAttach,0,"");
//  EndToolBar;

  UseView(RcVc);
  WhiteBackground;
  //iPhoneTopBar;
  ScrollBar(-17,40,-1,-17);
//    SearchField("Search");
//    ToolBar;
//    EditFieldTL(-225,6,135,"",M4Str,Normal,20,searchstr,false,0);
//    PushButton(-70,5,-10,22,ToolOK,"Search");
//    EndToolBar;
// Why go back to C? Is there a problem when using Report Generator, or?
  SpecMenuItem("Recalculate",'r',0);
  SpecMenuItem("Recalculate and Print",'p',1);
  SpecMenuItem("Reopen Report Specification",' ',2);

//  SpecialMenu("Recalculate",'r',0,"RecalculateRepWsm");
//  SpecialMenu("Recalculate and Print",'p',1,"RecalculatePrintRepWsm");
//  SpecialMenu("Reopen Report Specification",' ',2,"ReopenRepWsm");
  EndWindow;


  WindowBegin("Please Confirm",YesNoCancelWClass,CGother,RcType);
  Modality(1);
  UseView(RcVc);
  SetWRect(80,200,400,300);
  Sizeable(-1,-1,0,0);
  h = 20; v= 50;
  PushButton(h,v,h+80,v+20,1,"Yes");
  PushButton(h,v+=40,h+80,v+20,4,"No");
  PushButton(h,v+=40,h+80,v+20,2,"Cancel");
  EndWindow;
  
  WindowBegin("File Sharing",ConferenceWClass,CGother,RcType);
  SetWRect(20,80,500,440);
  Sizeable(447,100,0,0);
  MailBackground;
//  ToolBar;
    // EditFieldTL(-225,6,135,"",M4Str,Normal,20,searchstr,false,0);
  h = 34;
//    HalPushButton(h,5,h+80,25,"ConferenceWToolProperties","Properties");
    // PushButton has weird code, where bottom = top + 20 and on
    // all other platmforms then MAC OSX boxes have different sizes
    h = h+92;
//    PushButton(h,5,h+80,25,ToolPresentation,"Presentation");
//  EndToolBar;
  v = 16;
    // SetM4Rect(rtp,9,21,-22,-20);
//  IconList(9,21,-7,-20,0,"");
  IconList(9,0,-7,-20,0,"");
    // SpecMenuItem("Properties",' ',0);
    // SpecMenuItem("Presentation",' ',1);
//  FunctionButton(1,"Open","",ToolOK);
//  FunctionButton(2,"New","",ToolNew);
//  FunctionButton(4,"Close","",ToolClose);
  EndWindow;

  WindowBegin("Archive",ArchiveWClass,CGother,RcType);
  UseView(RcVc);
  CloseOnCancel;
  SetWRect(130,80,470,320);
  Sizeable(100,100,0,0);
//  StringList(9,9+13,-23,-20);
  ScrollBar(-23,9+12+1,-7,-19);
//  MailBackground;
//  PushButton(-80,2,-30,19,ToolOpenAttachment,"Open");  
  SpecMenuItem("Attach File",'a',0);
  SpecMenuItem("Download File",' ',1);
  SpecMenuItem("Open Record",' ',2);
  SpecialMenu("Show To Links",' ',3,"ShowToLinksArchiveWsm");
  SpecMenuItem("Edit Link Comment",' ',4);
  SpecialMenu("(-",' ',5,"");
  SpecialMenu("Create Note",' ',6,"NoteFromArchiveWsm");
  SpecialMenu("Create Mail",' ',7,"MailFromArchiveWsm");
  SpecialMenu("Create Archive",' ',8,"ArchiveFromArchiveWsm");
  SpecMenuItem("Rename Archive",'r',9);
//  SpecialMenu("Create Action",' ',8,"ActionFromArchiveWsm"); // No clue what it is for.
  EndWindow;
  
  WindowBegin("Settings",SetupClass,CGother,RcType); //?? RcType, used to be HBlRecType
  SetWRect(357,104,620,406);
  Sizeable(-1,-1,0,0);
  StringList(20,20,-40,-20);
  SpecialMenu("Personal Settings",' ',0,"OpenUS2Sm");
  EndWindow;
  
  WindowBegin("Select Module",ModWClass,CGother,HBlRecType);
  SetWRect(0,0,320,480);
  Sizeable(-1,-1,0,0);
  iPhoneTopBar;
  iPhoneFilterBar;
  StringList(1,1,-16,-16);
  EndWindow;
  
  WindowBegin("SmartApps",SmartAppsWClass,CGother,HBlRecType);
  SetWRect(357,104,620,406);
  Sizeable(-1,-1,0,0);
  StringList(20,20,-40,-20);
  EndWindow;
  
  WindowBegin("Reports",RsWClass,CGother,RcType);
  SetWRect(0,0,320,418);
  //SetWRect(0,0,320,460);
  CloseOnCancel;
  Sizeable(-1,-1,0,0);
  iPhoneTopBar;
  iPhoneFilterBar;
  StringList(0,44,-16,-1);
  //StringList(1,v+=24,-16,-1);
//  IconList(20,20,-40,-20,0,"");
//  SpecMenuItem("Screen",' ',0);
//  SpecMenuItem("Printer",' ',1);
//  SpecMenuItem("Print Queue",' ',2);
//  SpecMenuItem("File",' ',3);
//  SpecMenuItem("Clipboard",' ',4);
//  SpecialMenu("(-",' ',5,"");
//  SpecMenuItem("Fax",' ',5);
//  SpecMenuItem("Printer Dialog",' ',6);
//  SpecialMenu("(-",' ',7,"");
//  SpecMenuItem("Define Report",' ',8);
//  SpecMenuItem("Remove Page Setup",' ',9);
//  SpecMenuItem("Select Printer",' ',10); // mac only?
  EndWindow;


  WindowBegin("Exports",EsWClass,CGother,RcType);
  SetWRect(357,104,620,406);
  Sizeable(-1,-1,0,0);
  StringList(20,20,-40,-20);
  EndWindow;


  WindowBegin("Imports",IsWClass,CGother,RcType);
  SetWRect(357,104,620,406);
  Sizeable(-1,-1,0,0);
  StringList(20,20,-40,-20);
  EndWindow;


  WindowBegin("Maintenance",MsWClass,CGother,RcType);
  SetWRect(357,104,620,406);
  Sizeable(-1,-1,0,0);
  StringList(20,20,-40,-20);
  EndWindow;
  
  WindowBegin("Select",RadioSClass,CGother,HBlRecType);
  SetWRect(0,0,320,418);
  Sizeable(-1,-1,0,0);
  ValuePicker(0,40,320,240);
  EndWindow;
  
  WindowBegin("Login",LoginClass,CGother,USRowType);
  UseView(USRowVc);
  h2 = 464; v2 = 250;
  SetWRect(80,90,h2,v2);
  Modality(1);
  v = 6; vs = 38; h = 90; h2 = 320;
  //StaticText(h,50,"$programversionname",false); //Do not translate
  //StaticText(h,v+8,"$companyname",false); //Do not translate
  //StaticText(35,v+10,"Enter these fields to login:",false);
  v = 300; h = 284;
  EditFieldTL(h,v,     200,"Signature",   M4Code,Normal,60,Name,false,0);
  EditFieldTL(h,v+=vs, 200,"Password",   M4Star,Normal,20,Password,false,0);
  vm = v+30;
  v = v+50;
  h = -305;
  PushButton(h,v,h+80,v+47,ToolQuit,"Quit");
  ControlLabel(0,0,0,0,"Quit","SystemFont",17,kTextStyleBold,AdjCenter,patM4ReportsTextBlue);
  h=h-150;
  PushButton(h,v,h+140,v+47,ToolRestore,"Select Company");
  ControlLabel(0,0,0,0,"Select Company","SystemFont",17,kTextStyleBold,AdjCenter,patM4ReportsTextBlue);
  h=h-90;
  PushButton(h,v,h+80,v+47,ToolOK,"Login");
  ControlLabel(0,0,0,0,"Login","SystemFont",17,kTextStyleBold,AdjCenter,patM4ReportsTextBlue);
  
  StaticText(249,v+=150,"$demo1",false); //Do not translate
  StaticText(325,v+=18,"$demo2",false); //Do not translate
//  BottomBar;
//  PushButton(10,v,20,v+20,ToolQuit,"Quit");
  //h=h-90; PushButton(h,v,h+80,v+20,ToolRestore,"Cancel");
//  FlexibleSpace;
//  PushButton(-20,v,-10,v+20,ToolOK,"Login");
  EndWindow;

  WindowBegin("Login",Login2Class,CGother,USRowType);
  UseView(USRowVc);
  h2 = 464; v2 = 250;
  SetWRect(80,90,h2,v2);
  Modality(1);
  v = 6; vs = 38; h = 120; h2 = 320;
  v = v+35;
  StaticText(20,v+10,"Enter to Login:",false);
  vs = 30; h = 20; h2 = 320;
  StaticText(20,(v+=15)+10,"Signature",false);
  EditFieldTL(h,v+=20, 150,"",   M4Code,Normal,60,Name,false,0);
  StaticText(20,(v+=20)+10,"Password",false);
  EditFieldTL(h,v+=20, 150,"",   M4Star,Normal,20,Password,false,0);
  v=v+40; h = 20;
  PushButton(h,v,h+60,v+20,ToolOK,"OK");
  h=h+90; PushButton(h,v,h+60,v+20,ToolRestore,"Quit");
  EndWindow;

  WindowBegin("Welcome to Mobile #Stock#",WelcomeWClass,CGother,RcType);
//  WindowTitleBar(-1,3135,-1,"");
  UseView(RcVc);
  SetWRect(240,80,520,300);
  BackgroundColour(patM4ReportsBackgroundBlue);
  h2 = 290;
  v = 138;
  hs = 188;
  vs = 56;
  StaticText(h2+15,v,"Please select an option",false);
  HalPushButton(h2,v+=20,h2+hs,v+vs-9,"DBUsageImportDemoIOS","Sample Company");
  ControlLabel(0,0,0,0,"Sample Company","SystemFont",17,kTextStyleBold,AdjCenter,patM4ReportsTextBlue);
  HalPushButton(h2,v+=vs,h2+hs,v+vs-9,"DBUsageAsClient","Remote Database");
  ControlLabel(0,0,0,0,"Remote Database","SystemFont",17,kTextStyleBold,AdjCenter,patM4ReportsTextBlue);
  EndWindow;

  WindowBegin("",AboutClass,CGother,-);
  CloseOnCancel;
if (HansaWorld) then begin
  SetWRect(71,80,600,440);
end else begin
  SetWRect(71,80,500,365);
end;
  WhiteBackground;
  Modality(1);
  WType(1);
  v = -23; h = -120;
  PushButton(h,v,h+60,v+20,ToolOK,"OK");
  EndWindow;


  WindowBegin("",ModalErrorClass,CGother,-);
  SetWRect(20,262,20+468,262+68+32);
  WhiteBackground;
  Modality(1);
  WType(1);
  h=200;v=44+32; PushButton(h,v,h+60,v+20,0,"OK");
  EndWindow;


  WindowBegin("",YesNoClass,CGother,-);
  SetWRect(20,262,20+468,327);
  Modality(1);
  WType(1);
  EndWindow;


  WindowBegin("Select Company",CompaniesSClass,CGother,RcType);
  UseView(RcVc);
//  Modality(1);
//  ToolBar;
  BackgroundColour(patM4ReportsBackgroundGray);
  iPhoneTopBar;
  iPhoneFilterBar;
//  PushButton(-70,5,-10,22,ToolOK,"OK");
//  EndToolBar;
  SetWRect(240,80,520,300);
//  StringList(9,9,250,209);
  CheckBox(-158,55,0,"Start over with selected company",JobDf);
  StringList(0,193,-1,-1);
  BottomBar;
  PushButton(10,v,20,v+20,ToolQuit,"Quit");
//  FlexibleSpace;
//  CheckBox(-0,0,0,"Start over with selected company",JobDf);
  EndWindow;


  WindowBegin("Documents",DsWClass,CGother,RcType);
  SetWRect(357,104,620,406);
  Sizeable(-1,-1,0,0);
  StringList(20,20,-40,-20);
  SpecMenuItem("Printer",' ',0);
//  SpecMenuItem("Print Queue",' ',1);//not working
//  SpecialMenu("(-",' ',2,"");
//  SpecMenuItem("File",' ',2);
  SpecMenuItem("Fax",' ',1);
  SpecialMenu("(-",' ',2,"");
  SpecMenuItem("Define Document",' ',3);
  SpecMenuItem("Remove Page Setup",' ',4);
  SpecMenuItem("Select Printer",' ',5);
  EndWindow;

  WindowBegin("Paste Date",DateSClass,CGother,RcType);
  UseView(RcVc);
  BrowseButtons(true);
  SetWRect(20,80,260,220);
  DatePicker(0,0,0,0);
  Sizeable(-1,-1,0,0);
  EndWindow;

  WindowBegin("Calendar - Overview",HalfYearWClass,CGother,RcType);
  UseView(RcVc);
  BrowseButtons(true);
  SetWRect(20,80,635,405);
  Sizeable(-1,-1,0,0);
  SpecialMenu("Month",'m',1,"HalfYearWClassMonth");
  SpecialMenu("Week",'w',2,"HalfYearWClassWeek");
  SpecialMenu("Day",' ',3,"HalfYearWClassDay");
  EndWindow;

  WindowBegin("Day Planner",DayWClass,CGother,RcType);
  UseView(RcVc);
  DynamicWindow;
  SetWRect(20,80,635,405);
  BrowseButtons(true);
  Sizeable(-1,-1,0,0);
//  StaticText(44,37,"",false);//Calendar is overwriting Month Name
  ScrollBar(-19,42,-3,-10);
  EndWindow;

  WindowBegin("Task Manager",ToDoWClass,CGother,RcType);
  UseView(RcVc);
  SetWRect(20,80,320,480);
  Sizeable(-1,-1,0,0);
  vs = 38;
  v = 52;
  iPhoneTopBar;
  
  TaskManager(0,0,-1,-24); // should be one more right...
  
  BottomBar;
  
  EndWindow;

// this pocket window need a new design as well
  WindowBegin("Activity",ActDClass,CGview,ActView);
  SetWRect(0,0,320,480);
  BrowseButtons(false);
  Sizeable(-1,-1,0,0);
  UseView(ActVc);
  FormName(ActDocForm);
  v = 6; vs = 33; h = 6; h3 = 156; h2 = 130; fs = -20;
//  CommunicateButton;
//  Tile(0,70,false,"",Comment);
//  EditField(h,v=6,-20,"Text",Normal,Comment,false,0);
  EditField(h,v=16,-20,"Text",Normal,Comment,false,0);
  EditField(h,v+=vs,h2,"Type",Normal,ActType,false,ActTypeSClass);
  CheckBox(-110,v+2,0,"Done",OKFlag);
  EditField(h,v+=vs,h2,"Time",Normal,StartTime,false,PasteCurTime);
  EditField(h3,v,-20,"Date",Normal,TransDate,false,PasteCurDate);
  EditField(h,v+=vs,-20,"Priority",Normal,PrioLevel,false,0);
  EditField(h,v+=vs,-20,"Persons",Normal,MainPersons,false,UserSClass);
  MatrixBegin(4,v+=vs,-1,-1,ActRowType,199);
  MatCol(1,24,"Code",0,TextCode,false,TextTypeSClass);
  MatCol( 1,84,"Text",0,Text,false,0);
  //  MatColMLT(1,84,"Text",0,Text,false,0);
  EndMatrix;
/*  vm = v;
  TileButton(1,"1");
  TileButton(2,"2");
  TileButton(3,"3");
  TileButton(4,"4");
  TileButton(5,"5");
  TileButton(6,"6");
  TileButton(7,"7");
  TileButton(8,"8");
  TileButton(9,"9");
  v = vm;
  CheckBox(-70,v,0,"D_one",OKFlag);
  Tile(1,110,false,"1",StartTime);
  EditField(h,v=6,60,"Start Time",Normal,StartTime,false,PasteCurTime);
  EditField(h,v+=vs,60,"End Time",Normal,EndTime,false,PasteCurTime);
  EditField(h,v+=vs,60,"Cost (Time)",Normal,CostTime,false,PasteCurTime);
  EditField(h,v+=vs ,80,"Start Date",Normal,TransDate,false,PasteCurDate);
  EditField(h,v+=vs,80,"End Date",Normal,EndDate,false,PasteCurDate);
  Tile(2,160,false,"2",-);
  v = 18;
  h3 = 40;
  ButtonFrame(h3,vm=v,120,3,"Task Type");
  RadioButton(h3,v,0,0,"Calendar",TodoFlag);
  RadioButton(h3,v+=16,1,0,"To _Do",TodoFlag);
  RadioButton(h3,v+=16,2,0,"Tim_ed To Do",TodoFlag);
  ButtonFrame(h3,v+=40,120,3,"Calendar");
  RadioButton(h3,v,1,0,"Time",CalTimeFlag);
  RadioButton(h3,v+=16,2,0,"Profile",CalTimeFlag);
  RadioButton(h3,v+=16,0,0,"Don't _Show",CalTimeFlag);
  Tile(3,100,false,"3",-);
  h3 = 40;
  ButtonFrame(h3,v=vm,120,4,"Alarm Type");
  RadioButton(h3,v,0,0,"None",AlarmType);
  RadioButton(h3,v+=16,1,0,"Message",AlarmType);
  RadioButton(h3,v+=16,2,0,"SMS",AlarmType);
  RadioButton(h3,v+=16,3,0,"Email",AlarmType);
  h3 = h3+160;
  ButtonFrame(h3,v=vm,120,4,"Alarm");
  RadioButton(h3,v,0,0,"Minutes",AlarmWhen);
  RadioButton(h3,v+=16,1,0,"Hours",AlarmWhen);
  RadioButton(h3,v+=16,2,0,"Days",AlarmWhen);
  EditField(h3+75,v+=vs,50,"Units before",Normal,AlarmUnits,false,0);
  Tile(4,110,false,"4",CUCode);
  EditField(h,v=6, fs,"Customer",Normal,CUCode,false,AllCUSClass);
  EnterSkip(Contact);
  EditField(h,v+=vs,fs,"Name",Normal,CUName,false,0);
  EditField(h,v+=vs,fs,"Contact",Normal,Contact,false,ContactSClass);
  EnterSkip(ActResult);
  EditField(h,v+=vs,fs,"Telephone",Normal,Phone,false,0);
  EditField(h,v+=vs,60,"Result",Normal,ActResult,false,ActTypeSClass);
  Tile(5,50,false,"5",PRCode);
  EditField(h,v=6, fs,"Project",Normal,PRCode,false,PRSClass);
  EditField(h,v+=vs,fs,"Inv. Item",Normal,ItemCode,false,INSClass);
  EditField(h,v+=vs,fs,"Resources",Normal,Resources,false,ResSClass);
  Tile(6,70,false,"6",SerialNr);
  EditField(h,v=6, fs,"Serial No.",Normal,SerialNr,false,SVOSerSClass);
  EditField(h,v+=vs,fs,"Item",Normal,ArtCode,false,INSClass);
  EditField(h,v+=vs,fs,"Serv. Order",Normal,SVOSerNr,false,SVOSClass);
  EditField(h,v+=vs,fs,"Inv. Item",Normal,ItemCode,false,INSClass);
  EnterSkip(Math);
  Tile(7,100,true,"7",Math);
  MatrixBegin(4,v=24,-32,-20,ActRowType,99);
  MatCol(1,24,"Code",0,TextCode,false,TextTypeSClass);
  MatCol(1,84,"Text",0,Text,false,0);
  EndMatrix;
  Tile(8,110,false,"8",MainPersons);
  EditField(h,v=6,-20,"Persons",Normal,MainPersons,false,UserSClass);
  EditField(h,v+=vs,-20,"Cc",Normal,CCPersons,false,UserSClass);
  EditField(h,v+=vs,80,"Supervisor",Normal,Supervisor,false,UserSClass);
  EditField(h,v+=vs ,50,"Language",Normal,LangCode,false,LangSClass);
  EditField(h,v+=vs ,20,"Priority",Normal,PrioLevel,false,0);
  CheckBox(h+40,v,0,"P_rivate",PrivateFlag);
//  SpecialMenu("Open #NL# Transaction",'t',0,"OpenTRFromAct");
  Tile(9,240,false,"9",-);
  fs = -20;*/
/*
  label = UserDefined("ActVc","UserStr1");
  if (nonblank(label)) then begin
    EditField(h,v=6 ,-20,label,Normal,UserStr1,false,0);
  end;
  label = UserDefined("ActVc","UserStr2");
  if (nonblank(label)) then begin
    EditField(h,v+=vs,-20,label,Normal,UserStr2,false,0);
  end;
  label = UserDefined("ActVc","UserStr3");
  if (nonblank(label)) then begin
    EditField(h,v+=vs,-20,label,Normal,UserStr3,false,0);
  end;
  label = UserDefined("ActVc","UserStr4");
  if (nonblank(label)) then begin
    EditField(h,v+=vs,-20,label,Normal,UserStr4,false,0);
  end;
  label = UserDefined("ActVc","UserStr5");
  if (nonblank(label)) then begin
    EditField(h,v+=vs,-20,label,Normal,UserStr5,false,0);
  end;
  label = UserDefined("ActVc","UserVal1");
  if (nonblank(label)) then begin
    EditField(h,v+=vs,50,label,Normal,UserVal1,true,0);
  end;
  label = UserDefined("ActVc","UserVal2");
  if (nonblank(label)) then begin
    EditField(h,v+=vs,50,label,Normal,UserVal2,true,0);
  end;
  label = UserDefined("ActVc","UserVal3");
  if (nonblank(label)) then begin
    EditField(h,v+=vs,50,label,Normal,UserVal3,true,0);
  end;
  label = UserDefined("ActVc","UserDate1");
  if (nonblank(label)) then begin
    EditField(h,v+=vs,80,label,Normal,UserDate1,true,PasteCurDate);
  end;
  label = UserDefined("ActVc","UserDate2");
  if (nonblank(label)) then begin
    EditField(h,v+=vs,80,label,Normal,UserDate2,true,PasteCurDate);
  end;
  label = UserDefined("ActVc","UserDate3");
  if (nonblank(label)) then begin
    EditField(h,v+=vs,80,label,Normal,UserDate3,true,PasteCurDate);
  end;
*/
/*  SpecialMenu("Create Email",'m',0,"MailFromActDsm");
  SpecialMenu("Create Letter",'l',1,"LetFromActDsm");
  if (UserCanAction("EnabINF",false)) then begin
    SpecialMenu("Enabler Information",' ',2,"EnablerInfoDsm");
  end;
  SpecialMenu("Customer Status",'e',3,"CUStatusActDsm");
  SpecialMenu("Send Invitation",' ',4,"SendInvitationDsm");
*/  
  EndWindow;


  WindowBegin("Paste Activity Type",ActTypeSClass,CGslist,-);
  SetWRect(240,80,540,298);
  Sizeable(-1,-1,0,0);
  UseView(ActTypeVc);
  SpawnClass(ActTypeDClass);
  RecordList(4,17,-21,-39);
  RlColKey(4,4,  "Code",Code,false,Code);
  RlColKey(51,51,"C_omment",Comment,false,Comment);
  RlColKey(-70,-75,"Class",ActTypeGr,false,ActTypeGr);
  SearchField("Search");
  EndWindow;


  WindowBegin("Calendar - Week ",WeekWClass,CGother,RcType);
  UseView(RcVc);
  BrowseButtons(true);
  SetWRect(20,80,635,405);
  Sizeable(-1,-1,0,0);
  ScrollBar(-19,42,-3,-10);
  EndWindow;


  WindowBegin("Calendar - ",MonthWClass,CGother,RcType);
  UseView(RcVc);
  BrowseButtons(true);
  SetWRect(20,80,635,405);
  Sizeable(-1,-1,0,0);
  EndWindow;


  WindowBegin("Mail",MailDClass,CGview,MailView);
  UseView(MailVc);
  SetWRect(0,0,320,418);
  BrowseButtons(false);
  Sizeable(528,-1,0,0);
  ActiveFieldOnNew("Math2");    
  MailBackground;
//  AddBic(604,609,-9,17,ToolAttach,0,"");
//  AddBic(1403,1402,-9-28,17,ToolQueueEmail,0,"");
  vs = 20; h = 85; h2 = 230; h3 = 390; h4 = 500; v = 2;
  vm = v;
//  EditField(h,v,82,"Date",ViewOnly,TransDate,false,PasteCurDate);
//  EditField(h2,v,82,"Time",ViewOnly,TransTime,false,0);
//  EditField(h3,v,82,"Lifespan",Normal,Lifespan,false,SetSClass);	
  CheckBox(-48,v=34,0,"Sent",SendFlag); // 45 or 48
//  CheckBox(-83,v=2,0,"Sent",SendFlag);
//  CheckBox(-83,v+=16,0,"Locked",LockedFlag);
//  CheckBox(-83,v+=16,0,"Priority",Priority);
//    v = vm+20;
  h1=18; h2=h1+35;
  v = 0;
//  StaticText(h-5,v+13,"Address",true);
//  MatrixBegin(0,v,-65,v+63,MailAddrRowType,99);
//  MatOverStrike(AddrStatus);
//  MatCol(1,h1,"",0,RowTyp,false,SetSClass);
//  MatCol(1,h2,"",0,AddrCode,false,ConfSClass);
//  InsertRowTest;
//  DeleteRowTest;
//  EndMatrix;
  v=v+53;
  EditField(3,v,-5,"",Normal,Header,false,0);
  v = (v+38);
  TextField(3,v,-5,-10,Math,0);
  SpecialMenu("History",'h',1,"MailHistoryMailDsm");
  SpecialMenu("Save Text as File",' ',2,"SaveAsFileMailDsm");
  SpecialMenu("Reply with Quote",' ',3,"MailReplyWithQuotesm");
  EndWindow;

  WindowBegin("Mailbox",MailLClass,CGmlist,MailView);
  SetWRect(20,80,630,290);
  SpawnClass(MailDClass);
  Sizeable(447,-1,0,0);
  MailBackground;
  UseView(MailVc);
  FormName(PrintMailL);
  v = -29;  vs = 20; l = 80;
  
//  SearchField("Search");
//  SoftEditField(60,v,80,"Folder",Normal,"folder",false,PasteFolderSClass,M4Str,40);
    
  return;
end;


