/* datadef6.hal */

procedure LocalMachineBlockDefinition()
begin
  RecordField(DefLocation,M4Code,10,LocationVc);
  RecordField(DefPrinter,M4Str,60,0);
  RecordField(WarnOnDelete,M4Int,0,0);
  RecordField(NoToolTips,M4Int,0,0);
  RecordField(OneBarTabWindow,M4Int,0,0);
  RecordField(NoBackGround,M4Int,0,0);
  RecordField(WideScrollBars,M4Int,0,0);
  RecordField(TouchScreenLook,M4Int,0,0);
  RecordField(DefExpCodepage,M4StrSet,-1,0);
  RecordField(FiscalPrinter,M4Set,69,0);
  RecordField(DefCustCode,M4Code,20,CUVc);
  RecordField(DefRestDisp,M4Code,10,DIVc);
  RecordField(entryFont,M4Str,200,0);
  RecordField(reportFont,M4Str,200,0);
  RecordField(reportFontSize,M4Int,0,0);
  RecordField(MirrorWindow,M4Int,0,0);
  RecordField(NoServerModeIdle,M4Int,0,0);
  RecordField(UseDisplay,M4Int,0,0);
  RecordField(LimitedProdEntry,M4Int,0,0);
  RecordField(DefReturnLocation,M4Code,10,LocationVc);
  RecordField(TerminalID,M4Str,60,0);
  RecordField(CommPort,M4Str,100,0);
  RecordField(BranchID,M4Code,20,CUVc);
  RecordField(UserStr1,M4Str,255,0);
  RecordField(UserStr2,M4Str,255,0);
  RecordField(UserStr3,M4Str,255,0);
  RecordField(UserStr4,M4Str,255,0);
  RecordField(UserStr5,M4Str,255,0);
  RecordField(ResLoc,M4Code,5,0);
  RecordField(ResClass,M4UStr,200,0);
  RecordField(ActTypePastePerClass,M4Int,0,0);
  RecordField(SkypeInt,M4Int,0,0);
  RecordField(ItemPasteSpecial,M4Int,0,0);
  RecordField(PLCode,M4Code,5,0);
  RecordField(SyncRecordforPOS,M4Int,0,0);
  RecordField(SyncINClass,M4UStr,200,0);
  RecordField(ShipToAccount,M4Str,20,0);
  RecordField(POSButtonGroup,M4Code,5,0);
  RecordField(IncrementalReceiptPrinting,M4Int,0,0);
  RecordField(BackgroundMailSync,M4Int,0,0);
  RecordField(LockSysEncoderNo,M4Str,5,0);
  RecordField(POSButtonsPosition,M4Int,0,0);
  RecordField(POSFontSize,M4Int,0,0);
  RecordField(Supervisor,M4Code,20,UserVc);
  RecordField(Bagger,M4Code,20,UserVc);
  RecordField(DefaulBaggerSupervisor,M4Int,0,0);
  RecordField(HideQty,M4Int,0,0);
  RecordField(CCRequireAuthCode,M4Int,0,0);
  RecordField(ShowBaggerSupervisor,M4Int,0,0);
  RecordField(UseCustomerDisplay,M4Int,0,0);
  RecordField(FiscalPrinterEJournalPath,M4Str,200,0);
  RecordField(FiscalPrinterEJournalPath2,M4Str,200,0);
  RecordField(MailboxPasteSpecial,M4Int,0,0);
  RecordField(TableViewCode,M4Code,20,0);
  RecordField(RestAccClass,M4Code,10,0);
  RecordField(CustPSOnCall,M4Int,0,0);
  RecordField(GMTOffset,M41Val,0,0);
  RecordField(DontShowRateProductWindow,M4Int,0,0);
  RecordField(ShowRateProductWindowDate,M4Date,0,0);
  RecordField(TutorialWClassCnt,M4Int,0,0);
  RecordField(SendFiscalInvoice,M4Int,0,0);
  RecordField(AccClassPasteSpecial,M4Int,0,0);
  RecordField(TouchScreenLook2,M4Int,0,0);
  RecordField(TouchScreenLookPicture,M4Int,0,0);
  RecordField(TabletScaleFactor,M4Val,0,0);
  RecordField(KitchenOrdScrDep,M4List,200,0);
  RecordField(KitchenRefreshInt,M4Time,0,0);
  RecordField(ApprovalTypeActDClass,M4Int,0,0);
  RecordField(KitchenOrdDetailed,M4Int,0,0);
  RecordField(POSPanelSize,M4Int,0,0);
  RecordField(ObjectPasteSpecial,M4Int,0,0);
  RecordField(HasReconnect,M4Int,0,0);
  RecordField(HasRestoreWin,M4Int,0,0);
  RecordField(PreferredCallingMethod,M4Int,0,0);
  RecordField(MachineType,M4Int,0,0);
  RecordField(MatEditing,M4Int,0,0);
  RecordField(POSButtonWidth,M4Long,0,0);
  RecordField(POSButtonHeight,M4Long,0,0);
  RecordField(POSShowButtonPictures,M4Int,0,0);
  RecordField(BluetoothName,M4Str,40,0);
  RecordField(BluetoothMACAddr,M4UStr,17,0);
//update POSServToOffLine_SaveLocalMachineSettings
  return;
end;

begin
  BlockBegin(PlanTimeBlock,-,"");
  RecordField(JobChange,M4Int,0,0);
  RecordField(FieldType,M4Int,0,0);
  RecordField(Filler,M4Str,60,0);
  RecordField(LastResCode,M4Code,20,0);
  EndBlock;

  RecordBegin(PlKeyVc,-,"");
  RecordField(Code,M4Code,5,0);
  RecordField(Name,M4Str,60,0);
  RecordField(Addr0,M4Str,60,0);
  RecordField(Addr1,M4Str,60,0);
  RecordField(Addr2,M4Str,60,0);
  RecordField(Addr3,M4Str,60,0);
  RecordField(Contact,M4Str,60,0);
  RecordField(Phone,M4PhoneNo,20,0);
  RecordField(Fax,M4Str,20,0);
  RecordField(Addr4,M4Str,60,0);
  RecordField(Addr5,M4Str,60,0);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeyBegin(Name);
  KeySegment(Name);
  KeySegment(Code);
  KeyBegin(Contact);
  KeySegment(Contact);
  KeySegment(Code);
  EndRecord;

//??
  RecordBegin(CashPrSetVc,-,"CashPrSetVc2");
  NewAutosyncRegister(kSyncDirectionToClient,true);
  RecordField(Code,M4Code,5,0);
  RecordField(Name,M4Str,60,0);
  RecordField(BaudRate,M4Int,0,0);
  RecordField(Before,M4Str,60,0);
  RecordField(After,M4Str,60,0);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeyBegin(Name);
  KeySegment(Name);
  KeySegment(Code);
  EndRecord;

  RecordBegin(EscSeqVc,-,"");
  RecordField(Code,M4Code,5,0);
  RecordField(Name,M4Str,60,0);
  RecordField(Before,M4Str,60,0);
  RecordField(After,M4Str,60,0);
  RecordField(LocalMachineCode,M4Code,20,0);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeySegment(LocalMachineCode);
  KeyBegin(Name);
  KeySegment(Name);
  KeySegment(Code);
  KeySegment(LocalMachineCode);
  KeyBegin(LocalMachineCode);
  KeySegment(LocalMachineCode);
  KeySegment(Code);
  EndRecord;

  RecordBegin(DeductVc,-,"");
  RecordField(SerNr,M4Long,0,0);
  RecordField(TransDate,M4Date,0,0);
  RecordField(EmplCode,M4Code,20,0);
  RecordField(EmplName,M4Str,60,0);
  RecordField(Amount,M4Val,0,0);
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeyBegin(EmplCode);
  KeySegment(EmplCode);
  KeySegment(SerNr);
  KeyBegin(EmplName);
  KeySegment(EmplName);
  KeySegment(SerNr);
  KeyBegin(TransDate);
  KeySegment(TransDate);
  KeySegment(SerNr);
  EndRecord;

  BlockBegin(ExpenseBlock,-,"");
  RecordField(PPOKNr,M4Long,0,0);
  EndBlock;

  BlockBegin(ContractSetBlock,-,"");
  RecordField(UpdateContracts,M4Int,0,0);
  RecordField(CreateRegister,M4Int,0,0);
  EndBlock;

  RecordBegin(SourceVc,-,"");
  RecordField(Code,M4Code,10,0);
  RecordField(Name,M4Str,60,0);
  RecordField(Addr0,M4Str,60,0);
  RecordField(Addr1,M4Str,60,0);
  RecordField(Addr2,M4Str,60,0);
  RecordField(Contact,M4Str,60,0);
  RecordField(Phone,M4PhoneNo,20,0);
  RecordField(Fax,M4Str,20,0);
  RecordField(Email,M4Str,60,0);
  RecordField(Origin,M4Set,548,0);
  RecordField(Manufacturer,M4Code,20,VEVc);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeyBegin(Name);
  KeySegment(Name);
  KeySegment(Code);
  EndRecord; 

  BlockBegin(POSettingBlock,-,"");
  RecordField(PUQuant,M4Int,0,0);
  RecordField(DefaultSupplier,M4Code,20,VEVc);
  RecordField(TransAccObjToPU,M4Int,0,0);
  RecordField(WarnNotDefSup,M4Int,0,0);
  RecordField(UseNormOrdMult,M4Int,0,0);
  RecordField(CredVIUpdatePO,M4Int,0,0);
  RecordField(ReqPOClass,M4Int,0,0);
  RecordField(OpenCreateVIFromPO,M4Int,0,0);
  RecordField(NoRetPUFromPO,M4Int,0,0);
  RecordField(POMustBeOKToPU,M4Int,0,0);
  RecordField(PUFromPORate,M4Set,460,0);
  RecordField(CreateVIonPUOK,M4Int,0,0);
  RecordField(CreateVIonRetPUOK,M4Int,0,0);
  EndBlock;
  
  RecordBegin(CompItemVc,-,"");
  RecordField(Code,M4Code,10,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(ArtCode,M4Code,20,INVc);
  EndArray;
  MainKeyBegin(Code,0);
  KeySegment(Code);
  EndRecord;  

  RecordBegin(WeigAvVc,-,"");
  RecordField(ArtCode,M4Code,20,INVc);
  RecordField(Location,M4Code,10,LocationVc);
  RecordField(WeighedAvPrice,M45Val,0,0);
  RecordField(WeighedAvPriceB2,M45Val,0,0);
  MainKeyBegin(ArtCode,0);
  KeySegment(ArtCode);
  KeySegment(Location);
  EndRecord;  

  RecordBegin(ClearDVc,-,"");
  RecordField(BankCode,M4Code,10,0);
  RecordField(AreaCode,M4Str,5,0);
  RecordField(Days,M4Int,0,0);
  MainKeyBegin(BankCode,0);
  KeySegment(BankCode);
  KeySegment(AreaCode);
  KeyBegin(AreaCode);
  KeySegment(AreaCode);
  KeySegment(BankCode);
  EndRecord;

  RecordBegin(ResExistVc,-,"");
  RecordField(ResCode,M4Code,10,ResVc);
  RecordField(StartDate,M4Date,0,0);
  RecordField(StartTime,M4Time,0,0);
  RecordField(OnOffFlag,M4Int,0,0);
  RecordField(Comment,M4Str,60,0);
  MainKeyBegin(MainKey,0);
  KeySegment(ResCode);
  KeySegment(StartDate);
  KeySegment(StartTime);
  KeyBegin(StartDate);
  KeySegment(StartDate);
  KeySegment(StartTime);
  KeySegment(ResCode);
  EndRecord;

  BlockBegin(IntORSettingBlock,-,"");
  RecordField(OrdQuantToStockMov,M4Int,0,0);
  RecordField(SentQuantToStockMov,M4Int,0,0);
  RecordField(QuantToStockMov,M4Int,0,0);
  RecordField(CostPriceToStockMov,M4Int,0,0);
  RecordField(ReqIntORClass,M4Int,0,0);
  RecordField(AutoCloseIntOR,M4Int,0,0);
  EndBlock;

// Not happy about the design, but it will work.
  BlockBegin(ORSerNrBlock,-,"");
  ImpExpLevel(0);
  BlockInServer;
  BlockForAllCompanies;
  RecordField(CCPayPReNo,M4Long,0,0);
  EndBlock;

  RecordBegin(ShopBaskVc,-,"");
  RecordField(SerNr,M4Long,0,0);
  RecordField(CUCode,M4Code,20,CUVc);  
  RecordField(DestinationNr,M4Long,0,0);//RecordField(OrdNr,M4Long,0,ORVc);
  RecordField(ItemCode,M4Code,20,INVc);
  RecordField(Qty,M4Qty,0,0);
  RecordField(Price,M4Val,0,0);
  RecordField(TransDate,M4Date,0,0);
  RecordField(TransTime,M4Time,0,0);
  RecordField(Discount,M4Qty,0,0);
  RecordField(Owner,M4Set,417,0); // 0 CUCode, 1 Job
  RecordField(OwnerSerNr,M4Long,0,0);
  RecordField(Destination,M4Set,418,0); // 0 Order 1 Invoice 2 Quote
  RecordField(BaskNo,M4Long,0,0);
  RecordField(PFormCode,M4Code,5,0);
  RecordField(InclVAT,M4Int,0,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(ExtraCom,M4Str,60,0);
  RecordField(ExtraVal,M4Val,0,0);
  RecordField(PeriodStartDate,M4Date,0,0);
  RecordField(Objects,M4UStr,60,ObjVc);
  RecordField(PrelBooked,M4Int,0,0);
  RecordField(DownPayIVSerNr,M4Long,0,0); //the way to deal with downpayments in hotel// destination nr
  RecordField(ValueIsTip,M4Int,0,0); // Will not be added to the line, will be added to Sorting field as a comment 
  RecordField(SortingAtTop,M4Int,0,0);
  RecordField(NegateItem,M4Code,20,INVc);
  RecordField(Person,M4Code,10,0);
  RecordField(CCPayPReNo,M4Long,0,0);
  RecordField(CUServiceHistNr,M4Long,0,CUServiceVc);
  RecordField(VECode,M4Code,20,CUVc);
  RecordField(CUServiceValidUntil,M4Date,0,0);
  RecordField(FromFileName,M4Str,20,0);
  RecordField(FromSerNr,M4Long,0,0);
  RecordField(BasePrice,M4Val,0,0);
  RecordField(ResUsage,M4Code,10,ResUsageVc);  
  RecordField(CurncyCode,M4Code,5,CurncyCodeVc);
  RecordField(FrRate,M4Rate,0,0); 
  RecordField(ToRateB1,M4Rate,0,0);
  RecordField(ToRateB2,M4Rate,0,0); 
  RecordField(BaseRate1,M4Rate,0,0); 
  RecordField(BaseRate2,M4Rate,0,0); 
  RecordField(PriceInCur,M4Val,0,0);
  RecordField(ExtraValInCur,M4Val,0,0);
  RecordField(BasePriceInCur,M4Val,0,0);
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeyBegin(CUCode);
  KeySegment(CUCode);
  KeySegment(DestinationNr);  
  KeySegment(ItemCode);  
  KeySegment(SerNr);  
  KeyBegin(CUItemCode);
  KeySegment(CUCode);
  KeySegment(ItemCode);
  KeySegment(DestinationNr);  
  KeySegment(SerNr);  
  KeyBegin(OwnerSerNr);
  KeySegment(OwnerSerNr);
  KeySegment(Owner);  
  KeySegment(DestinationNr);  
  KeySegment(SerNr);  
  KeyBegin(BaskNo);
  KeySegment(BaskNo);
  KeySegment(SerNr);
  KeyBegin(CUItmBask);
  KeySegment(CUCode);
  KeySegment(BaskNo);
  KeySegment(ItemCode);
  KeySegment(PFormCode);
  KeySegment(DestinationNr);
  KeySegment(SerNr);
  KeyBegin(TransDate);
  KeySegment(TransDate);
  KeySegment(TransTime);
  KeySegment(SerNr);
  KeyBegin(PrelBooked);
  KeySegment(PrelBooked);
  KeySegment(OwnerSerNr);
  KeySegment(Owner);
  KeySegment(SerNr);
  KeySegment(SerNr);  
  KeyBegin(OwnerSerNrDate);
  KeySegment(OwnerSerNr);
  KeySegment(Owner);  
  KeySegment(DestinationNr);  
  KeySegment(TransDate);  
  KeySegment(SerNr);
  KeyBegin(DestinationNr);
  KeySegment(DestinationNr);
  KeySegment(SerNr);  
  KeyBegin(DownPayIVSerNr);
  KeySegment(DownPayIVSerNr);
  KeySegment(SerNr);  
  KeyBegin(CUOwner);
  KeySegment(CUCode);
  KeySegment(OwnerSerNr);
  KeySegment(Owner);
  KeySegment(SerNr);
  KeyBegin(FromFileName);
  KeySegment(FromFileName);
  KeySegment(FromSerNr);
  KeySegment(SerNr);  
  KeyBegin(FromFileNameTransDate);
  KeySegment(FromFileName);
  KeySegment(TransDate);
  KeySegment(OwnerSerNr);
  KeySegment(SerNr);    
  EndRecord;

// do not use _DefBlock unless it is a defblock
  BlockBegin(CashierDefBlock,-,"CashierDefBlock3");
  NewAutosyncBlock(kSyncDirectionToClient);
  RecordField(DefCustCode,M4Code,20,CUVc);
  RecordField(POSNr,M4Long,0,0);
  RecordField(CredAcc,M4Code,10,AccVc);
  RecordField(WriteOffAcc,M4Code,10,AccVc);
  RecordField(StartFromLastPOSBal,M4Int,0,0);
  RecordField(PrintDetNLTrans,M4Int,0,0);
  RecordField(Printer,M4Set,56,0);
  RecordField(TipPMCode,M4Code,2,0);
  RecordField(InclTipInCashup,M4Int,0,0);
  RecordField(InclOpenInvCashup,M4Int,0,0);
  RecordField(RequireOpenSession,M4Int,0,0);
  RecordField(DefInvoiceField,M4Int,0,0);
  RecordField(UpdStockMaint,M4Int,0,0);
  RecordField(UpdStockMaintTime,M4Time,0,0);
  RecordField(CashSalesToFiscalControlUnit,M4Int,0,0);
  RecordField(MultipleSessionsPerLocalMachine,M4Int,0,0);
  RecordField(DiscountItem,M4Code,20,INVc);
  RecordField(NoChangesPOSOnLiveSyncClient,M4Int,0,0);
  RecordField(CashupMaint,M4Int,0,0);
  RecordField(CashupMaintInterval,M4Time,0,0);
  RecordField(RestAccBookedDiscount,M4Int,0,0);
  RecordField(RestAccDiscountAcc,M4Code,10,AccVc);
  RecordField(RestAccServiceChargeItem,M4Code,20,INVc);
  RecordField(RestAccARAcc,M4Code,10,AccVc);
  RecordField(RequireReturnReason,M4Int,0,0);
  RecordField(RequireReturnCustomer,M4Int,0,0);
  RecordField(RestUpdStockMaint,M4Int,0,0);
  RecordField(RestUpdStockMaintTime,M4Time,0,0);
  RecordField(RestOKSD,M4Int,0,0);
  RecordField(RestBasePriceInclVAT,M4Int,0,0);
  RecordField(POSOKSD,M4Int,0,0);
  RecordField(ItemPictureCashier,M4Int,0,0);
  RecordField(ItemPictureCustomer,M4Int,0,0);
  EndBlock;
    
  BlockBegin(LocalMachineBlock,LocalMachineType,"");
  BlockForAllCompanies; // stored in client
  RecordField(LocalMachineCode,M4Code,20,0);
  LocalMachineBlockDefinition;
  EndBlock;

  RecordBegin(LocalMachineSetVc,-,"");
  RecordField(LocalMachine,M4Code,20,LocalMachineVc);
  LocalMachineBlockDefinition;
  MainKeyBegin(LocalMachine,1);
  StoreInBaseKey;
  AppendFieldToKeyName(MachineType);
  KeySegment(LocalMachine);
  SynchronizationIndex;
  EndRecord;

  BlockBegin(LocalLoginBlock,-,"");
  BlockForAllCompanies; // stored in client
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(Code,M4Code,10,0);
  ArrayField(colnr,M4Set,46,0);
  ArrayField(OnLoginWindow,M4Set,71,0);
  EndArray;
  EndBlock;

  BlockBegin(LocalLoginOptBlock,LocalLoginOptType,"");
  BlockForAllCompanies; // stored in client
  RecordField(DisplayLoginButtons,M4Int,0,0);
  RecordField(DisplayLoginKeyPad,M4Int,0,0);
  RecordField(AutoConToLastActComp,M4Int,0,0);
  RecordField(LastUserLoggedIn,M4Str,200,0);
  RecordField(LastUsedCompCode,M4Code,10,0);
  RecordField(WindowStyle,M4Set,320,0);
  RecordField(ServerIP,M4Str,60,0);
  RecordField(ServerPort,M4Long,0,0);
  RecordField(DontAskStorePwdOS,M4Int,0,0);
  RecordField(chsum,M4Long,0,0);
  RecordField(DontAskConnect,M4Int,0,0);
  RecordField(DontAskPhone,M4Int,0,0);
  RecordField(ForceUpdate,M4Int,0,0);
  RecordField(BiometricLogin,M4Set,427,0);
  RecordField(BiometricDevice,M4Set,428,0);
  RecordField(DontDisplayWelcomeScreen,M4Int,0,0);
  RecordField(DefaultProgramMode,M4Int,341,0);
  RecordField(GUIServer,M4Int,0,0);
  RecordField(LastEmailUserLoggedIn,M4Str,200,0);
  RecordField(DontAutoConToLastActComp,M4Int,0,0);
  EndBlock;
  
  BlockBegin(ItemButtonsBlock,-,"");
  BlockForAllCompanies; // stored in client
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(Label,M4Str,60,0);
  ArrayField(ArtCode,M4Code,20,INVc);
  ArrayField(colnr,M4Set,46,0);
  ArrayField(TileNr,M4Int,0,0);
  ArrayField(ButtonType,M4Set,319,0);
  EndArray;
  EndBlock;

  BlockBegin(ItemTileLabelBlock,-,"");
  BlockForAllCompanies; // stored in client
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(Label,M4Str,60,0);
  ArrayField(colnr,M4Set,46,0);
  ArrayField(TileNr,M4Int,0,0);
  EndArray;
  EndBlock;

  RecordBegin(CashierBalVc,-,"CashierBalVc2");
  RecordField(UserCode,M4Code,5,0);
  FieldIsUser(UserCode);
  RecordField(UserName,M4Str,60,0);
  RecordField(TransDate,M4Date,0,0);
  RecordField(StartBal,M4Val,0,0);
  RecordField(EndBal,M4Val,0,0);
  RecordField(OKFlag,M4Mark,0,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(Drawer,M4Code,5,0);
  RecordField(TransTime,M4Time,0,0);
  RecordField(MachineName,M4Code,20,0);
  RecordField(Math,M4Matrix,0,0);
  RecordField(SalesGroup,M4Code,5,SalesGroupVc);
  FieldIsGroup(SalesGroup);
  ArrayBegin(Math,-,1);
  ArrayField(PMCode,M4Code,2,0);
  ArrayField(CurncyCodeCode,M4Code,5,0);
  ArrayField(Amount,M4Val,0,0);
  EndArray;
  MainKeyBegin(UserCode,1);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
//  AppendFieldToKeyName(UserCode);
  KeySegment(UserCode);
  KeySegment(TransDate);
  KeySegment(TransTime); // I'm sure old code will be screwed up by this addition, but it should be possible to make as many cashier counts as you like, per day.
  SubsetKeyBegin2(TransDate);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(UserCode);
  KeySegment(TransDate);
  KeySegment(TransTime);
  KeySegment(UserCode);  
  SubsetKeyBegin2(OKFlag);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(UserCode);
  KeySegment(OKFlag);
  KeySegment(UserCode);  
  KeySegment(TransDate);
  KeySegment(TransTime);
  SubsetKeyBegin2(UserName);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(UserCode);
  KeySegment(UserName);
  KeySegment(UserCode);  
  KeySegment(TransDate);
  KeySegment(TransTime);
  KeyBegin(Cashup);
  KeySegment(MachineName);
  KeySegment(Drawer);
  KeySegment(TransDate);
  KeySegment(TransTime);
  KeySegment(UserCode);
  SubsetKeyBegin2(Drawer);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(UserCode);
  KeySegment(Drawer);
  KeySegment(TransDate);
  KeySegment(TransTime);
  KeySegment(UserCode);
  EndRecord;

  BlockBegin(DaughterCompBlock,-,"");
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,DaughterCompRowType,1);
  ArrayField(CompCode,M4Code,10,0);
  ArrayField(CompName,M4Str,60,0);
  ArrayField(TCPIP,M4Str,60,0);
  ArrayField(Port,M4Str,20,0);
  ArrayField(StartDate,M4Date,0,0);
  ArrayField(EndDate,M4Date,0,0);
  EndArray;
  EndBlock; 

  RecordBegin(OwnerPrcVc,-,"");
  RecordField(Date,M4Date,0,0);
  RecordField(Prc,M4Qty,0,0);
  MainKeyBegin(MainKey,0);
  KeySegment(Date);
  EndRecord;

  BlockBegin(ConsolidationBlock,-,"");
  RecordField(MotherCode,M4Str,10,0);
  RecordField(ConsCrncy,M4Int,0,0);
  RecordField(ReportingExchangeRates,M4Int,0,0);
  EndBlock;

  RecordBegin(USVc,USView,"");
  ImpExpLevel(0);
  RecordField(UserCode,M4Code,10,0);
  RecordField(Math,M4StatMat,0,0);
  MainKeyBegin(UserCode,0);
  KeySegment(UserCode);
  EndRecord;

  RecordBegin(IUSVc,IUSView,"");
  ImpExpLevel(0);
  RecordField(UserCode,M4Code,10,0);
  RecordField(ArtCode,M4Code,20,INVc);
  RecordField(Math,M4StatMat,0,0);
  MainKeyBegin(UserCode,0);
  KeySegment(UserCode);
  KeySegment(ArtCode);
  KeyBegin(ArtCode);
  KeySegment(ArtCode);
  KeySegment(UserCode);
  EndRecord;

  RecordBegin(AT2Vc,-,"");
  RecordField(Code,M4Code,20,0);
  RecordField(Inactive,M4Int,0,0);
  RecordField(Description,M4Str,60,0);
  RecordField(Objects,M4UStr,60,ObjVc);
  RecordField(AT2Class,M4Code,5,0);
  RecordField(AT2Group,M4Code,20,AT2Vc);
  RecordField(Comment0,M4Str,60,0);
  RecordField(D1,M4Dummy,0,0);
  RecordField(D2,M4Dummy,0,0);
  RecordField(D3,M4Dummy,0,0);
  RecordField(LastSTDate,M4Date,0,0);
  RecordField(CurQuant,M4Qty,0,0);
  RecordField(AssetType,M4Int,0,0);
  RecordField(Model1,M4Code,10,0);
  RecordField(Model2,M4Code,10,0);
  RecordField(MinModel,M4Code,10,0);
  RecordField(MaxModel,M4Code,10,0);
  RecordField(AcumulateDpr,M4Int,0,0);
  RecordField(Exclude,M4Int,0,0);
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(LangCode,M4Code,5,0);
  ArrayField(Text,M4Str,100,0);
  EndArray;
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeyBegin(AT2Class);
  KeySegment(AT2Class);
  KeySegment(Code);
  KeyBegin(Description);
  KeySegment(Description);
  KeySegment(Code);
  KeyBegin(AT2Group);
  KeySegment(AT2Group);
  KeySegment(Code);
  KeyBegin(AssetType);
  KeySegment(AssetType);
  KeySegment(Code);

  KeyBegin(ActCode);
  KeySegment(Code);
  KeyBegin(ActAT2Class);
  KeySegment(AT2Class);
  KeySegment(Code);
  KeyBegin(ActDescription);
  KeySegment(Description);
  KeySegment(Code);
  KeyBegin(ActAT2Group);
  KeySegment(AT2Group);
  KeySegment(Code);
  EndRecord;

  BlockBegin(AC2Block,-,"");
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(Code,M4Code,5,0);
  ArrayField(Asset1Acc,M4Code,10,AccVc);
  ArrayField(Depr1Acc,M4Code,10,AccVc);
  ArrayField(Cost1Acc,M4Code,10,AccVc);
  ArrayField(Asset2Acc,M4Code,10,AccVc);
  ArrayField(Depr2Acc,M4Code,10,AccVc);
  ArrayField(Cost2Acc,M4Code,10,AccVc);
  ArrayField(Objects,M4UStr,60,ObjVc);
  ArrayField(Comment,M4Str,60,0);
  ArrayField(Asset1Objects,M4UStr,60,ObjVc);
  ArrayField(Depr1Objects,M4UStr,60,ObjVc);
  ArrayField(Cost1Objects,M4UStr,60,ObjVc);
  ArrayField(Asset2Objects,M4UStr,60,ObjVc);
  ArrayField(Depr2Objects,M4UStr,60,ObjVc);
  ArrayField(Cost2Objects,M4UStr,60,ObjVc);
  ArrayField(RevDepr1Acc,M4Code,10,AccVc);
  ArrayField(RevDepr1Objects,M4UStr,60,ObjVc);
  ArrayField(CapCorr1Acc,M4Code,10,AccVc);
  ArrayField(CapCorr1Objects,M4UStr,60,ObjVc);
  EndArray;
  EndBlock;

  RecordBegin(AT2GroupVc,-,"");
  RecordField(Code,M4Code,20,0);
  RecordField(Description,M4Str,60,0);
  RecordField(Mother,M4Code,20,AT2GroupVc);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeyBegin(Description);
  KeySegment(Description);
  KeySegment(Code);
  EndRecord;

  RecordBegin(AT2RevVc,-,"");
  RecordField(SerNr,M4Long,0,0);
  SerialNoBlock(AT2RevSerBlock);    
  RecordField(AT2GroupCode,M4Code,20,0);
  RecordField(TransDate,M4Date,0,0);
  FieldIsTransDate(TransDate);
  RecordField(Description,M4Str,60,0);
  RecordField(Math,M4Matrix,0,0);
  RecordField(LegalDate,M4Date,0,0);
  RecordField(LegalCode,M4Str,40,0);
  RecordField(Account,M4Code,10,AccVc);
  ArrayBegin(Math,-,1);
  ArrayField(StartDate,M4Date,0,0);
  ArrayField(EndDate,M4Date,0,0);
  ArrayField(Coefficient,M45Val,0,0);
  ArrayField(Comment,M4Str,60,0);
  ArrayField(RevPerc,M4UVal,0,0);
  EndArray;
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeyBegin(AT2GroupCode);
  KeySegment(AT2GroupCode);
  KeySegment(SerNr);
  KeyBegin(TransDate);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(Description);
  KeySegment(Description);
  KeySegment(SerNr);
  EndRecord;

  BlockBegin(AT2AccBlock,-,"");
  RecordField(RevLossAcc,M4Code,10,AccVc);
  RecordField(CapInvAcc,M4Code,10,AccVc);
  RecordField(RevCostAcc,M4Code,10,AccVc);
  RecordField(SalesTransitAcc,M4Code,10,AccVc);
  RecordField(AssetNew,M4Int,0,0);//?
  RecordField(AssetSold,M4Int,0,0);//?
  RecordField(Model,M4Int,0,0);//?
  RecordField(SMType,M4Int,0,0);//?
  RecordField(LastMonthDispDprCalc,M4Int,0,0);
  RecordField(PostWrofTrans,M4Int,0,0);
  RecordField(SetAssetDepStartDate,M4Int,0,0);
  RecordField(RequireAssetNumberonVI,M4Int,0,0);
  EndBlock;

  RecordBegin(AT2PUVc,-,"");
  RecordField(SerNr,M4Long,0,0);
  SerialNoBlock(AT2PUSerBlock);      
  RecordField(TransDate,M4Date,0,0);
  FieldIsTransDate(TransDate);
  RecordField(OKFlag,M4Mark,0,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(DepCode,M4Code,10,0);
  RecordField(DepName,M4Str,60,0);
  RecordField(VECode,M4Code,20,VEVc);
  RecordField(VEName,M4Str,60,0);
  RecordField(Sign,M4Code,10,UserVc);  
  RecordField(Math,M4Matrix,0,0);
  RecordField(RespPerson,M4Code,10,UserVc);
  RecordField(VISerNr,M4Long,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(stp,M4Int,0,0);
  ArrayField(ovst,M4Int,0,0);
  ArrayField(AT2Code,M4Code,20,0);
  ArrayField(Description,M4Str,60,0);
  ArrayField(InventoryNr,M4Str,30,0);
  ArrayField(PurchPrice,M4Val,0,0);
  ArrayField(ExtraCost,M4Val,0,0);
  ArrayField(PurchVal,M4Val,0,0);
  ArrayField(InitDeprVal1,M4Val,0,0);
  ArrayField(InitDeprVal2,M4Val,0,0);
  ArrayField(InsuranceVal,M4Val,0,0);
  ArrayField(ResVal,M4Val,0,0);
  ArrayField(MinDprVal,M4Val,0,0);
  ArrayField(ProdDate,M4Date,0,0);
  ArrayField(StartingDate,M4Date,0,0);
  ArrayField(Model1,M4Code,10,0);
  ArrayField(Model2,M4Code,10,0);
  ArrayField(Metal,M4Code,10,0);// find better name
  ArrayField(MetalWeight,M45Val,0,0);
  ArrayField(SerialNr,M4Str,60,0);
  ArrayField(WarrantyNr,M4Str,60,0);
  ArrayField(Lifespan,M4Int,0,0);
  ArrayField(InvestVal,M4Val,0,0);
  ArrayField(ModelMin,M4Code,10,0);
  ArrayField(ModelMax,M4Code,10,0);
  ArrayField(SubsidyVal,M4Val,0,0);
  ArrayField(ContractNr,M4Str,60,0);
  ArrayField(EndDate,M4Date,0,0);
  ArrayField(NewUsedf,M4Set,53,0);
//  ArrayField(StartingDate2,M4Date,0,0);
//  ArrayField(VATVal,M4Val,0,0);
//  ArrayField(VATReclaimed,M4Val,0,0);
//  ArrayField(Qty,M4Qty,0,0);
  EndArray;
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeyBegin(TransDate);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(OKFlag);
  KeySegment(OKFlag);
  KeySegment(SerNr);
  KeyBegin(DepCode);
  KeySegment(DepCode);
  KeySegment(SerNr);
  KeyBegin(VECode);
  KeySegment(VECode);
  KeySegment(SerNr);
  EndRecord;
  
  RecordBegin(AT2UnitVc,-,"");
  RecordField(InventoryNr,M4Str,30,0);
  RecordField(PurchaseDate,M4Date,0,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(DepCode,M4Code,10,0);
  RecordField(DepName,M4Str,60,0);
  RecordField(VECode,M4Code,20,VEVc);
  RecordField(VEName,M4Str,60,0);
  RecordField(Sign,M4Code,10,UserVc);  
  RecordField(RespPerson,M4Code,10,UserVc);
  RecordField(VISerNr,M4Long,0,0);
  RecordField(AT2Code,M4Code,20,0);
  RecordField(Objects,M4UStr,60,ObjVc);
  RecordField(Description,M4Str,60,0);
  RecordField(PurchVal,M4Val,0,0);
  RecordField(InitDeprVal1,M4Val,0,0);
  RecordField(InitDeprVal2,M4Val,0,0);
  RecordField(InsuranceVal,M4Val,0,0);
  RecordField(ResVal,M4Val,0,0);
  RecordField(MinDprVal,M4Val,0,0);
  RecordField(ProdDate,M4Date,0,0);
  RecordField(StartingDate1,M4Date,0,0);
  RecordField(StartingDate2,M4Date,0,0);
  RecordField(EndDate,M4Date,0,0);
  RecordField(Model1,M4Code,10,0);
  RecordField(Model2,M4Code,10,0);
  RecordField(ModelMin,M4Code,10,0);
  RecordField(ModelMax,M4Code,10,0);
  RecordField(SerialNr,M4Str,60,0);
  RecordField(WarrantyNr,M4Str,60,0);
  RecordField(InvestVal,M4Val,0,0);
  RecordField(SubsidyVal,M4Val,0,0);
  RecordField(ContractNr,M4Str,60,0);
  RecordField(NewUsedf,M4Set,53,0);
  RecordField(VATVal,M4Val,0,0);
  RecordField(VATReclaimed,M4Val,0,0);
  RecordField(Quantity,M4UVal,0,0);
  RecordField(MotherInvNr,M4Str,20,0);
  RecordField(Activef,M4Int,0,0);
  RecordField(Subsidyf,M4Int,0,0);
  RecordField(LandVal,M4Val,0,0);
  RecordField(FiscalVal,M4Val,0,0);
  RecordField(VEInvoiceNr,M4Str,20,0);
  RecordField(InvestYear,M4Long,0,0);
  RecordField(UsedFromDate,M4Date,0,0);
  RecordField(InvestDate,M4Date,0,0);
  RecordField(AT2Class,M4Code,5,0);
  RecordField(IdleCost,M4Val,0,0);
  RecordField(RunCost,M4Val,0,0);
  RecordField(PurchVal2,M4Val,0,0);
  RecordField(SubLandVal,M4Int,0,0);
  RecordField(ProdObjects,M4UStr,60,ObjVc);
  RecordField(Classification,M4List,200,AT2ClassVc);
  MainKeyBegin(InventoryNr,0);
  KeySegment(InventoryNr);
  KeyBegin(AT2Code);
  KeySegment(AT2Code);
  KeySegment(InventoryNr);
  KeyBegin(DepCode);
  KeySegment(DepCode);
  KeySegment(InventoryNr);
  KeyBegin(AT2CodeSDate1);
  KeySegment(AT2Code);
  KeySegment(StartingDate1);
  KeySegment(InventoryNr);
  KeyBegin(AT2CodeSDate2);
  KeySegment(AT2Code);
  KeySegment(StartingDate2);
  KeySegment(InventoryNr);
  KeyBegin(Subsidyf);
  KeySegment(Subsidyf);
  KeySegment(InventoryNr);
  KeyBegin(ActInventoryNr);
  KeySegment(InventoryNr);
  KeySegment(Activef);
  KeyBegin(ActAT2Code);
  KeySegment(AT2Code);
  KeySegment(InventoryNr);
  KeySegment(Activef);
  KeyBegin(Description);
  KeySegment(Description);
  KeySegment(InventoryNr);
  KeyBegin(AT2Class);
  KeySegment(AT2Class);
  KeySegment(InventoryNr);
  KeyBegin(SerialNr);  
  KeySegment(SerialNr);
  KeySegment(InventoryNr);
  KeyBegin(RespPerson);  
  KeySegment(RespPerson);
  KeySegment(InventoryNr);
  KeyBegin(MotherInvNr);  
  KeySegment(MotherInvNr);
  KeySegment(InventoryNr);
  EndRecord;
  
  RecordBegin(ATCoeffVc,-,"");
  RecordField(TransDate,M4Date,0,0);
  RecordField(Comment,M4Str,100,0);
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(CoeffDate,M4Date,0,0);
  ArrayField(CoeffVal,M4Qty,0,0);
  EndArray;
  MainKeyBegin(TransDate,0);
  KeySegment(TransDate);
  KeyBegin(Comment);
  KeySegment(Comment);
  KeySegment(TransDate);
  EndRecord;

  RecordBegin(AT2MovVc,-,"");
  RecordField(SerNr,M4Long,0,0);
  SerialNoBlock(AT2MovSerBlock);    
  RecordField(TransDate,M4Date,0,0);
  FieldIsTransDate(TransDate);
  RecordField(OKFlag,M4Mark,0,0);
  RecordField(DepFrom,M4Code,10,0);
  RecordField(DepTo,M4Code,10,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(Sign,M4Code,10,UserVc);  
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(AT2Code,M4Code,20,0);
  ArrayField(Description,M4Str,60,0);
  ArrayField(InventoryNr,M4Str,30,0);
  EndArray;
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeyBegin(TransDate);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(OKFlag);
  KeySegment(OKFlag);
  KeySegment(SerNr);
  KeyBegin(DepFrom);
  KeySegment(DepFrom);
  KeySegment(SerNr);
  KeyBegin(DepTo);
  KeySegment(DepTo);
  KeySegment(SerNr);
  EndRecord;

  RecordBegin(AT2RespVc,-,"");
  RecordField(SerNr,M4Long,0,0);
  SerialNoBlock(AT2RespSerBlock);    
  RecordField(TransDate,M4Date,0,0);
  FieldIsTransDate(TransDate);
  RecordField(OKFlag,M4Mark,0,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(UserCode,M4Code,5,0);
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(AT2Code,M4Code,20,0);
  ArrayField(Description,M4Str,60,0);
  ArrayField(InventoryNr,M4Str,30,0);
  EndArray;
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeyBegin(TransDate);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(OKFlag);
  KeySegment(OKFlag);
  KeySegment(SerNr);
  KeyBegin(UserCode);
  KeySegment(UserCode);
  KeySegment(SerNr);
  EndRecord;

  RecordBegin(AT2WrofVc,-,"");
  RecordField(SerNr,M4Long,0,0);
  SerialNoBlock(AT2WrofSerBlock);    
  RecordField(TransDate,M4Date,0,0);
  FieldIsTransDate(TransDate);
  RecordField(OKFlag,M4Mark,0,0);
  RecordField(DepCode,M4Code,10,0);
  RecordField(Sign,M4Code,10,UserVc);
  RecordField(Account,M4Code,10,0);
  RecordField(Writeoff,M4Int,0,0);
  RecordField(WriteoffMark,M4Mark,0,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(RefStr,M4Str,60,0);
  RecordField(Cause,M4Str,10,0);
  RecordField(Math,M4Matrix,0,0);
  RecordField(TransTime,M4Time,0,0);
  RecordField(LangCode,M4Code,5,0);
  RecordField(Invalid,M4Int,0,0);
  FieldIsInvalid(Invalid);
  ArrayBegin(Math,-,1);
  ArrayField(AT2Code,M4Code,20,0);
  ArrayField(Description,M4Str,60,0);
  ArrayField(InventoryNr,M4Str,30,0);
  ArrayField(Account,M4Code,10,0);
  ArrayField(Objects,M4UStr,60,ObjVc);
  ArrayField(SalesVal,M4Val,0,0);
  ArrayField(Qty,M4UVal,0,0);
  ArrayField(DprVal,M4Val,0,0);
  EndArray;
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeyBegin(TransDate);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(OKFlag);
  KeySegment(OKFlag);
  KeySegment(SerNr);
  KeyBegin(Writeoff);
  KeySegment(Writeoff);
  KeySegment(SerNr);
  KeyBegin(WriteoffMark);
  KeySegment(WriteoffMark);
  KeySegment(SerNr);
  KeyBegin(DepCode);
  KeySegment(DepCode);
  KeySegment(SerNr);
  EndRecord;

  RecordBegin(AT2DprVc,-,"");
  RecordField(SerNr,M4Long,0,0);
  SerialNoBlock(AT2DprSerBlock);    
  RecordField(AT2Code,M4Code,20,0);
  RecordField(Description,M4Str,60,0);
  RecordField(TransDate,M4Date,0,0);
  FieldIsTransDate(TransDate);
  RecordField(StartingDate1,M4Date,0,0);
  RecordField(Model1,M4Code,10,0);
  RecordField(Model2,M4Code,10,0);
  RecordField(StartVal,M4Val,0,0);
  RecordField(StartVal2,M4Val,0,0);
  RecordField(InventoryNr,M4Str,30,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(ResVal,M4Val,0,0);
  RecordField(Sign,M4Code,10,UserVc);  
  RecordField(ModSerNr,M4Long,0,0);  
  RecordField(NonFiscalCostVal,M4Val,0,0);
  RecordField(AT2Group,M4Str,20,AT2GroupVc);
  RecordField(StartingDate2,M4Date,0,0);
  RecordField(LegalCode,M4Str,40,0);
  RecordField(EndDate,M4Date,0,0);
  RecordField(SMSerNr,M4Long,0,0);  
  RecordField(TerminateDpr,M4Int,0,0);  
  RecordField(ATSerialNr,M4Str,60,0);
  RecordField(LandVal,M4Val,0,0);
  RecordField(StartValLimit,M4Val,0,0);
  RecordField(StartVal2Limit,M4Val,0,0);
  RecordField(InitDeprVal1,M4Val,0,0);
  RecordField(InitDeprVal2,M4Val,0,0);
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeyBegin(TransDate);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(InventoryNr);
  KeySegment(InventoryNr);
  KeySegment(SerNr);
  KeyBegin(DateInventoryNr);
  KeySegment(InventoryNr);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(LegalCode);
  KeySegment(LegalCode);
  KeySegment(InventoryNr);
  KeySegment(SerNr);
  KeyBegin(AT2CodeSDate1);
  KeySegment(LegalCode);
  KeySegment(AT2Code);
  KeySegment(StartingDate1);
  KeySegment(InventoryNr);
  KeySegment(SerNr);
  KeyBegin(StartingDate1);
  KeySegment(InventoryNr);
  KeySegment(StartingDate1);
  KeySegment(SerNr);
  KeyBegin(StartingDate2);
  KeySegment(InventoryNr);
  KeySegment(StartingDate2);
  KeySegment(SerNr);
  KeyBegin(ATSerialNr);
  KeySegment(ATSerialNr);
  KeySegment(InventoryNr);
  KeySegment(SerNr);
  EndRecord;

  RecordBegin(AT2RevListVc,-,"");
  RecordField(SerNr,M4Long,0,0);
  RecordField(TransDate,M4Date,0,0);
  RecordField(Comment,M4Str,100,0);
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(CodeType,M4Set,55,0);
  ArrayField(InventoryNr,M4Str,30,0);
  ArrayField(AT2RevSerNr,M4Long,0,0);
  EndArray;
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeyBegin(TransDate);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(Comment);
  KeySegment(Comment);
  KeySegment(SerNr);
  EndRecord;
  
  RecordBegin(InvBalVc,-,"");
  ImpExpLevel(0);
  RecordField(InventoryNr,M4Str,30,0);
  RecordField(CurDepartment,M4Code,10,0);
  RecordField(CurPerson,M4Code,10,UserVc);
  RecordField(CurQuant,M4Qty,0,0);
  MainKeyBegin(MainKey,0);
  KeySegment(InventoryNr);
  KeySegment(CurDepartment);
  KeyBegin(CurDepartment);
  KeySegment(CurDepartment);
  KeySegment(InventoryNr);
  EndRecord;

  RecordBegin(InvrsVc,-,"");
  ImpExpLevel(0);
  RecordField(InventoryNr,M4Str,30,0);
  RecordField(Department,M4Code,10,0);
  RecordField(FileName,M4Str,20,0);
  RecordField(TransNr,M4Long,0,0);
  RecordField(TransDate,M4Date,0,0);
  RecordField(Row,M4Int,0,0);
  RecordField(LegalCode,M4Str,40,0);
  RecordField(AT2Code,M4Code,20,0);
  RecordField(SerialNr,M4Str,60,0);
  MainKeyBegin(MainKey,0);
  KeySegment(InventoryNr);
  KeySegment(TransDate);
  KeySegment(FileName);
  KeySegment(Department);
  KeySegment(TransNr);
  KeySegment(Row);
  KeyBegin(Department);
  KeySegment(Department);
  KeySegment(InventoryNr);
  KeySegment(TransDate);
  KeySegment(FileName);
  KeySegment(TransNr);
  KeySegment(Row);
  KeyBegin(FileName);
  KeySegment(FileName);
  KeySegment(InventoryNr);
  KeySegment(TransDate);
  KeySegment(Department);
  KeySegment(TransNr);
  KeySegment(Row);
  KeyBegin(AT2CodeFileName);
  KeySegment(AT2Code);
  KeySegment(FileName);
  KeySegment(InventoryNr);
  KeySegment(TransDate);
  KeySegment(Department);
  KeySegment(TransNr);
  KeySegment(Row);
  KeyBegin(TransNr);
  KeySegment(FileName);
  KeySegment(InventoryNr);
  KeySegment(TransDate);
  KeySegment(TransNr);
  KeySegment(Department);
  KeySegment(Row);
  KeyBegin(SerialNr);
  KeySegment(SerialNr);
  KeySegment(InventoryNr);
  KeySegment(TransDate);
  KeySegment(FileName);
  KeySegment(Department);
  KeySegment(TransNr);
  KeySegment(Row);  
  EndRecord;

  RecordBegin(AT2TakeVc,-,"");
  RecordField(SerNr,M4Long,0,0);
  SerialNoBlock(AT2TakeSerBlock);    
  RecordField(TransDate,M4Date,0,0);
  FieldIsTransDate(TransDate);
  RecordField(OKFlag,M4Mark,0,0);
  RecordField(DepCode,M4Code,10,0);
  RecordField(Sign,M4Code,10,UserVc);
  RecordField(Comment,M4Str,60,0);
  RecordField(Math,M4Matrix,0,0);
  RecordField(RespPerson,M4Code,10,UserVc);
  RecordField(PhysCheckf,M4Int,0,0);
  RecordField(TransTime,M4Time,0,0);
  RecordField(MotherInvNr,M4Str,20,0);
  ArrayBegin(Math,-,1);
  ArrayField(AT2Code,M4Code,20,0);
  ArrayField(Description,M4Str,60,0);
  ArrayField(InventoryNr,M4Str,30,0);
  ArrayField(Comment,M4Str,60,0);
  ArrayField(ATTakeStatus,M4Set,54,0);
  ArrayField(LoanPerson,M4Code,10,UserVc);
  ArrayField(Qty,M4UVal,0,0);
  EndArray;
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeyBegin(TransDate);
  KeySegment(TransDate);
  KeySegment(TransTime);
  KeySegment(SerNr);
  KeyBegin(DepCode);
  KeySegment(DepCode);
  KeySegment(SerNr);
  KeyBegin(OKFlag);
  KeySegment(OKFlag);
  KeySegment(SerNr);
  EndRecord;

  RecordBegin(AT2TransVc,-,"");
  RecordField(InventoryNr,M4Str,30,0);
  recordField(Name,M4Str,200,0);
  RecordField(TransNr,M4Long,0,0);
  RecordField(TransDate,M4Date,0,0);
  RecordField(Sum,M4Val,0,0);
  RecordField(Type,M4Int,0,0);
  RecordField(IntYc,M4Int,0,0);
  RecordField(Sum2,M4Val,0,0);
  MainKeybegin(InventoryNr,0);
  KeySegment(InventoryNr);
  KeySegment(TransNr);
  KeySegment(IntYc);
  KeyBegin(TransDate);
  KeySegment(TransDate);
  KeySegment(InventoryNr);
  KeySegment(TransNr);
  KeySegment(IntYc);
  KeyBegin(Type);
  KeySegment(Type);
  KeySegment(InventoryNr);
  Keysegment(TransNr);
  KeySegment(IntYc);
  EndRecord;

  RecordBegin(RetPUVc,-,"");
  RecordField(SerNr,M4Long,0,0);
  SerialNoBlock(RetPUSerBlock);
  RecordField(RegDate,M4Date,0,0);
  RecordField(TransDate,M4Date,0,0);
  FieldIsTransDate(TransDate);
  RecordField(Comment,M4Str,60,0);
  RecordField(VECode,M4Code,20,VEVc);
  RecordField(VEName,M4Str,60,0);
  RecordField(PONr,M4Long,0,0);
  RecordField(Location,M4Code,10,LocationVc);
  FieldIsLocation(Location);
  RecordField(OKFlag,M4Mark,0,0);
  RecordField(CurncyCode,M4Code,5,CurncyCodeVc);
  RecordField(ToRateB1,M4Rate,0,0);
  RecordField(InclVAT,M4Int,0,0);
  RecordField(SumCostPrice,M45Val,0,0);
  RecordField(SumQuant,M4Qty,0,0);
  RecordField(ExportedFlag,M4Int,0,0);
  RecordField(FrRate,M4Rate,0,0); 
  RecordField(ToRateB2,M4Rate,0,0); 
  RecordField(BaseRate1,M4Rate,0,0); 
  RecordField(BaseRate2,M4Rate,0,0); 
  RecordField(LocOKNr,M4Qty,0,0);
  RecordField(PUNr,M4Long,0,0);
  RecordField(Objects,M4UStr,60,ObjVc);
  RecordField(Invalid,M4Int,0,0);
  FieldIsInvalid(Invalid);
  RecordField(ExportFlag,M4Int,0,0);
  RecordField(Type,M4Int,0,0);
  RecordField(UpdStockFlag,M4Int,0,0);
  RecordField(Math,M4Matrix,0,0);
  RecordField(FreightCode,M4Code,5,0);
  RecordField(FreightCompanyRegNr,M4Str,60,0);
  RecordField(FreightCompany,M4Str,60,0);
  RecordField(TruckInfo,M4Str,60,0);
  RecordField(Driver,M4Str,60,0);
  RecordField(CMRText,M4Str,60,0);
  RecordField(DelAddrCode,M4Code,20,0);
  RecordField(DelAddr0,M4Str,60,0);
  RecordField(DelAddr1,M4Str,60,0);
  RecordField(DelAddr2,M4Str,60,0);
  RecordField(DelAddr3,M4Str,60,0);
  RecordField(DelAddr4,M4Str,60,0);  
  RecordField(Reason,M4Code,20,0);
  RecordField(InvalidDate,M4Date,0,0);
  RecordField(Sorting,M4Str,20,0);
  RecordField(TerminalID,M4Str,60,0);
  RecordField(BranchID,M4Code,20,CUVc);
  RecordField(OfficialSerNr,M4Str,100,0);
  RecordField(Hash,M4Str,255,0);
  RecordField(HashKeyVersion,M4Int,0,0);
  RecordField(RegTime,M4Time,0,0);
  RecordField(LocalMachineCode,M4Code,20,0);
  RecordField(LangCode,M4Code,5,0);
  RecordField(ShipCost,M4UVal,0,0);
  RecordField(CustomsCost,M4UVal,0,0);
  RecordField(ExtraCost,M4UVal,0,0);
  RecordField(Cost1,M4UVal,0,0);
  RecordField(Cost2,M4UVal,0,0);
  RecordField(Cost3,M4UVal,0,0);
  RecordField(Cost4,M4UVal,0,0);
  RecordField(Cost5,M4UVal,0,0);
  RecordField(ShipCostRound,M4UVal,0,0);
  RecordField(CustomsCostRound,M4UVal,0,0);
  RecordField(Cost1Round,M4UVal,0,0);
  RecordField(Cost2Round,M4UVal,0,0);
  RecordField(Cost3Round,M4UVal,0,0);
  RecordField(Cost4Round,M4UVal,0,0);
  RecordField(Cost5Round,M4UVal,0,0);
  RecordField(ExtraCostsCalculation,M4Int,0,0);
  RecordField(OKBy,M4Code,10,UserVc);
  RecordField(PlanSendDate,M4Date,0,0);
  RecordField(PlanSendTime,M4Time,0,0);
  RecordField(PlanArrDate,M4Date,0,0);
  RecordField(PlanArrTime,M4Time,0,0);
  RecordField(TaxAdminServSeal,M4Str,200,0);
  RecordField(Status,M4Set,361,0);
  RecordField(OfficialSerNrSerie,M4Str,30,0);
  RecordField(OfficialSerNr2,M4Str,100,0);
  RecordField(OfficialSerNr2Serie,M4Str,30,0);
  RecordField(Sign,M4Code,10,UserVc);
  FieldIsUser(Sign);
  RecordField(SalesGroup,M4Code,5,SalesGroupVc);
  FieldIsGroup(SalesGroup);
  ArrayBegin(Math,-,1);
  ArrayField(ArtCode,M4Code,20,INVc);
  ArrayField(Quant,M4UVal,0,0);
  ArrayField(Spec,M4Str,100,0);
  ArrayField(FIFO,M45Val,0,0);
  ArrayField(FIFORowVal,M45Val,0,0);
  ArrayField(SerialNr,M4Str,60,0);
  ArrayField(VEItemCode,M4Code,20,0);
  ArrayField(BestBefore,M4Date,0,0);
  ArrayField(Coefficient,M45Val,0,0);
  ArrayField(Objects,M4UStr,60,ObjVc);
  ArrayField(CostAcc,M4UStr,10,AccVc);
  ArrayField(CredAcc,M4UStr,10,AccVc);
  ArrayField(PosCode,M4Code,20,0);
  ArrayField(UnitXval,M4UVal,0,0);
  ArrayField(UnitYval,M4UVal,0,0);
  ArrayField(UnitZval,M4UVal,0,0);
  ArrayField(VATCode,M4Code,10,VATCodeBlock);
  ArrayField(OrdRow,M4Long,0,0);
  ArrayField(VarianceAmount,M4Val,0,0);
  ArrayField(PUNr,M4Long,0,0);
  ArrayField(PURow,M4Long,0,0);
  ArrayField(Location,M4Code,10,LocationVc);
  ArrayField(PUCostPrice,M45Val,0,0);
  ArrayField(PONr,M4Long,0,0);
  ArrayField(ShipCost,M45Val,0,0);
  ArrayField(CustomsCost,M4PrcStr,20,0); //!!
  ArrayField(RowCost1,M4UVal,0,0);
  ArrayField(RowCost2,M4UVal,0,0);
  ArrayField(RowCost3,M4UVal,0,0);
  ArrayField(RowCost4,M4UVal,0,0);
  ArrayField(RowCost5,M4UVal,0,0);
  EndArray;
  MainKeyBegin(SerNr,1);
  StoreInBaseKey;
  AppendListFieldToKeyName(Sign);
  AppendListFieldToKeyName(SalesGroup);
  KeySegment(SerNr);
  KeyBegin(ExportedFlag);
  KeySegment(ExportedFlag);
  KeySegment(SerNr);
  SubsetKeyBegin2(OKFlag);
  StoreInBaseKey;
  AppendListFieldToKeyName(Sign);
  AppendListFieldToKeyName(SalesGroup);
  KeySegment(OKFlag);
  KeySegment(SerNr);
  SubsetKeyBegin2(TransDate);
  StoreInBaseKey;
  AppendListFieldToKeyName(Sign);
  AppendListFieldToKeyName(SalesGroup);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(PONr);
  KeySegment(PONr);
  KeySegment(SerNr);
  SubsetKeyBegin2(VECode);
  StoreInBaseKey;
  AppendListFieldToKeyName(Sign);
  AppendListFieldToKeyName(SalesGroup);
  KeySegment(VECode);
  KeySegment(SerNr);
  SubsetKeyBegin2(Comment);
  StoreInBaseKey;
  AppendListFieldToKeyName(Sign);
  AppendListFieldToKeyName(SalesGroup);
  KeySegment(Comment);
  KeySegment(SerNr);
  KeyBegin(LocOK);
  KeySegment(Location);
  KeySegment(OKFlag);
  KeySegment(TransDate);  
  KeySegment(SerNr);  
  KeyBegin(PUNr);
  KeySegment(PUNr);
  KeySegment(SerNr);
  SubsetKeyBegin2(RowPUNr);
  StoreInBaseKey;
  AppendMatrixFieldToKeyName(PUNr,0);
  KeySegment(SerNr);
  SubsetKeyBegin2(RowPURow);
  StoreInBaseKey;
  AppendMatrixFieldToKeyName(PURow,0);
  KeySegment(PUNr);
  KeySegment(SerNr);
  KeyBegin(VECodeTransDate);
  KeySegment(VECode);
  KeySegment(TransDate);  
  KeySegment(SerNr);
  KeyBegin(OKFlagTransDate);
  KeySegment(OKFlag);
  KeySegment(TransDate);
  KeySegment(SerNr);
  SubsetKeyBegin2(RowPONr);
  StoreInBaseKey;
  AppendMatrixFieldToKeyName(PONr,0);
  KeySegment(SerNr);
  KeyBegin(SortingDate);
  KeySegment(Sorting);
  KeySegment(TransDate);
  KeySegment(SerNr);
  SubsetKeyBegin2(VEName);
  StoreInBaseKey;
  AppendListFieldToKeyName(Sign);
  AppendListFieldToKeyName(SalesGroup);
  KeySegment(VEName);
  KeySegment(SerNr);
  SubsetKeyBegin2(OfficialSerNr);
  StoreInBaseKey;
  AppendListFieldToKeyName(Sign);
  AppendListFieldToKeyName(SalesGroup);
  KeySegment(OfficialSerNr);
  KeySegment(SerNr);
  KeyBegin(RegDate);
  KeySegment(RegDate);
  KeySegment(RegTime);
  KeySegment(SerNr);
  KeyBegin(PlanSendDate);
  KeySegment(PlanSendDate);
  KeySegment(SerNr);
  KeyBegin(OpenOfficialSerNr2);
  KeySegment(OfficialSerNr2);
  KeySegment(SerNr);
  EndRecord;

  RecordBegin(IVCashVc,IVCashType,"ivcash2");
  NewAutosyncRegister(kSyncDirectionToServer,true);
  RecordField(SerNr,M4Long,0,0);
  SerialNoBlock(IVCashSerBlock);
  RecordField(InvDate,M4Date,0,0);
  RecordField(CustCode,M4Code,20,CUVc);
  RecordField(Addr0,M4Str,60,0);
  RecordField(Addr1,M4Str,60,0);
  RecordField(Addr2,M4Str,60,0);
  RecordField(Addr3,M4Str,60,0);
  RecordField(CustCat,M4Code,5,0);
  RecordField(OKFlag,M4Mark,0,0);
  RecordField(ARonTR,M4Int,0,0);
  RecordField(UpdStockFlag,M4Int,0,0);
  RecordField(ExportedFlag,M4Int,0,0);
  RecordField(InclVAT,M4Int,0,0);
  RecordField(PayDate,M4Date,0,0);
  RecordField(TransDate,M4Date,0,0);
  FieldIsTransDate(TransDate);
  RecordField(OurContact,M4Str,20,0);
  RecordField(ClientContact,M4Str,60,0);
  RecordField(SalesMan,M4UStr,60,UserVc);
  RecordField(PayDeal,M4Code,2,0);
  RecordField(RecValue,M4Val,0,0);
  RecordField(RetValue,M4Val,0,0);
  RecordField(Sum0,M4Val,0,0);
  RecordField(Sum1,M4Val,0,0);
  RecordField(Sum2,M4Val,0,0);
  RecordField(Sum3,M4Val,0,0);
  RecordField(Sum4,M4Val,0,0);
  RecordField(VATNr,M4Str,20,0);
  RecordField(BaseSum4,M4Val,0,0);
  RecordField(FrRate,M4Rate,0,0); 
  RecordField(ToRateB1,M4Rate,0,0); 
  RecordField(ToRateB2,M4Rate,0,0); 
  RecordField(BaseRate1,M4Rate,0,0); 
  RecordField(BaseRate2,M4Rate,0,0); 
  RecordField(CurncyCode,M4Code,5,CurncyCodeVc);
  RecordField(LangCode,M4Code,5,0);
  RecordField(CustOrdNr,M4Str,60,0);
  RecordField(PriceList,M4Code,5,0);
  RecordField(CustVATCode,M4Code,10,VATCodeBlock);
  RecordField(RebCode,M4Code,5,0);
  RecordField(CreditCard,M4UStr,20,CreditCardVc);
  RecordField(AuthorizationCode,M4UStr,10,0);
  RecordField(InvComment,M4Str,60,0);
  RecordField(LocOKNr,M4Qty,0,0);
  RecordField(Invalid,M4Int,0,0);
  FieldIsInvalid(Invalid);
  RecordField(Prntdf,M4Int,0,0);
  RecordField(pdays,M4Long,0,0);
  RecordField(pdvrebt,M4Qty,0,0);
  RecordField(pdrdays,M4Long,0,0);
  RecordField(TotGP,M4Val,0,0);
  RecordField(Objects,M4UStr,60,ObjVc);
  RecordField(Location,M4Code,10,LocationVc);
  FieldIsLocation(Location);
  RecordField(ARAcc,M4Code,10,AccVc);
  RecordField(POSNr,M4Long,0,0);
  RecordField(TransTime,M4Time,0,0);
  RecordField(NLFlag,M4Mark,0,0);
  RecordField(CashValue,M4Val,0,0);
  RecordField(PayDeal2,M4Code,2,0);
  RecordField(RecValue2,M4Val,0,0);
  RecordField(CreditCard2,M4UStr,20,CreditCardVc);
  RecordField(AuthorizationCode2,M4UStr,10,0);
  RecordField(TotQty,M4Qty,0,0);
  RecordField(TotWeight,M4Qty,0,0);
  RecordField(TotVolume,M4Qty,0,0);
  RecordField(LocalMachineCode,M4Code,20,0);
  RecordField(Math,M4Matrix,0,0);
  RecordField(InvAddr3,M4Str,60,0);
  RecordField(InvAddr4,M4Str,60,0);
  RecordField(DelAddrCode,M4Code,20,0);
  RecordField(CashValueB2,M4Val,0,0);
  RecordField(RetValueB2,M4Val,0,0);
  RecordField(CashValueCur,M4Val,0,0);
  RecordField(RetValueCur,M4Val,0,0);
  RecordField(POSCurncyCode,M4Code,5,CurncyCodeVc);
  RecordField(TAX1Sum,M4Val,0,0);
  RecordField(FiscalFlag,M4Mark,0,0);
  RecordField(OrderNr,M4Long,0,0);
  RecordField(StatVal,M4Val,0,0);
  RecordField(DrawerCode,M4Code,5,0);
  RecordField(Region,M4Code,20,RegionVc);
  RecordField(TAX2Sum,M4Val,0,0);
  RecordField(pdvrebt2,M4Qty,0,0);
  RecordField(pdrdays2,M4Long,0,0);
  RecordField(POSSalesNo,M4Long,0,0);
  RecordField(NoTAXonVAT,M4Long,0,0);
  RecordField(TotalwoTAX,M4Int,0,0);
  RecordField(RegDate,M4Date,0,0);
  RecordField(RegTime,M4Time,0,0);
  RecordField(TendValue,M4Val,0,0);
  RecordField(TerminalID,M4Str,60,0);
  RecordField(OfficialSerNr,M4Str,100,0);
  RecordField(OfficialSerNr2,M4Str,100,0);
  RecordField(FiscalDeviceSeqNr,M4Long,0,0);
  RecordField(BranchID,M4Code,20,CUVc);
  RecordField(SDNr,M4Long,0,0);
  RecordField(PUNr,M4Long,0,0);
  RecordField(TransferToSL,M4Int,0,0);
  RecordField(IVNr,M4Long,0,0);
  RecordField(LoyaltyCardNr,M4Code,20,0);
  RecordField(LCMLevel,M4Code,10,0);
  RecordField(Points,M4Val,0,0); 
  RecordField(Supervisor,M4Code,10,UserVc);
  RecordField(Bagger,M4Code,10,UserVc);
  RecordField(DepCode,M4Code,10,0);
  RecordField(CustTaxTemplateCode,M4Code,10,TaxTemplateVc);
  RecordField(TaxMatrix,M4PackedMatrix,0,TaxMatrixVc);
  RecordField(CCTransID,M4UStr,50,0);
  RecordField(DiscountCardNr,M4Str,40,0);
  RecordField(DiscountFwdBal,M4Val,0,0);
  RecordField(StartTime,M4Time,0,0);
  RecordField(InvalidDate,M4Date,0,0);
  RecordField(Suspended,M4Int,0,0);
  RecordField(Hash,M4Str,255,0);
  RecordField(HashKeyVersion,M4Int,0,0);
  RecordField(AllowIncorrectSerial,M4Int,0,0);
  RecordField(RefStr,M4Str,60,0);
  RecordField(RegNr1,M4Str,20,0);
  RecordField(RegNr2,M4Str,20,0);
  RecordField(PrintDate,M4Date,0,0);
  RecordField(Sign,M4Code,10,UserVc);
  RecordField(InvalidTime,M4Time,0,0);
  RecordField(OKBy,M4Code,10,UserVc);
  RecordField(InvalidBy,M4Code,10,UserVc);
  RecordField(TaxAdminServSeal,M4Str,250,0);
  RecordField(Status,M4Set,361,0);
  RecordField(OfficialSerNrSerie,M4Str,30,0);
  RecordField(OfficialSerNr2Serie,M4Str,30,0);
  RecordField(Resource,M4Code,10,ResVc);
  RecordField(GuestCode,M4Code,20,CUVc);
  RecordField(GuestName,M4Str,60,0);
  RecordField(InvType,M4Int,0,0); /* kPOSInvoiceType*/
  RecordField(IPBookVAT,M4Int,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(stp,M4Int,0,0);
  ArrayField(ArtCode,M4Code,20,INVc);
  ArrayField(Quant,M4UVal,0,0);
  ArrayField(Price,M423Val,0,0);
  ArrayField(Sum,M4Val,0,0);
  ArrayField(vRebate,M4Str,20,0);//ArrayField(vRebate,M41Val,0,0);
  ArrayField(SalesAcc,M4Code,10,AccVc);
  ArrayField(Objects,M4UStr,60,ObjVc);
  ArrayField(BasePrice,M4Val,0,0);
  ArrayField(rowGP,M4Val,0,0);
  ArrayField(FIFO,M45Val,0,0);
  ArrayField(Spec,M4Str,100,0);
  ArrayField(VATCode,M4Code,10,VATCodeBlock);
  ArrayField(Recepy,M4Code,20,RecVc);
  ArrayField(SerialNr,M4Str,60,0);
  ArrayField(PriceFactor,M45Val,0,0);
  ArrayField(FIFORowVal,M45Val,0,0);
  ArrayField(Coefficient,M45Val,0,0);
  ArrayField(ExciseNr,M4Str,20,0);
  ArrayField(UnitCode,M4Code,5,0);
  ArrayField(UnitFactQuant,M4UVal,0,0);
  ArrayField(UnitFactPrice,M423Val,0,0);
  ArrayField(UnitXval,M4UVal,0,0);
  ArrayField(UnitYval,M4UVal,0,0);
  ArrayField(UnitZval,M4UVal,0,0);
  ArrayField(OrdQuant,M4UVal,0,0);
  ArrayField(DownPaidSum,M4Val,0,0);
  ArrayField(OrdRow,M4Long,0,0);
  ArrayField(PosCode,M4Code,20,0);
  ArrayField(TAX2Code,M4Code,5,0);
  ArrayField(TAX2Prc,M423Val,0,0);
  ArrayField(TAX2Reb,M4Val,0,0);
  ArrayField(TAX1Reb,M4Val,0,0);
  ArrayField(TAX2Acc,M4Code,10,AccVc);
  ArrayField(GCNr,M4Long,0,0);   
  ArrayField(PayMode,M4Code,2,0);   
  ArrayField(CreditCard,M4UStr,20,CreditCardVc);
  ArrayField(AuthorizationCode,M4UStr,10,0);
  ArrayField(CurncyCode,M4Code,5,CurncyCodeVc); 
  ArrayField(FrRate,M4Rate,0,0); 
  ArrayField(ToRateB1,M4Rate,0,0);
  ArrayField(ToRateB2,M4Rate,0,0); 
  ArrayField(BaseRate1,M4Rate,0,0); 
  ArrayField(BaseRate2,M4Rate,0,0);   
  ArrayField(VoidedRowNr,M4Long,0,0);   
  ArrayField(Sign,M4Code,10,UserVc);
  ArrayField(ovst,M4Int,0,0);
  ArrayField(VoidedSign,M4Code,10,UserVc);
  ArrayField(DiscApprovedBy,M4Code,10,UserVc);
  ArrayField(ChequeNr,M4Long,0,0);   
  ArrayField(CheckNr,M4UStr,20,0);   
  ArrayField(SplitArtCode,M4Code,20,INVc);
  ArrayField(SplitFactor,M4Qty,0,0);
  ArrayField(SplitArtName,M4Str,100,0);
  ArrayField(SplitQuant,M4Qty,0,0);
  ArrayField(MBRCode,M4Code,10,MultiBuyRebVc);
  ArrayField(OrgIVNr,M4Long,0,0);   
  ArrayField(Points,M4Val,0,0);   
  ArrayField(SalesAssistant,M4Code,10,UserVc);
  ArrayField(TaxTemplateCode,M4UStr,60,TaxTemplateVc);
  ArrayField(TaxMatrix,M4PackedMatrix,0,TaxMatrixVc);
  ArrayField(CCTransID,M4UStr,50,0);
  ArrayField(CCTimestamp,M4Str,20,0);
  ArrayField(MotherArtCode,M4Code,20,INVc);
  ArrayField(RecipeQuant,M4Qty,0,0);
  ArrayField(CustArtCode,M4Code,20,CUINVc);
  ArrayField(StandProblemCode,M4Code,20,StandProblemVc);
  ArrayField(Salesmen,M4UStr,60,UserVc);
  ArrayField(MotherNr,M4Str,60,0);
  ArrayField(AEStatus,M4Set,544,0);
  ArrayField(Location,M4Code,10,LocationVc);
  ArrayField(SecondarySerialNr,M4Str,60,0);
  ArrayField(AlternateDeviceID,M4Str,30,0);
  ArrayField(MotherSecondarySerialNr,M4Str,60,0);
  ArrayField(MotherAlternateDeviceID,M4Str,30,0);
  EndArray;
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeyBegin(ExportedFlag);
  KeySegment(ExportedFlag);
  KeySegment(SerNr);
  KeyBegin(CustCode);
  KeySegment(CustCode);
  KeySegment(SerNr);
  KeyBegin(OKFlag);
  KeySegment(OKFlag);
  KeySegment(SerNr);
  KeyBegin(InvDate);
  KeySegment(InvDate);
  KeySegment(SerNr);
  KeyBegin(Name);
  KeySegment(Addr0);
  KeySegment(SerNr);
  KeyBegin(TransDate);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(Sum4);
  KeySegment(Sum4);
  KeySegment(SerNr);
  SubsetKeyBegin2(SalesMan);
  StoreInBaseKey;
  AppendListFieldToKeyName(SalesMan);
  KeySegment(InvDate);
  KeySegment(SerNr);  
  KeyBegin(Location);
  KeySegment(Location);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(LocOK);
  KeySegment(Location);
  KeySegment(OKFlag);
  KeySegment(UpdStockFlag);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(NLFlag);
  KeySegment(NLFlag);
  KeySegment(SerNr);
  KeyBegin(DelAddrCode);
  KeySegment(DelAddrCode);
  KeySegment(SerNr);
  KeyBegin(Cashup);
  KeySegment(LocalMachineCode);
  KeySegment(DrawerCode);
  KeySegment(TransDate);
  KeySegment(TransTime);
  KeySegment(SerNr);
  KeyBegin(Region);
  KeySegment(Region);
  KeySegment(SerNr);
  SubsetKeyBegin2(ArtCode);
  StoreInBaseKey;
  AppendMatrixFieldToKeyName(ArtCode,0);
  KeySegment(TransDate);  
  KeySegment(SerNr);
  KeyBegin(POSSalesNo);
  KeySegment(POSSalesNo);
  KeySegment(SerNr);
  KeyBegin(TerminalID);
  KeySegment(TerminalID);
  KeySegment(FiscalDeviceSeqNr);
  KeySegment(SerNr);
  KeyBegin(SDNr);
  KeySegment(SDNr);
  KeySegment(SerNr);
  KeyBegin(PUNr);
  KeySegment(PUNr);
  KeySegment(SerNr);
  KeyBegin(IVNr);
  KeySegment(IVNr);
  KeySegment(SerNr);

  KeyBegin(OpenSerNr);
  KeySegment(SerNr);
  KeyBegin(OpenInvDate);
  KeySegment(InvDate);
  KeySegment(SerNr);
  KeyBegin(OpenCustCode);
  KeySegment(CustCode);
  KeySegment(SerNr);
  KeyBegin(OpenName);
  KeySegment(Addr0);
  KeySegment(SerNr);
  KeyBegin(OfficialSerNr);
  KeySegment(OfficialSerNr);
  KeySegment(SerNr);
  KeyBegin(RegDate);
  KeySegment(RegDate);
  KeySegment(RegTime);
  KeySegment(SerNr);
  KeyBegin(LocalMachineCode);
  KeySegment(LocalMachineCode);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(PriceList);
  KeySegment(PriceList);
  KeySegment(TransDate);
  KeySegment(SerNr);
  SubSetKeyBegin2(MBRCode);
  AppendMatrixFieldToKeyName(MBRCode,0);
  KeySegment(TransDate);
  KeySegment(SerNr);
  SubSetKeyBegin2(OrgIVNr);
  AppendMatrixFieldToKeyName(OrgIVNr,0);
  KeySegment(SerNr);
  KeyBegin(CustDate);
  KeySegment(CustCode);
  KeySegment(InvDate);
  KeySegment(SerNr);

  KeyBegin(BranchID);
  KeySegment(BranchID);
  KeySegment(TransDate);
  KeySegment(SerNr);

  KeyBegin2(TaxAdminServSeal,8132);
  KeySegment(TaxAdminServSeal);
  KeySegment(SerNr);

  EndRecord;

  BlockBegin(QTMailBlock,-,"QTMailBlock2");
  ImpExpLevel(0);
  RecordField(Header,M4Str,60,0);
  RecordField(FirstTxt,M4Code,5,LTxtVc);
  RecordField(LastTxt,M4Code,5,LTxtVc);
  EndBlock;

  BlockBegin(POMailBlock,-,"");
  RecordField(Header,M4Str,60,0);
  RecordField(FirstTxt,M4Code,5,LTxtVc);
  RecordField(LastTxt,M4Code,5,LTxtVc);
  EndBlock;

  BlockBegin(ORMailBlock,-,"");
  RecordField(Header,M4Str,60,0);
  RecordField(FirstTxt,M4Code,5,LTxtVc);
  RecordField(LastTxt,M4Code,5,LTxtVc);
  EndBlock;

  BlockBegin(IVMailBlock,-,"");
  RecordField(Header,M4Str,60,0);
  RecordField(FirstTxt,M4Code,5,LTxtVc);
  RecordField(LastTxt,M4Code,5,LTxtVc);
  RecordField(EmailSender,M4Str,40,0);
  EndBlock;

  BlockBegin(WebORMailBlock,-,"");
  RecordField(Header,M4Str,60,0);
  RecordField(FirstTxt,M4Code,5,LTxtVc);
  RecordField(LastTxt,M4Code,5,LTxtVc);
  EndBlock;

  BlockBegin(RentQTMailBlock,-,"");
  RecordField(Header,M4Str,60,0);
  RecordField(FirstTxt,M4Code,5,LTxtVc);
  RecordField(LastTxt,M4Code,5,LTxtVc);
  EndBlock;

  RecordBegin(RLinkVc,RLinkView,"");
  RegisterForAllCompanies(false);
  RecordField(FromRecidStr,M4RLink,200,0);
  RecordField(ToRecidStr,M4RLink,200,0);
  RecordField(Comment,M4Str,200,0);
  RecordField(DepType,M4Int,0,0);
  RecordField(LinkType,M4Int,0,0);
  MainKeyBegin(MainKey,0);
  KeySegment(FromRecidStr);
  KeySegment(ToRecidStr);
  KeyBegin(ToRecKey);
  KeySegment(ToRecidStr);
  KeySegment(FromRecidStr);
  EndRecord;

  RecordBegin(ActionVc,-,"");
  RecordField(SerNr,M4Long,0,0,);
  RecordField(TransDate,M4Date,0,0);
  RecordField(TransTime,M4Time,0,0);
  RecordField(FromUser,M4Code,10,UserVc);
  RecordField(ToUser,M4Code,10,UserVc);
  RecordField(accode,M4Long,0,0);
  RecordField(Comment,M4Str,60,0);
  MainKeyBegin(MainKey,0);
  KeySegment(SerNr);
  KeyBegin(ToUser);
  KeySegment(ToUser);
  KeySegment(SerNr);
  EndRecord;
  
  RecordBegin(RHistVc,RHistView,"");
  RegisterForAllCompanies(false);
  RecordField(SerNr,M4Long,0,0);
  RecordField(TransDate,M4Date,0,0);
  RecordField(TransTime,M4Time,0,0);
  RecordField(User,M4Code,10,UserVc);
  RecordField(accode,M4Int,0,0);
  RecordField(RecidStr,M4RLink,200,0);
  RecordField(Math,M4Blob,0,0);
//  RecordField(Logtyp,M4Int,0,0);
  MainKeyBegin(MainKey,0);
  KeySegment(SerNr);
  KeyBegin(RecidStr);
  KeySegment(RecidStr);
  KeySegment(SerNr);
  KeyBegin(UserDateTime);
  KeySegment(User);
  KeySegment(TransDate);
  KeySegment(TransTime);
  KeySegment(SerNr);
  EndRecord;
  
  BlockBegin(RHistSetBlock,-,"");
  BlockInServer;
  BlockForAllCompanies; // should be a local block 
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,RHistSetRowType,1);
  ArrayField(VcName,M4StrSet,-1,0);
  ArrayField(Logtyp,M4Set,47,0);
  ArrayField(FieldName,M4Str,100,0);  
  ArrayField(ConditionField,M4Str,40,0);  
  ArrayField(Condition,M4Set,648,0);  
  ArrayField(ConditionValue,M4Str,40,0);  
  EndArray;
  EndBlock;

  BlockBegin(LimitedAccessBlock,-,"");
  BlockInServer;
  BlockForAllCompanies; // should be a local block 
  CacheBlockInClient;
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,LimitedAccessBlockRowType,1);
  ArrayField(VcName,M4StrSet,-1,0);
  ArrayField(Typ,M4Set,393,0);
  EndArray;
  EndBlock;
  
  BlockBegin(SysLogBlock,SysLogType,"");
  BlockInServer;
  BlockForAllCompanies;
  RecordField(ServerStat,M4Int,0,0);
  RecordField(HALFuncs,M4Int,0,0);
  RecordField(AllACs,M4Int,0,0);
  RecordField(LongMessages,M4Int,0,0);
  RecordField(DetailedMess,M4Int,0,0);
  RecordField(HALProfile,M4Int,0,0);
  RecordField(LogHoldFlush,M4Int,0,0);
  RecordField(LogWebCalls,M4Int,0,0);
  RecordField(MailDebug,M4Int,0,0);
  RecordField(LogSentEMails,M4Int,0,0);
  EndBlock;
  
  BlockBegin(ShareVcSetBlock,-,"");
  BlockInServer;
  BlockForAllCompanies; // should be a local block 
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,ShareVcSetRowType,1);
  ArrayField(VcName,M4StrSet,-3,0);
  ArrayField(Typ,M4Set,51,0);
  ArrayField(ForCompanies,M4Str,255,0);
  ArrayField(InCompany,M4Str,20,0);
  EndArray;
  EndBlock;
  
  BlockBegin(ShareBlockSetBlock,-,"");
  BlockInServer;
  BlockForAllCompanies; // should be a local block
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,ShareBlockSetRowType,1);
  ArrayField(BlockName,M4StrSet,-1,0);
  ArrayField(Typ,M4Set,51,0);
  ArrayField(ForCompanies,M4Str,255,0);
  ArrayField(InCompany,M4Str,20,0);
  EndArray;
  EndBlock;
  
  RecordBegin(InstallmentVc,-,"");
  ImpExpLevel(1);
  RecordField(Code,M4Code,5,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(Days,M4Long,0,0);
  ArrayField(Months,M4Long,0,0);
  ArrayField(Prc,M4PrcStr,20,0);
  ArrayField(Type,M4Set,387,0);
  EndArray;
  MainKeyBegin(Code,0);
  KeySegment(Code);
  EndRecord;

  BlockBegin(CurncyRoundOffBlock,-,"CurncyRoundOffBlock2");
  NewAutosyncHBlock(kSyncDirectionToClient);
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(CurncyCode,M4Code,5,CurncyCodeVc);
  ArrayField(RndTotal,M4Set,70,0);
  ArrayField(RndLine,M4Set,70,0);
  ArrayField(RndVAT,M4Set,70,0);
  ArrayField(PayDeal,M4Code,2,0);
  ArrayField(VcName,M4StrSet,397,0);
  
  ArrayField(RndTotalDecs,M4Int,0,0);
  ArrayField(RndTotalStep,M4Set,398,0);
  ArrayField(RndTotalMode,M4Set,399,0);
  ArrayField(RndTotalDirec,M4Set,400,0);
  ArrayField(RndVATDecs,M4Int,0,0);
  ArrayField(RndVATStep,M4Set,398,0);
  ArrayField(RndVATMode,M4Set,399,0);
  ArrayField(RndVATDirec,M4Set,400,0);
  ArrayField(RndRowsumDecs,M4Int,0,0);
  ArrayField(RndRowsumStep,M4Set,398,0);
  ArrayField(RndRowsumMode,M4Set,399,0);
  ArrayField(RndRowsumDirec,M4Set,400,0);
  
  EndArray;
  EndBlock;

  BlockBegin(PageSetupDefBlock,PageSetupFileType,"");
  BlockForAllCompanies;
  RecordField(OnePageSetupForAll,M4Int,0,0);
  RecordField(PageSetupInClient,M4Int,0,0);
  EndBlock;

  RecordBegin(POCQStatVc,-,"");
  RecordField(SerNr,M4Long,0,0);
  SerialNoBlock(POCQStatSerBlock);  
  RecordField(Comment,M4Str,60,0);
  RecordField(POClass,M4Code,5,0);
  RecordField(Tender,M4Code,5,0);
  RecordField(VECode,M4Code,20,VEVc);
  RecordField(Name,M4Str,60,0);
  RecordField(ExprIntPl,M4Date,0,0);
  FieldIsTransDate(ExprIntPl);
  RecordField(ExprIntAct,M4Date,0,0);
  RecordField(PreQualSentPl,M4Date,0,0);
  RecordField(PreQualSentAct,M4Date,0,0);
  RecordField(PreQualNoObjPl,M4Date,0,0);
  RecordField(PreQualNoObjAct,M4Date,0,0);
  RecordField(BidDocSentPl,M4Date,0,0);
  RecordField(BidDocSentAct,M4Date,0,0);
  RecordField(BidDocNoObjPl,M4Date,0,0);
  RecordField(BidDocNoObjAct,M4Date,0,0);
  RecordField(BidPackAvPl,M4Date,0,0);
  RecordField(BidPackAvAct,M4Date,0,0);
  RecordField(BidOpenPl,M4Date,0,0);
  RecordField(BidOpenAct,M4Date,0,0);
  RecordField(ContrNoObjPl,M4Date,0,0);
  RecordField(ContrNoObjAct,M4Date,0,0);
  RecordField(ContrSignPl,M4Date,0,0);
  RecordField(ContrSignAct,M4Date,0,0);
  RecordField(ContrEndAct,M4Date,0,0);
  RecordField(ContrEndPl,M4Date,0,0);
  RecordField(Closed,M4Mark,0,0);
  RecordField(OKFlag,M4Mark,0,0);
  RecordField(CurncyCode,M4Code,5,CurncyCodeVc);
  RecordField(Sum,M4Val,0,0);
  RecordField(Person,M4Code,10,UserVc);
  RecordField(Object,M4Code,20,ObjVc);
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeyBegin(VECode);
  KeySegment(VECode);
  KeySegment(SerNr);
  KeyBegin(Tender);
  KeySegment(Tender);
  KeySegment(VECode);
  KeySegment(SerNr);
  KeyBegin(OKFlag);
  KeySegment(OKFlag);  
  KeySegment(SerNr);
  KeyBegin(Object);
  KeySegment(Object);
  KeySegment(SerNr);
  KeyBegin(Comment);
  KeySegment(Comment);
  KeySegment(SerNr);

  KeyBegin(ActSerNr);
  KeySegment(SerNr);
  KeySegment(Closed);
  KeyBegin(ActVECode);
  KeySegment(VECode);
  KeySegment(SerNr);
  KeySegment(Closed);
  KeyBegin(ActTender);
  KeySegment(Tender);
  KeySegment(SerNr);
  KeySegment(Closed);
  KeyBegin(ActOKFlag);
  KeySegment(OKFlag);
  KeySegment(SerNr);
  KeySegment(Closed);
  KeyBegin(ActComment);
  KeySegment(Comment);
  KeySegment(SerNr);
  KeySegment(Closed);
  EndRecord;

  RecordBegin(TenderVc,-,"");
  RecordField(Code,M4Code,5,0);
  RecordField(Comment,M4Str,60,0);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  EndRecord;

  RecordBegin(POrderClassVc,-,"");
  RecordField(Code,M4Code,5,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(OrderAct,M4Int,5,0);
  RecordField(ActMainPerson,M4Code,10,UserVc);
  RecordField(ActType,M4Code,5,ActTypeVc);
  RecordField(colnr,M4Set,46,0);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  EndRecord;

  BlockBegin(HotelBlock,-,"HotelBlock3");
  RecordField(CheckOut,M4Time,0,0);
  RecordField(ResBridgeAcc,M4Code,10,AccVc);
  RecordField(MBarGroup,M4Code,5,0);
  RecordField(TempBook,M4Int,0,0);
  RecordField(PointSys,M4Int,0,0);
  RecordField(ToResStatus,M4Code,5,ResourceStatusVc);
  RecordField(CheckIn,M4Time,0,0);
  RecordField(ArtCode,M4Code,20,INVc);
  RecordField(DomainName,M4Str,60,0);
  RecordField(TelCentrStr1,M4Str,60,0);
  RecordField(TelCentrStr2,M4Str,60,0);
  RecordField(GuestMes,M4Code,5,ActTypeVc); 
  RecordField(CheckinMes,M4Code,5,ActTypeVc);
  RecordField(CheckoutMes,M4Code,5,ActTypeVc);
  RecordField(ChOutSt,M4Code,5,ReservationStatusVc);
  RecordField(ChInSt,M4Code,5,ReservationStatusVc);    
  RecordField(CustCat1,M4Code,5,CCatVc);
  RecordField(CustCat2,M4Code,5,CCatVc);
  RecordField(DownPercent,M4Qty,0,0);
  RecordField(OverBook,M4Int,0,0);
  RecordField(DiscItem,M4Code,20,INVc);
  RecordField(DefCUCode,M4Code,20,CUVc);
  RecordField(FromResStatus,M4Code,5,ResourceStatusVc);
  RecordField(ConfDays,M4Long,0,0);
  RecordField(DefSt,M4Code,5,ReservationStatusVc);
  RecordField(DefChargeMode,M4Int,0,0);
  RecordField(xDefInitialCharge,M4Dummy,0,0);
  RecordField(NoshowStatus,M4Code,5,ReservationStatusVc);
  RecordField(OutEventGr,M4Code,20,ExcurGroupVc);
  RecordField(StartNewDay,M4Time,0,0);
  RecordField(BlockStatus,M4Code,5,ReservationStatusVc);
  RecordField(ForceBookOrigin,M4Int,0,0);
  RecordField(DefResUsage,M4Code,10,ResUsageVc);
  RecordField(SaveInShopBask,M4Int,0,0);
  RecordField(GenItemToInv,M4Code,20,INVc);
  RecordField(NoOfDaysToNoShow,M4Long,0,0);
  RecordField(EndOfDay,M4Time,0,0);
  RecordField(SimilarResWarn,M4Int,0,0);
  RecordField(ChargeSource,M4Int,0,0);
  RecordField(AutoCheckInOut,M4Int,0,0);
  RecordField(PriceUpgrade,M4Int,0,0);
  RecordField(DemandGuestOnRes,M4Int,0,0);
  RecordField(IncludePackage,M4Int,0,0);
  RecordField(InclPrelOver,M4Int,0,0);
  RecordField(InclPrelAvail,M4Int,0,0);
  RecordField(GroupWillNotPay,M4Int,0,0);
  RecordField(StoreWithPrice,M4Int,0,0);
  RecordField(DownPayDeal,M4Code,2,0);
  RecordField(CNDCode,M4Code,5,0);
  RecordField(ResPlanDisplay,M4Int,0,0);
  RecordField(ResCodeInGrid,M4Int,0,0);
  RecordField(DefCClassDCode,M4Code,5,CClassDVc);
  RecordField(RequestPrice,M4Int,0,0);
  RecordField(CClassDCType,M4Code,10,CTypeVc);
  RecordField(RSCCode,M4Code,5,RSCVc);  
  RecordField(RequestGuestClass,M4Int,0,0);
  RecordField(DownForMotherRsrv,M4Int,0,0);
  RecordField(DownForMotherRsrvIncDaughDet,M4Int,0,0);
  RecordField(RequestNrOfGuests,M4Int,0,0);
  RecordField(AllotmentSt,M4Code,5,ReservationStatusVc);    
  RecordField(CClassDCTypeChild,M4Code,10,CTypeVc);
  RecordField(WebDefCust,M4Code,20,CUVc);
  RecordField(WebResStatus,M4Code,5,ReservationStatusVc);
  RecordField(WebBookOrigin,M4Code,20,0);
  RecordField(WebDefCustCat,M4Code,5,CCatVc);
  RecordField(WebDownPayDeal,M4Code,2,0);
  RecordField(WebCNDCode,M4Code,5,0);
  RecordField(WebDownPercent,M4Qty,0,0);
  RecordField(WebRSCCode,M4Code,5,RSCVc);  
  RecordField(WebWaitPayStatus,M4Code,5,ReservationStatusVc);
  RecordField(WebDeletedStatus,M4Code,5,ReservationStatusVc);
  RecordField(WebMaxFutureDate,M4Date,0,0);
  RecordField(WebAutoAllocateRoom,M4Int,0,0);
  RecordField(WebDontDelete,M4Int,0,0);
  RecordField(WebIncludeUnavailable,M4Int,0,0);
  RecordField(ForceGuestNationality,M4Int,0,0);
  RecordField(DefVisitPurpose,M4Code,10,VisitPurposeVc);
  RecordField(ForceVisitPurpose,M4Int,0,0);
  RecordField(PostDiscount,M4Int,0,0);
  RecordField(RackRatePLCode,M4Code,5,0);
  RecordField(InvCurncy,M4Code,5,CurncyCodeVc);
  RecordField(ClosedResStatus,M4Code,5,ResourceStatusVc);
  RecordField(BasePriceInclVAT,M4Int,0,0);
  EndBlock;

  RecordBegin(ResComVc,-,"");
  RecordField(Internal,M4Str,20,0);  
  RecordField(ResCode,M4Code,10,0);
  RecordField(WakeUp,M4Time,0,0);
  RecordField(OutCalls,M4Int,0,0);
  RecordField(VoiceMes,M4Int,0,0);
  RecordField(SaveCons,M4Int,0,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(Department,M4Code,10,0);
  MainKeyBegin(Internal,0);
  KeySegment(Internal);
  KeyBegin(ResCode);
  KeySegment(ResCode);
  KeySegment(Internal);
  EndRecord;
  
  RecordBegin(ConciergeVc,-,"");
  RecordField(SerNr,M4Long,0,0);
  RecordField(Person,M4Code,10,UserVc);
  RecordField(CUCode,M4Code,20,CUVc);
  RecordField(ResCode,M4Code,10,0);
  RecordField(TransTime,M4Time,0,0);
  RecordField(TransDate,M4Date,0,0);    
  RecordField(DateOut,M4Date,0,0);    
  RecordField(Place,M4Str,60,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(Type,M4Int,0,0);
  RecordField(GuestCode,M4Code,20,CUVc);
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeyBegin(TransDate);
  KeySegment(TransDate);
  KeySegment(TransTime);
  KeySegment(SerNr);
  KeyBegin(CUCode);
  KeySegment(CUCode);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(Type);
  KeySegment(Type);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(ResCode);
  KeySegment(ResCode);
  KeySegment(SerNr);
  KeyBegin(Person);
  KeySegment(Person);
  KeySegment(SerNr);
  EndRecord;

  RecordBegin(TelCallsVc,-,"");
  RecordField(SerNr,M4Long,0,0);
  RecordField(Type,M4Code,5,CallTypeVc);        
  RecordField(Duration,M4Time,0,0);    // duration passed on as dh:dm:ds
  RecordField(Number,M4Str,30,0);      // Number dialed
  RecordField(TrunkNr,M4Str,10,0);     // Tel Line which picks up / or takes outgoing call
  RecordField(ExtNo,M4Str,10,0);      // Extention
  RecordField(Cost,M4Val,0,0);   
  RecordField(TransDate,M4Date,0,0);
  RecordField(TransTime,M4Time,0,0);
  RecordField(Rings,M4Int,0,0);       // Rings before picked up
  RecordField(Status,M4Int,0,0);       // 0. Normal 1. Trasfer 2. No answer
  RecordField(ResCode,M4Code,10,ResVc);
  RecordField(Direction,M4Int,0,0);   // 0. Outgoing 1. Incomming 2. Internal
  RecordField(RegType,M4Int,0,0);     // 0. Customer 1. Supplier  
  RecordField(RegCode,M4Code,20,0);
  RecordField(Pulses,M4Int,0,0);      // qty of pulses
  RecordField(Person,M4Code,10,UserVc);
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeyBegin(ResCode);
  KeySegment(ResCode);
  KeySegment(TransDate);  
  KeySegment(TransTime);  
  KeySegment(SerNr);
  KeyBegin(TransDate);
  KeySegment(TransDate);
  KeySegment(TransTime);
  KeySegment(ResCode);  
  KeySegment(Type);  
  KeySegment(SerNr);
  KeyBegin(Person);
  KeySegment(Person);
  KeySegment(TransDate);
  KeySegment(SerNr);
  EndRecord;

  RecordBegin(CallTypeVc,-,"");  // WEB, CEL, TOL, INT , NAT, LOC
  RecordField(Code,M4Code,5,0);
  RecordField(Comment,M4Str,30,0);
  RecordField(Prefix,M4Str,10,0);
  RecordField(Markup1,M4Qty,0,0);   
  RecordField(Markup2,M4Qty,0,0);   
  RecordField(ArtCode,M4Code,20,INVc);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeyBegin(Prefix);
  KeySegment(Prefix);
  KeySegment(Code);
  EndRecord;

  RecordBegin(CallRegTypeVc,-,"");
  RecordField(Code,M4Code,20,0);
  RecordField(Number,M4Str,30,0);     
  RecordField(RegType,M4Int,0,0);     // 0. Customer 1. Supplier  
  RecordField(Name,M4Str,60,0);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeySegment(RegType);
  KeyBegin(Number);
  KeySegment(Number);
  KeySegment(Code);
  KeySegment(RegType);
  KeyBegin(RegType);
  KeySegment(RegType);
  KeySegment(Code);
  EndRecord;
  
  RecordBegin(RestAccVc,-,"RestAccVc2");
  RecordField(SerNr,M4Long,0,0);
  SerialNoBlock(RestAccSerBlock);
  RecordField(TransDate,M4Date,0,0);
  FieldIsTransDate(TransDate);
  RecordField(TransTime,M4Time,0,0);
  RecordField(CustCode,M4Code,20,CUVc); /* Should be called table... */
  RecordField(Cashier,M4Code,10,UserVc);
  FieldIsUser(Cashier);
  RecordField(Comment,M4Str,60,0);
  RecordField(Closed,M4Int,0,0);
  RecordField(Math,M4Matrix,0,0);
  RecordField(Sum4,M4Val,0,0);
  RecordField(Sum1,M4Val,0,0); // Sum0?? 
  RecordField(Paid,M4Val,0,0);
  RecordField(Resource,M4Code,10,ResVc);
  RecordField(CreditCard,M4UStr,20,CreditCardVc);
  RecordField(AuthorizationCode,M4UStr,10,0);
  RecordField(PayDeal,M4Code,2,0);
  RecordField(CUCode,M4Code,20,CUVc);
  RecordField(CUName,M4Str,60,0);
  RecordField(MachineName,M4Code,20,0);
  RecordField(PaySerNr,M4Long,0,0);
  RecordField(Invalid,M4Int,0,0);
  FieldIsInvalid(Invalid);
  RecordField(SalesGroup,M4Code,5,SalesGroupVc);
  FieldIsGroup(SalesGroup);
  RecordField(GuestCode,M4Code,20,CUVc);
  RecordField(GuestName,M4Str,60,0);
  RecordField(NLFlag,M4Mark,0,0);
  RecordField(StockMovFlag,M4Mark,0,0);
  RecordField(Discount,M4PrcStr,20,0);
  RecordField(Waiter2,M4Code,10,UserVc);
  RecordField(CashValue,M4Val,0,0);
  RecordField(RetValue,M4Val,0,0);
  RecordField(Paid2,M4Val,0,0);
  RecordField(Paid3,M4Val,0,0);
  RecordField(PayDeal2,M4Code,2,0);
  RecordField(PayDeal3,M4Code,2,0);
  RecordField(PayDeal4,M4Code,2,0);
  RecordField(RemValue,M4Val,0,0);
  RecordField(TendValue,M4Val,0,0);
  RecordField(TipValue,M4Val,0,0);
  RecordField(DrawerCode,M4Code,5,0);
  RecordField(Persons,M4Long,0,0);
  RecordField(AuthorizationCode2,M4UStr,20,0);
  RecordField(ServCharge,M4Val,0,0);
  RecordField(Objects,M4UStr,60,ObjVc);
  RecordField(StockFileName,M4Str,20,0);
  RecordField(StockTransNr,M4Long,0,0);
  RecordField(PriceList,M4Code,5,0);
  RecordField(TerminalID,M4Str,60,0);
  RecordField(LoyaltyCardNr,M4Code,20,0);
  RecordField(LCMLevel,M4Code,10,0);
  RecordField(Points,M4Val,0,0); 
  RecordField(MergedToSerNr,M4Long,0,0);
  RecordField(StartTime,M4Time,0,0);
  RecordField(BranchID,M4Code,20,CUVc);
  RecordField(ReportingDate,M4Date,0,0);
  RecordField(Location,M4Code,10,LocationVc);
  RecordField(Class,M4Code,10,RestAccClassVc);
  RecordField(TaxMatrix,M4PackedMatrix,0,TaxMatrixVc);
  RecordField(KitchenOrdNr,M4Long,0,0);
  RecordField(Sum3,M4Val,0,0);
  RecordField(TransferToSL,M4Int,0,0);
  RecordField(ARAcc,M4Code,0,AccVc);
  RecordField(RebCode,M4Code,5,0);
  RecordField(Sum0,M4Val,0,0);//roundoff
  RecordField(FiscalFlag,M4Mark,0,0);
  RecordField(Prntdf,M4Int,0,0);
  RecordField(OfficialSerNr,M4Str,100,0);
  RecordField(RefStr,M4Str,60,0);
  RecordField(OfficialSerNr2,M4Str,100,0);
  RecordField(PrintDate,M4Date,0,0);
  RecordField(Hash,M4Str,255,0);
  RecordField(HashKeyVersion,M4Int,0,0);  
  RecordField(LangCode,M4Code,5,0);
  RecordField(Addr0,M4Str,60,0);
  RecordField(Addr1,M4Str,60,0);
  RecordField(Addr2,M4Str,60,0);
  RecordField(Addr3,M4Str,60,0);
  RecordField(InvAddr3,M4Str,60,0);
  RecordField(InvAddr4,M4Str,60,0);
  RecordField(RegNr1,M4Str,20,0);
  RecordField(RegNr2,M4Str,20,0);
  RecordField(VATNr,M4Str,20,0);   
  RecordField(InclVAT,M4Int,0,0);
  RecordField(CustTaxTemplateCode,M4Code,10,TaxTemplateVc);
  RecordField(CustCat,M4Code,5,0);
  RecordField(TaxAdminServSeal,M4Str,250,0);
  RecordField(IVNr,M4Long,0,0);
  RecordField(SplitQty,M4Long,0,0);
  RecordField(OfficialSerNrSerie,M4Str,30,0);
  RecordField(OfficialSerNr2Serie,M4Str,30,0);
  RecordField(CustVATCode,M4Code,10,VATCodeBlock);
  RecordField(FiscalDeviceSeqNr,M4Long,0,0);
  RecordField(IPBookVAT,M4Int,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(ArtCode,M4Code,20,INVc);
  ArrayField(Quant,M4UVal,0,0);
  ArrayField(Price,M423Val,0,0);
  ArrayField(Spec,M4Str,100,0);
  ArrayField(SplitQty,M4UVal,0,0);
  ArrayField(VATCode,M4Code,10,VATCodeBlock);
  ArrayField(AlreadyPrinted,M4Int,0,0);
  ArrayField(stp,M4Int,0,0);
  ArrayField(Sum,M4Val,0,0);
  ArrayField(GCNr,M4Long,0,0);   
  ArrayField(PayMode,M4Code,2,0);   
  ArrayField(CreditCard,M4UStr,20,CreditCardVc);
  ArrayField(AuthorizationCode,M4UStr,10,0);
  ArrayField(CurncyCode,M4Code,5,CurncyCodeVc); 
  ArrayField(FrRate,M4Rate,0,0); 
  ArrayField(ToRateB1,M4Rate,0,0);
  ArrayField(ToRateB2,M4Rate,0,0); 
  ArrayField(BaseRate1,M4Rate,0,0); 
  ArrayField(BaseRate2,M4Rate,0,0);   
  ArrayField(VoidedRowNr,M4Long,0,0);   
  ArrayField(Sign,M4Code,10,UserVc);
  ArrayField(ovst,M4Int,0,0);
  ArrayField(TranferStatus,M4Set,426,0);
  ArrayField(TranferRestAccNr,M4Long,0,0);
  ArrayField(KitchenStatus,M4Set,429,0);
  ArrayField(ChequeNr,M4Long,0,0);   
  ArrayField(CheckNr,M4UStr,20,0);   
  ArrayField(Points,M4Val,0,0);   
  ArrayField(SalesAssistant,M4Code,10,UserVc);
  ArrayField(VoidedSign,M4Code,10,UserVc);
  ArrayField(PrintGroupCode,M4Code,20,0);
  ArrayField(Modifier,M4Int,0,0);   
  ArrayField(TaxTemplateCode,M4UStr,60,TaxTemplateVc);
  ArrayField(TaxMatrix,M4PackedMatrix,0,TaxMatrixVc);
  ArrayField(vRebate,M41Val,0,0);
  ArrayField(BasePrice,M4Val,0,0);
  ArrayField(rowGP,M4Val,0,0);
  ArrayField(PriceFactor,M45Val,0,0);
  ArrayField(AlreadyPrintedToKitchen,M4Int,0,0);
  ArrayField(StandProblemCode,M4Code,20,StandProblemVc);
  ArrayField(MealCourse,M4Code,20,MealCourseVc);
  ArrayField(SeatCode,M4Code,5,0);
  ArrayField(KitchenDepartment,M4Code,20,RestDepVc);
  ArrayField(OrgRestAccNr,M4Long,0,0);   
  EndArray;
  MainKeyBegin(SerNr,1);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(Cashier);
  KeySegment(SerNr);
  SubsetKeyBegin2(OpenSerNr);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(Cashier);
  KeySegment(SerNr);
  SubsetKeyBegin2(OpenTabs);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(Cashier);
  KeySegment(CustCode);
  KeySegment(Comment);
  KeySegment(SerNr);
  SubsetKeyBegin2(MachineName);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(Cashier);
  KeySegment(TransDate);
  KeySegment(MachineName);
  KeySegment(Cashier);
  KeySegment(PayDeal);
  KeySegment(SerNr);
  SubsetKeyBegin2(NLFlag);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(Cashier);
  KeySegment(NLFlag);
  KeySegment(TransDate);
  KeySegment(SerNr);
  SubsetKeyBegin2(StockMovFlag);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(Cashier);
  KeySegment(StockMovFlag);
  KeySegment(Location);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(TransDate);
  KeySegment(TransDate);
  KeySegment(TransTime);
  KeySegment(SerNr);
  KeyBegin(Waiter2);
  KeySegment(Waiter2);
  KeySegment(TransDate);
  KeySegment(SerNr);   
  SubsetKeyBegin2(OpenTransTime);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(Cashier);
  KeySegment(TransTime);
  KeySegment(Cashier);
  KeySegment(SerNr);  
  SubsetKeyBegin2(OpenCashier);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(Cashier);
  KeySegment(Cashier);
  KeySegment(SerNr);    
  KeyBegin(CustCode);
  KeySegment(CustCode);
  KeySegment(SerNr);
  KeyBegin(Cashier);
  KeySegment(Cashier);
  KeySegment(SerNr);
  KeyBegin(Cashup);
  KeySegment(MachineName);
  KeySegment(DrawerCode);
  KeySegment(TransDate);
  KeySegment(TransTime);
  KeySegment(SerNr);
  SubsetKeyBegin2(OpenResource); // Not used?
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(Cashier);
  KeySegment(Resource);
  KeySegment(SerNr);
  KeyBegin(ClosedTransDate);
  KeySegment(Closed);
  KeySegment(TransDate);
  KeySegment(TransTime);
  KeySegment(SerNr);  
  KeyBegin(ClosedTransTime); // Not used?
  KeySegment(Closed);
  KeySegment(TransTime);
  KeySegment(TransDate);
  KeySegment(SerNr);  
  KeyBegin(Sum4);
  KeySegment(Sum4);
  KeySegment(SerNr);  
  KeyBegin(StockFileName);
  KeySegment(StockFileName);
  KeySegment(StockTransNr);
  KeySegment(SerNr);  
  SubsetKeyBegin2(OpenTransDate);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(Cashier);
  KeySegment(TransDate);
  KeySegment(SerNr);

  KeyBegin(KOrdNrBranch);
  KeySegment(BranchID);
  KeySegment(TransDate);
  KeySegment(KitchenOrdNr);
  KeySegment(SerNr);  
  KeyBegin(ReportingDate);
  KeySegment(ReportingDate);
  KeySegment(TransTime);
  KeySegment(SerNr);
  SubsetKeyBegin2(ArtCode);
  StoreInBaseKey;
  AppendMatrixFieldToKeyName(ArtCode,0);
  KeySegment(ReportingDate);  
  KeySegment(SerNr);
  KeyBegin(CUCode);
  KeySegment(CUCode);
  KeySegment(SerNr);  
  KeyBegin(CUCodeRepDate);
  KeySegment(CUCode);
  KeySegment(ReportingDate);
  KeySegment(SerNr);  
  KeyBegin(OfficialSerNr);
  KeySegment(OfficialSerNr);
  KeySegment(SerNr);
  SubSetKeyBegin2(OrgRestAccNr);
  AppendMatrixFieldToKeyName(OrgRestAccNr,0);
  KeySegment(SerNr);
  KeyBegin(PriceList);
  KeySegment(PriceList);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(Location);
  KeySegment(Location);
  KeySegment(TransDate);
  KeySegment(SerNr);  
  KeyBegin2(TaxAdminServSeal,8132);
  KeySegment(TaxAdminServSeal);
  KeySegment(SerNr);
  KeyBegin(TerminalID);
  KeySegment(TerminalID);
  KeySegment(FiscalDeviceSeqNr);
  KeySegment(SerNr);
  EndRecord;

  BlockBegin(RestPMBlock,-,"");
  NewAutosyncHBlock(kSyncDirectionToClient);
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(PMCode,M4Code,2,0);
  ArrayField(MachineName,M4Code,20,0);
  ArrayField(ButtonType,M4Set,389,0);
  ArrayField(Label,M4Str,60,0);
  ArrayField(colnr,M4Set,46,0);
  ArrayField(rowstp,M4Set,390,0);
  ArrayField(Drawers,M4UStr,60,0);
  ArrayField(CardType,M4Set,37,0);
  ArrayField(CurncyCode,M4Code,5,CurncyCodeVc);
  EndArray;
  EndBlock;

  RecordBegin(RestITVc,-,"");
  RecordField(Code,M4Code,5,0);
  RecordField(Comment,M4Str,60,0,);
  RecordField(ArtCode,M4Code,20,INVc);
  RecordField(Object,M4Code,20,ObjVc);
  RecordField(RequireOpenSession,M4Int,0,0);  
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(ITCode,M4Code,5,0);
  ArrayField(KitchenPrint,M4Set,59,0);
  EndArray;
  MainKeyBegin(Code,0);
  KeySegment(Code);
  EndRecord;

  RecordBegin(CUCODefValVc,-,"");
  RecordField(CustCode,M4Code,20,CUVc);
  RecordField(perType,M4Int,0,0);
  RecordField(perLength,M4Int,0,0);
  RecordField(invDtype,M4Int,0,0);
  RecordField(invDays,M4Int,0,0);
  RecordField(normalFactor,M4UVal,0,0);
  RecordField(ContractClass,M4Code,5,0);
  RecordField(DetailInvoice,M4Int,0,0);
  RecordField(RemindersNr,M4Long,0,0);
  MainKeyBegin(CustCode,0);
  KeySegment(CustCode);
  EndRecord;

  RecordBegin(RenewCOVc,-,"");
  RecordField(FromClas,M4Code,5,0);
  RecordField(ToClas,M4Code,5,0);
  RecordField(Comment,M4Str,200,0);
  RecordField(ReplaceInvoiceToCust,M4Int,0,0);
  RecordField(PeriodLength,M4Long,0,0);
  MainKeyBegin(MainKey,0);
  KeySegment(FromClas);
//  KeySegment(ToClas);
  EndRecord;

  RecordBegin(COIVVc,-,"");
  RecordField(CONr,M4Long,0,0);
  RecordField(COChildNr,M4Long,0,0);
  RecordField(IVNr,M4Long,0,0);
  RecordField(Type,M4Int,0,0); //0=IVVc, 1=ORVc
  MainKeyBegin(MainKey,0);
  KeySegment(CONr);
  KeySegment(COChildNr);
  KeySegment(IVNr);
  KeySegment(Type);
  KeyBegin(IVNr);
  KeySegment(Type);
  KeySegment(IVNr);
  KeySegment(CONr);
  KeySegment(COChildNr);
  EndRecord;

  RecordBegin(ZIPVc,-,"");
  RecordField(ZIPCode,M4Code,20,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(City,M4Str,60,0);
  RecordField(Area,M4Str,60,0);
  MainKeyBegin(MainKey,0);
  KeySegment(ZIPCode);
  KeyBegin(City);
  KeySegment(City);
  KeySegment(ZIPCode);
  KeyBegin(Area);
  KeySegment(Area);
  KeySegment(ZIPCode);
  EndRecord;
    
  BlockBegin(CalDispGroupBlock,-,"");
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(Code,M4Code,5,0);
  ArrayField(DefStr,M4Str,200,0);
  ArrayField(Comment,M4Str,200,0);
  EndArray;
  EndBlock;

/*
  RecordBegin(ReplINVc,ReplINview,"");
  RecordField(OrgItem,M4Code,20,INVc);
  RecordField(ReplItem,M4Code,20,INVc);
  RecordField(OrgItemComment,M4Str,60,0);
  RecordField(ReplItemComment,M4Str,60,0);
  MainKeyBegin(OrgItem,0);
  KeySegment(OrgItem);
  KeySegment(ReplItem);
  EndRecord;
*/

  RecordBegin(PosVc,-,"");
  ImpExpLevel(1);
  RecordField(Code,M4Code,20,0);
  RecordField(Location,M4Code,20,LocationVc);
  RecordField(Comment,M4Str,60,0);
  RecordField(PickOrder,M4Long,0,0);
  RecordField(LocArea,M4Code,20,0);
  RecordField(Width,M4UVal,0,0);
  RecordField(Height,M4UVal,0,0);
  RecordField(Depth,M4UVal,0,0);
  RecordField(MaxWeight,M4UVal,0,0);
  RecordField(Status,M4Set,74,0);
  RecordField(Closed,M4Int,0,0);
  MainKeyBegin(MainKey,0);
  KeySegment(Code);
  KeyBegin(Comment);
  KeySegment(Comment);
  KeySegment(Code);
  KeyBegin(Location);
  KeySegment(Location);
  KeySegment(Code);
  KeyBegin(LocArea);
  KeySegment(Location);
  KeySegment(LocArea);
  KeySegment(PickOrder);
  KeySegment(Code);
  KeyBegin(Status);
  KeySegment(Status);
  KeySegment(PickOrder);
  KeySegment(Code);
  KeyBegin(LocAreaStatus);
  KeySegment(Location);
  KeySegment(LocArea);
  KeySegment(Status);
  KeySegment(PickOrder);
  KeySegment(Code);
  KeyBegin(Closed);
  KeySegment(Closed);
  KeySegment(Code);
  KeyBegin(Height);
  KeySegment(Height);
  KeySegment(Code);
  KeyBegin(ActMainKey);
  KeySegment(Code);
  KeyBegin(ActComment);
  KeySegment(Comment);
  KeySegment(Code);
  KeyBegin(ActLocation);
  KeySegment(Location);
  KeySegment(Code);
  KeyBegin(ActLocArea);
  KeySegment(Location);
  KeySegment(LocArea);
  KeySegment(Code);
  KeyBegin(ActHeight);
  KeySegment(Height);
  KeySegment(Code);  
  KeyBegin(UsedMainKey);
  KeySegment(Code);
  KeyBegin(UsedComment);
  KeySegment(Comment);
  KeySegment(Code);
  KeyBegin(UsedLocation);
  KeySegment(Location);
  KeySegment(Code);
  KeyBegin(UsedLocArea);
  KeySegment(Location);
  KeySegment(LocArea);
  KeySegment(Code);
  KeyBegin(UsedHeight);
  KeySegment(Height);
  KeySegment(Code);
  EndRecord;

  RecordBegin(WebHTMLVc,-,"");
  RecordField(Code,M4Code,20,0);
  RecordField(SubCode,M4Code,20,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(PicName,M4Str,60,0);
  RecordField(SmallPicName,M4Str,60,0); // Bad design, SubCode should have been used...
  RecordField(Fabric,M4Str,100,0);
  RecordField(Extra1,M4Str,60,0);
  RecordField(Extra2,M4Str,60,0);
  RecordField(Math,M4TextField,0,0);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeySegment(SubCode);
  KeyBegin(SubCode);
  KeySegment(SubCode);
  KeySegment(Code);
  KeyBegin(Comment);
  KeySegment(Comment);
  KeySegment(Code);
  KeySegment(SubCode);
  EndRecord;

  RecordBegin(WebSubVc,-,"");
  RecordField(Code,M4Code,20,0);
  RecordField(Comment,M4Str,60,0);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeyBegin(Comment);
  KeySegment(Comment);
  KeySegment(Code);
  EndRecord;

  RecordBegin(WebFreightVc,-,"");
  RecordField(Code,M4Code,5,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(BasedOn,M4Int,0,0);
  RecordField(ItemCode,M4Code,20,INVc);
  RecordField(MinValue,M4Val,0,0);
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(FromVal,M4Val,0,0);
  ArrayField(Rate,M4PrcStr,20,0);
  ArrayField(BasePrice,M4PrcStr,20,0);
  EndArray;
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeyBegin(Comment);
  KeySegment(Comment);
  KeySegment(Code);
  EndRecord;
/*
  RecordBegin(ShopBaskCtrlVc,ShopBaskCtrlView,"");
  RecordField(BaskNo,M4Long,0,0);
  RecordField(Comment,M4Str,30,0);
  RecordField(CUCode,M4Code,20,CUVc);
  RecordField(Closed,M4Int,0,0);
  RecordField(Current,M4Int,0,0);  // Identify which basket is currently in use or last used
  RecordField(LastItemCode,M4Code,20,INVc);  // last# exist to make cart status window quicker
  RecordField(LastItemDesc,M4Str,60,0);  // last# exist to make cart status window quicker
  RecordField(LastQty,M4Qty,0,0);
  RecordField(LastPrice,M4Val,0,0);
  RecordField(LastTransDate,M4Date,0,0);
  RecordField(LastTransTime,M4Time,0,0);
  RecordField(TotalItems,M4Long,0,0);
  RecordField(TotalDisc,M4Val,0,0);
  RecordField(TotalVal,M4Val,0,0);
  RecordField(TotalQty,M4Qty,0,0);
  MainKeyBegin(BaskNo,0);
  KeySegment(CUCode);
  KeySegment(BaskNo);
  KeyBegin(Comment);
  KeySegment(Comment);
  KeySegment(CUCode);
  KeySegment(BaskNo);
  EndRecord;
*/
  BlockBegin(WebControlBlock,WebControlType,"");
  RecordField(DispGroup,M4Code,5,0);
  RecordField(MatLines,M4Long,0,0);
  RecordField(WebCharSet,M4Str,60,0);
  RecordField(CustMail,M4Int,5,0);
  RecordField(CustMailUser,M4Code,5,0);
  RecordField(CustAct,M4Int,5,0);
  RecordField(CustActUser,M4Code,5,0);
  RecordField(FAQConf,M4Str,60,0);
  RecordField(HelpConf,M4Str,60,0);
  RecordField(CompInfoConf,M4Str,60,0);
  RecordField(TermsConf,M4Str,60,0);
  RecordField(NewsConf,M4Str,60,0);
  RecordField(PartnersConf,M4Str,60,0);
  RecordField(ContactUsConf,M4Str,60,0);
  RecordField(WebStartConf,M4Str,60,0);
  RecordField(FAQConfNr,M4Long,0,0);
  RecordField(HelpConfNr,M4Long,0,0);
  RecordField(CompInfoConfNr,M4Long,0,0);
  RecordField(TermsConfNr,M4Long,0,0);
  RecordField(NewsConfNr,M4Long,0,0);
  RecordField(PartnersConfNr,M4Long,0,0);
  RecordField(ContactUsConfNr,M4Long,0,0);
  RecordField(WebStartConfNr,M4Long,0,0);
  RecordField(StartPageOrFunc,M4Str,60,0);
  RecordField(WapStartPageOrFunc,M4Str,60,0);
  RecordField(MinTimeout,M4Long,0,0);
  RecordField(ORClass,M4Code,5,0);
  RecordField(FirstORClass,M4Code,5,0);
  RecordField(UniqueMail,M4Int,0,0);
  RecordField(DefPLCode,M4Code,5,0);
  RecordField(CCPayTerm,M4Code,5,0);
  RecordField(ToPaySSLURL,M4Str,60,0);
  RecordField(FromPaySSLURL,M4Str,60,0);
  RecordField(OnlyMailFromFolder,M4Str,60,0);
  RecordField(HtmlTranslation,M4Int,0,0);
  RecordField(ShopBaskCheckOut,M4Int,0,0);
  RecordField(FromPayNoSession,M4Int,0,0);
  RecordField(UsePaymentServer,M4Int,0,0);
  RecordField(NoSessionIDInURL,M4Int,0,0);
  EndBlock;

/* replaced by ConfAliasVc register
  BlockBegin(WebConferenceBlock,-,"");
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(Code,M4Code,20,0);
  ArrayField(WebConf,M4Str,60,0);
  ArrayField(Comment,M4Str,60,0);
  ArrayField(MailQty,M4Long,0,0);
  EndArray;
  EndBlock; 
*/

  BlockBegin(WebKeywordsBlock,-,"");
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(KeyWord,M4Str,100,0);
  EndArray;
  EndBlock; 

  RecordBegin(WebPagesVc,-,"");
  RecordField(Code,M4Code,20,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(HALFunc,M4Str,60,0);
  RecordField(NewsCode,M4Str,20,0);
  RecordField(PageType,M4Set,301,0);
  RecordField(OnePerWhat,M4Set,302,0);
  RecordField(CounterCode,M4Str,20,0);
  RecordField(NewsCharsToShow,M4Long,0,0);
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(ConfCode,M4Code,20,0);
  ArrayField(NoOfMails,M4Long,0,0);
  ArrayField(CharsToShow,M4Long,0,0);
  ArrayField(DropDownNewsCode,M4Code,20,0);
  EndArray;
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeyBegin(Comment);
  KeySegment(Comment);
  KeySegment(Code);
  EndRecord;

  RecordBegin(ConfAliasVc,-,"");
  RecordField(Code,M4Code,20,0);
  RecordField(WebConf,M4Str,60,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(MailQty,M4Long,0,0);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeyBegin(WebConf);
  KeySegment(WebConf);
  KeySegment(Code);
  KeyBegin(Comment);
  KeySegment(Comment);
  KeySegment(Code);
  EndRecord;

  RecordBegin(WebParamConvVc,-,"");
  RegisterForAllCompanies(false);
  RecordField(Parameter,M4Str,250,0);
  RecordField(Converted,M4Str,250,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(Paramf,M4Int,0,0);
  MainKeyBegin(Parameter,0);
  KeySegment(Parameter);
  KeySegment(Paramf);
  KeyBegin(Converted);
  KeySegment(Paramf);
  KeySegment(Converted);
  KeySegment(Parameter);
  KeyBegin(Comment);
  KeySegment(Paramf);
  KeySegment(Comment);
  KeySegment(Parameter);
  KeyBegin(Paramf);
  KeySegment(Paramf);
  KeySegment(Parameter);
  EndRecord;

  RecordBegin(DanTRVc,-,"");
  RecordField(Number,M4Long,0,0);
  RecordField(RegDate,M4Date,0,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(TransDate,M4Date,0,0);
  RecordField(Sign,M4Code,10,UserVc);
  RecordField(TotSum,M4Val,0,0);
  RecordField(OKFlag,M4Int,0,0);
  RecordField(AccName1,M4Str,20,0);
  RecordField(AccBal1,M4Val,0,0);
  RecordField(AccName2,M4Str,20,0);
  RecordField(AccBal2,M4Val,0,0);
  RecordField(AccName3,M4Str,20,0);
  RecordField(AccBal3,M4Val,0,0);
  RecordField(AccName4,M4Str,20,0);
  RecordField(AccBal4,M4Val,0,0);
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(stp,M4Int,0,0);
  ArrayField(ovst,M4Int,0,0);
  ArrayField(AccNumber1,M4Code,10,AccVc);
  ArrayField(PayMode,M4Code,2,0);
  ArrayField(AccNumber2,M4UStr,10,AccVc);
  ArrayField(Objects,M4UStr,60,ObjVc);
  ArrayField(DebVal,M4Val,0,0);
  ArrayField(CredVal,M4Val,0,0);
  ArrayField(VATCode,M4UStr,10,VATCodeBlock);
  ArrayField(TransNr,M4Long,0,0);
  ArrayField(RefStr,M4Str,60,0);
  ArrayField(Text,M4Str,60,0);
  ArrayField(CompCode,M4Code,20,0);
  ArrayField(Typ,M4Set,24,0);
  ArrayField(RowTransDate,M4Date,0,0);
  ArrayField(InvoiceNr,M4Long,0,0);
  ArrayField(CurDebVal,M4Val,0,0);
  ArrayField(CurCredVal,M4Val,0,0);
  ArrayField(Curncy,M4UStr,5,CurncyCodeVc);
  ArrayField(FrRate,M4Rate,0,0);
  ArrayField(ToRateB1,M4Rate,0,0);
  ArrayField(ToRateB2,M4Rate,0,0);
  ArrayField(BaseRate1,M4Rate,0,0);
  ArrayField(BaseRate2,M4Rate,0,0);
  ArrayField(DebVal2,M4Val,0,0);
  ArrayField(CredVal2,M4Val,0,0);
  EndArray;
  MainKeyBegin(Number,0);
  KeySegment(Number);
  EndRecord;
  
  RecordBegin(DanTRSetVc,-,"");
  RecordField(UserCode,M4Code,10,UserVc);
  RecordField(AccNumber1,M4Code,10,AccVc);
  RecordField(AccNumber2,M4Code,10,AccVc);
  RecordField(AccNumber3,M4Code,10,AccVc);
  RecordField(AccNumber4,M4Code,10,AccVc);
  MainKeyBegin(MainKey,0);
  KeySegment(UserCode);
  EndRecord;

  RecordBegin(TaxRepVc,-,""); 
  RecordField(Code,M4Code,10,0);
  RecordField(Name,M4Str,100,0);
  RecordField(Math,M4Matrix,0,0);
  RecordField(Delimiter,M4Str,1,0);
  ArrayBegin(Math,-,1);
  ArrayField(FCode,M4Code,10,0);
  ArrayField(Formula,M4Str,100,0);
  ArrayField(Comment,M4Str,100,0);
  ArrayField(FormatStr,M4Str,60,0);  
  EndArray;
  MainKeyBegin(Code,0);
  KeySegment(Code);
  EndRecord;

  RecordBegin(BonusDefVc,-,"");
  RecordField(UserCode,M4Code,10,UserVc);
  RecordField(UserName,M4Str,60,0);
  RecordField(CustCode,M4Code,20,CUVc);
  RecordField(CustCat,M4Code,5,0);
  RecordField(InclVAT,M4Int,0,0);
  RecordField(Math,M4Matrix,0,0);
  RecordField(PLBasedOn,M4Int,0,0);
  RecordField(BonusPrc,M41Val,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(ItemCode,M4UStr,60,INVc);
  ArrayField(BonusPrc,M41Val,0,0);
  ArrayField(CodeType,M4Set,14,0);
  EndArray;
  MainKeyBegin(UserCust,0);
  KeySegment(UserCode);
  KeySegment(CustCode);
  KeySegment(CustCat);
  KeyBegin(UserCat);
  KeySegment(UserCode);
  KeySegment(CustCat);
  KeySegment(CustCode);
  KeyBegin(UserName);
  KeySegment(UserName);
  KeySegment(UserCode);
  KeySegment(CustCat);
  KeySegment(CustCode);
  EndRecord;

  RecordBegin(ProfileVc,-,"");
  RecordField(Code,M4Code,20,0);
  RecordField(LastName,M4Str,60,0);
  RecordField(FirstName,M4Str,60,0);
  RecordField(Profesion,M4Str,60,0);
  RecordField(Nationality,M4Str,20,0);
  RecordField(PassportNr,M4Str,20,0);
  RecordField(LangCode,M4Code,5,0);
  RecordField(CountryCode,M4Code,5,0);
  RecordField(Addr0,M4Str,60,0);
  RecordField(Addr1,M4Str,60,0);
  RecordField(Addr2,M4Str,60,0);
  RecordField(Addr3,M4Str,60,0);
  RecordField(Addr4,M4Str,60,0);
  RecordField(Addr5,M4Str,60,0);
  RecordField(Phone,M4PhoneNo,20,0);
  RecordField(Mobile,M4PhoneNo,20,0);
  RecordField(Email,M4Str,60,0);
  RecordField(Fax,M4Str,20,0); // Used to be GuestEmail, wierd...
  RecordField(Cat,M4Code,5,0);
  RecordField(Incognito,M4Int,0,0);
  RecordField(Children,M4Int,0,0);
  RecordField(Smoker,M4Int,0,0);
  RecordField(EatHabit,M4Int,0,0);
  RecordField(DrinkHabit,M4Int,0,0);
  RecordField(AllowLogin,M4Int,0,0);
  RecordField(VIP,M4Int,0,0);
  RecordField(OnAccount,M4Int,0,0);
  RecordField(EnableMail,M4Int,0,0);
  RecordField(SalesMan,M4Code,10,UserVc);
  RecordField(Miles,M4Qty,0,0);
  RecordField(MilesCat,M4Code,5,0);
  RecordField(BreakfCom,M4Str,60,0);
  RecordField(LunchCom,M4Str,60,0);
  RecordField(DinnerCom,M4Str,60,0);
  RecordField(WarnText1,M4Str,60,0);
  RecordField(NrPlate,M4UStr,12,0);
  RecordField(Classification,M4UStr,200,CClassVc);
  RecordField(Blacklist,M4Int,0,0);
  RecordField(DateChanged,M4Date,0,0);
  RecordField(BankAccount,M4Str,60,0);
  RecordField(Password,M4Str,20,0);
  RecordField(DocType,M4Str,20,0);
  RecordField(Gender,M4Int,0,0);
  RecordField(MarStatus,M4Int,0,0);
  RecordField(BirthDate,M4Date,0,0);
  RecordField(Age,M4Int,0,0);
  RecordField(Newspaper,M4Code,10,0);
  RecordField(CUCode,M4Code,20,CUVc);
  RecordField(Company,M4Str,60,0);
  RecordField(ComAddr1,M4Str,60,0);
  RecordField(ComAddr2,M4Str,60,0);
  RecordField(ComAddr3,M4Str,60,0);
  RecordField(ComPhone,M4PhoneNo,20,0);
  RecordField(Wages,M4Qty,0,0);
  RecordField(ComDepartment,M4Str,20,0);
  RecordField(WorkYears,M4Int,0,0);
  RecordField(PersReferences,M4Code,60,0);
  RecordField(CreditCard,M4UStr,20,CreditCardVc);
  RecordField(Smoking,M4Int,0,0);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeyBegin(LastName);
  KeySegment(LastName);
  KeySegment(FirstName);
  KeySegment(Code);
  KeyBegin(PassportNr);
  KeySegment(PassportNr);
  KeySegment(Code);
  KeyBegin(Phone);
  KeySegment(Phone);
  KeySegment(Code);
  KeyBegin(CUCode);
  KeySegment(CUCode);
  KeySegment(Code);
  EndRecord;

  RecordBegin(CouponVc,-,"CouponVc2");
  NewAutosyncRegister(kSyncDirectionToServer,true);
  RecordField(SerNr,M4Long,0,0);
  SerialNoBlock(CouponSerBlock);
  RecordField(CouponNr,M4UStr,20,0);
  RecordField(CreditCardNr,M4UStr,20,0);
  RecordField(IVNr,M4Long,0,IVVc);
  RecordField(ConsNr,M4Long,0,IVVc);  
  RecordField(TransDate,M4Date,0,0);
  RecordField(CUCode,M4Code,20,0);
  RecordField(CUName,M4Str,60,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(CardType,M4Code,5,0);
  RecordField(Amount,M4Val,0,0);
  RecordField(Status,M4Int,0,0);
  RecordField(Direct,M4Int,0,0);
  RecordField(DepDate,M4Date,0,0);
  RecordField(Inst,M4Int,0,0);
  RecordField(AuthDate,M4Date,0,0);
  RecordField(CashDate,M4Date,0,0);
  RecordField(BatchNr,M4Int,0,0);
  RecordField(AuthorizationCode,M4UStr,10,0);
  RecordField(InstrNr,M4Int,0,0);
  RecordField(MachineName,M4Code,20,0);
  RecordField(Objects,M4UStr,60,0);
  RecordField(OriginType,M4Int,0,0);
  RecordField(CurncyCode,M4Code,5,CurncyCodeVc);
  RecordField(NLTransDate,M4Date,0,0);
  RecordField(Batch,M4Str,30,0);
  RecordField(CCTransID,M4UStr,50,0);
  RecordField(Timestamp,M4Str,20,0);
  RecordField(ReverseCouponNr,M4UStr,20,0);
  RecordField(ReverseCCTransID,M4UStr,50,0);
  RecordField(ReverseTimestamp,M4Str,20,0);
  RecordField(FileName,M4Str,20,0);
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeyBegin(TransDate);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(Status);
  KeySegment(Status);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(IVNr);
  KeySegment(IVNr);
  KeySegment(SerNr);
  KeyBegin(CouponNr);
  KeySegment(CouponNr); 
  KeySegment(SerNr);
  KeyBegin(DepDate);
  KeySegment(DepDate); 
  KeySegment(CardType); 
  KeySegment(SerNr);
  KeyBegin(ConsNr);
  KeySegment(ConsNr); 
  KeySegment(SerNr);
  KeyBegin(CreditCardNr);
  KeySegment(CreditCardNr); 
  KeySegment(SerNr);
  KeyBegin(CardType);
  KeySegment(CardType); 
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(MachineName);
  KeySegment(MachineName);
  KeySegment(CardType);
  KeySegment(BatchNr);
  KeySegment(CouponNr);
  KeySegment(SerNr);
  KeyBegin(FileName);
  KeySegment(FileName);
  KeySegment(IVNr);
  KeySegment(SerNr);
  KeyBegin(OriginType);
  KeySegment(OriginType);
  KeySegment(IVNr);
  KeySegment(SerNr);
  
  KeyBegin(OpenSerNr);
  KeySegment(SerNr);
  KeyBegin(OpenCouponNr);
  KeySegment(CouponNr); 
  KeySegment(SerNr);
  KeyBegin(OpenConsNr);
  KeySegment(ConsNr); 
  KeySegment(SerNr);
  KeyBegin(OpenTransDate);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(Batch);
  KeySegment(Batch); 
  KeySegment(SerNr);
  EndRecord;

  RecordBegin(ResUsageVc,-,"");
  RecordField(Code,M4Code,10,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(Math,M4Matrix,0,0);
  RecordField(MessCkIn,M4Str,5,0);
  RecordField(MessCkOut,M4Str,5,0);
  RecordField(Objects,M4UStr,60,0);
  RecordField(xCommentToInv,M4Dummy,0,0);
  RecordField(AddDateToMatrix,M4Int,0,0);
  RecordField(xNoAdditionalToInv,M4Dummy,0,0);
  RecordField(AddItemIncPrice,M4Int,0,0);
  RecordField(AddNegateItems,M4Int,0,0);
  RecordField(NegateComment,M4Str,60,0);
  RecordField(DontShowOnWeb,M4Int,0,0);
  RecordField(Type,M4Code,10,ResUsageTypeVc);
  ArrayBegin(Math,-,1);
  ArrayField(ArtCode,M4UStr,60,INVc);
  ArrayField(CodeType,M4Set,58,0);
  ArrayField(AddPer,M4Set,78,0);
  ArrayField(MessageToHK,M4Str,100,0);
  ArrayField(OBType,M4Code,5,OBTypeVc);
  ArrayField(Description,M4Str,60,0);
  EndArray;
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeyBegin(Type);
  KeySegment(Type); 
  KeySegment(Code);
  EndRecord;
  
  RecordBegin(JobPriceVc,-,"JobPriceVc2");
  RecordField(SerNr,M4Long,0,0);
  RecordField(RecType,M4Int,0,0);
  RecordField(RowNr,M4Int,0,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(Math,M4Matrix,0,0);
  RecordField(TransDate,M4Date,0,0);
  RecordField(EndDate,M4Date,0,0);
  RecordField(StartTime,M4STime,0,0);
  RecordField(EndTime,M4STime,0,0);
  RecordField(xQtyConv,M4Dummy,5,0); //Not used anymore
  RecordField(Type,M4Code,10,ResTypeVc);
  RecordField(ResUsage,M4Code,10,ResUsageVc);
  RecordField(PriceList,M4Code,5,PLDefVc);
  RecordField(NoOfGuests,M4Long,0,0); //New field that substitutes the old 'QtyConv' field
  RecordField(CurncyCode,M4Code,5,CurncyCodeVc); 
  RecordField(FrRate,M4Rate,0,0); 
  RecordField(ToRateB1,M4Rate,0,0); 
  RecordField(ToRateB2,M4Rate,0,0); 
  RecordField(BaseRate1,M4Rate,0,0); 
  RecordField(BaseRate2,M4Rate,0,0); 
  ArrayBegin(Math,-,1);
  ArrayField(StayDay,M4Date,0,0);
  ArrayField(PriceList,M4Code,5,PLDefVc);
  ArrayField(vRebate,M45Val,0,0);
  ArrayField(Price,M423Val,0,0);
  ArrayField(Sum,M4Val,0,0);
  ArrayField(ArtCode,M4Code,20,INVc);
  ArrayField(VATCode,M4UStr,10,VATCodeBlock);
  ArrayField(Qty,M4Qty,0,0);
  ArrayField(AgreedPrice,M423Val,0,0);
  ArrayField(Person,M4Code,10,0);
  ArrayField(CClass,M4Code,10,0);
  ArrayField(RackRatePrice,M423Val,0,0);
  ArrayField(AgreedRebate,M45Val,0,0);
  ArrayField(PriceRules,M4Code,5,PriceRulesVc);
  ArrayField(PriceCalc,M4Str,255,0);
  EndArray;
  MainKeyBegin(SerNr,0);
  KeySegment(RecType);
  KeySegment(SerNr);
  KeySegment(RowNr);
  EndRecord;

// Lots of fields, not on the interface...why?
  RecordBegin(CredCardTypeVc,-,"credcardtype1");
  NewAutosyncRegister(kSyncDirectionToClient,true);
  RecordField(Code,M4Code,5,0);
  RecordField(CardType,M4Set,37,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(Interest,M4Qty,0,0);
  RecordField(Fee,M4Val,0,0);
  RecordField(Direct,M4Int,0,0);
  RecordField(VECode,M4Code,20,VEVc);
  RecordField(AccNumber,M4Code,10,AccVc);
  RecordField(AccNumber1,M4Code,10,AccVc);
  RecordField(AccNumber2,M4Code,10,AccVc);  
  RecordField(CompCode1,M4Str,30,0);
  RecordField(CompCode2,M4Str,20,0);
  RecordField(CompCode3,M4Str,20,0);
  RecordField(CompCode4,M4Str,20,0);
  RecordField(CompCode5,M4Str,20,0);
  RecordField(PayMode,M4Code,2,0);
  RecordField(UseOnWeb,M4Mark,0,0);
  RecordField(UseOnPos,M4Mark,0,0);
  RecordField(PayTerm,M4Code,5,0);
  RecordField(TargetAcc,M4Code,10,AccVc);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeyBegin(CardType);
  KeySegment(CardType);
  KeySegment(Code);
  EndRecord;

  RecordBegin(CoupLoteVc,-,"");
  RecordField(SerNr,M4Long,0,0);
  RecordField(BatchNr,M4Long,0,0);
  RecordField(Closed,M4Int,0,0);
  RecordField(MachineName,M4Code,20,0);
  RecordField(NrLiq,M4Long,0,0);   
  RecordField(Comment,M4Str,60,0);
  RecordField(CardType,M4Code,5,CredCardTypeVc);
  RecordField(Objects,M4UStr,60,0);
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeyBegin(BatchNr);
  KeySegment(CardType);
  KeySegment(BatchNr);
  KeySegment(SerNr);
  KeyBegin(MachineName);
  KeySegment(MachineName);
  KeySegment(CardType);
  KeySegment(BatchNr);
  KeySegment(SerNr);
  KeyBegin(NrLiq);
  KeySegment(NrLiq);
  KeySegment(SerNr);
  EndRecord;

  RecordBegin(CouponConVc,-,"");
  RecordField(SerNr,M4Long,0,0);
  SerialNoBlock(CouponSerBlock);
  RecordField(Comment,M4Str,60,0);
  RecordField(OKFlag,M4Mark,0,0);
  RecordField(TransDate,M4Date,0,0);
  RecordField(CardType,M4Code,5,0);
  RecordField(NrLiq,M4Long,0,0);
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(AccNumber,M4Code,10,AccVc);
  ArrayField(Comment,M4Str,30,0);
  ArrayField(Amount,M4Val,0,0);
  EndArray;
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeyBegin(CardType);
  KeySegment(CardType);
  KeySegment(NrLiq);
  KeySegment(SerNr);
  KeyBegin(NrLiq);
  KeySegment(NrLiq);
  KeySegment(SerNr);
  EndRecord;

  RecordBegin(ResMesVc,-,"");
  RecordField(Math,M4Matrix,0,0);
  RecordField(Code,M4Code,5,0);
  RecordField(Comment,M4Str,60,0);
  ArrayBegin(Math,-,1);
  ArrayField(TextCode,M4Code,5,OBTypeVc);
  EndArray;
  MainKeyBegin(Code,0);
  KeySegment(Code);
  EndRecord;

  RecordBegin(ResArtCodeVc,-,"ResArtCodeVc2");
  RecordField(ResType,M4Code,10,ResTypeVc);
  RecordField(ResUsageCode,M4UStr,10,ResUsageVc);
  RecordField(WeekPart,M4Set,588,0);
  RecordField(ArtCode,M4Code,20,INVc);
  RecordField(Comment,M4Str,60,0);
  RecordField(xQtyConv,M4Dummy,5,0); //Not used anymore
  RecordField(PriceForWholeRoom,M4Int,0,0);
  RecordField(CClassDCode,M4Code,5,CClassDVc);
  RecordField(PriceRules,M4Code,5,PriceRulesVc);
  RecordField(NoOfGuests,M4Long,0,0); //New field that substitutes the old 'QtyConv' field
  MainKeyBegin(ResType,0);
  KeySegment(ResType);
  KeySegment(ResUsageCode);
  KeySegment(WeekPart);
  KeySegment(NoOfGuests);
  KeyBegin(NoOfGuests);
  KeySegment(NoOfGuests);
  KeySegment(ResType);
  KeySegment(ResUsageCode);
  KeySegment(WeekPart);
  KeyBegin(ResUsageCode);
  KeySegment(ResUsageCode);
  KeySegment(ResType);
  KeySegment(WeekPart);
  KeySegment(NoOfGuests);
  KeyBegin(ArtCode);
  KeySegment(ArtCode);
  KeySegment(ResType);
  KeySegment(ResUsageCode);
  KeySegment(WeekPart);
  KeySegment(NoOfGuests);
  KeyBegin(Comment);
  KeySegment(Comment);
  KeySegment(ResType);
  KeySegment(ResUsageCode);
  KeySegment(WeekPart);
  KeySegment(NoOfGuests);
  KeyBegin(WeekPart);
  KeySegment(WeekPart);
  KeySegment(ResType);
  KeySegment(ResUsageCode);
  KeySegment(WeekPart);
  KeySegment(NoOfGuests);
  EndRecord;

  RecordBegin(GuestrsVc,-,"");
  ImpExpLevel(0);
  RecordField(TransDate,M4Date,0,0);
  RecordField(GuestCode,M4Code,20,0);
  RecordField(JobSerNr,M4Long,0,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(CountryCode,M4Code,5,0);
  MainKeyBegin(TransDate,0);
  KeySegment(TransDate);
  KeySegment(GuestCode);
  KeySegment(JobSerNr);
  KeyBegin(GuestCode);
  KeySegment(GuestCode);
  KeySegment(TransDate);
  KeySegment(JobSerNr);
  KeyBegin(Comment);
  KeySegment(Comment);
  KeySegment(TransDate);
  KeySegment(GuestCode);
  KeySegment(JobSerNr);
  KeyBegin(CountryCode);
  KeySegment(CountryCode);
  KeySegment(TransDate);
  KeySegment(GuestCode);
  KeySegment(JobSerNr);
  EndRecord;

  RecordBegin(JobResTypeMtrxVc,-,"");
  ImpExpLevel(0);
  RecordField(JobSerNr,M4Long,0,0);
  RecordField(ResType,M4Code,10,ResTypeVc);
  RecordField(MtrxDate,M4Date,0,0);
  RecordField(StartDate,M4Date,0,0);
  RecordField(EndDate,M4Date,0,0);
  RecordField(StartTime,M4Time,0,0);
  RecordField(EndTime,M4Time,0,0);
  RecordField(ResLoc,M4Code,5,0);
  MainKeyBegin(MainKey,0);
  KeySegment(ResType);
  KeySegment(MtrxDate);
  KeySegment(JobSerNr);  
  KeyBegin(ResLoc);
  KeySegment(ResLoc);
  KeySegment(MtrxDate);
  KeySegment(ResType);
  KeySegment(JobSerNr);
  EndRecord;  

  RecordBegin(POCOVc,-,"");
  RecordField(SerNr,M4Long,0,0);
  RecordField(VECode,M4Code,20,VEVc);
  RecordField(TransDate,M4Date,0,0);
  FieldIsTransDate(TransDate);
  RecordField(PayDeal,M4Code,2,0);
  RecordField(ExportFlag,M4Int,0,0);
  RecordField(OKFlag,M4Mark,0,0);
  RecordField(Addr0,M4Str,60,0);
  RecordField(Addr1,M4Str,60,0);
  RecordField(Addr2,M4Str,60,0);
  RecordField(Addr3,M4Str,60,0);
  RecordField(ShipAddr0,M4Str,60,0);
  RecordField(ShipAddr1,M4Str,60,0);
  RecordField(ShipAddr2,M4Str,60,0);
  RecordField(ShipAddr3,M4Str,60,0);
  RecordField(VEContact,M4Str,60,0);
  RecordField(OurContact,M4Str,20,0);
  RecordField(ShipMode,M4Code,5,0);
  RecordField(CurncyCode,M4Code,5,CurncyCodeVc);
  RecordField(PlanShip,M4Str,10,0);
  RecordField(Sign,M4Code,10,UserVc);
  RecordField(ShipDeal,M4Code,5,0);
  RecordField(LangCode,M4Code,5,0);
  RecordField(ToRateB1,M4Rate,0,0);
  RecordField(Sum0,M4Val,0,0);
  RecordField(Sum1,M4Val,0,0);
  RecordField(Sum2,M4Val,0,0);
  RecordField(Sum3,M4Val,0,0);
  RecordField(Sum4,M4Val,0,0);
  RecordField(Math,M4Matrix,0,0);
  RecordField(InclVAT,M4Int,0,0);
  RecordField(Location,M4Code,10,LocationVc);
  RecordField(VEFactoring,M4Code,20,VEVc);
  RecordField(FrRate,M4Rate,0,0); 
  RecordField(ToRateB2,M4Rate,0,0); 
  RecordField(BaseRate1,M4Rate,0,0); 
  RecordField(BaseRate2,M4Rate,0,0); 
  RecordField(Objects,M4UStr,60,ObjVc);
  RecordField(Reference,M4Str,20,0);
  RecordField(SalesMan,M4Code,10,UserVc);
  RecordField(OKPersons,M4UStr,60,0);
  RecordField(SalesGroup,M4Code,5,SalesGroupVc);
  RecordField(InvAddr3,M4Str,60,0);
  RecordField(InvAddr4,M4Str,60,0);
  RecordField(DelAddr3,M4Str,60,0);
  RecordField(DelAddr4,M4Str,60,0);
  RecordField(Comment1,M4Str,100,0);
  RecordField(Comment2,M4Str,100,0);
  RecordField(Comment3,M4Str,100,0);
  RecordField(Comment4,M4Str,100,0);
  RecordField(POClass,M4Code,5,0);
  RecordField(PlanShipDate,M4Date,0,0);
  RecordField(NoTAXonVAT,M4Long,0,0);
  RecordField(InvoiceToCode,M4Code,20,VEVc);
  ArrayBegin(Math,-,1);
  ArrayField(stp,M4Int,0,0);
  ArrayField(ovst,M4Int,0,0);
  ArrayField(VEArtCode,M4Str,20,0);
  ArrayField(ArtCode,M4Code,20,INVc);
  ArrayField(Quant,M4UVal,0,0);
  ArrayField(Spec,M4Str,100,0);
  ArrayField(Price,M45Val,0,0);
  ArrayField(Sum,M45Val,0,0);
  ArrayField(vRebate,M41Val,0,0);
  ArrayField(VATCode,M4Code,10,VATCodeBlock);
  ArrayField(Objects,M4UStr,60,ObjVc);
  ArrayField(Ordered,M4UVal,0,0);
  ArrayField(VEQuant,M4UVal,0,0);
  ArrayField(PIFactor,M4UVal,0,0);
  ArrayField(PriceFactor,M45Val,0,0);
  ArrayField(VARList,M4UStr,30,0);
  ArrayField(CostAcc,M4UStr,10,AccVc);
  ArrayField(PlanShipRow,M4Str,10,0);
  ArrayField(Comment,M4Str,100,0);
  ArrayField(VINr,M4Long,0,0);
  ArrayField(CalcFormulae,M4Code,5,0);
  EndArray;
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeyBegin(VECode);
  KeySegment(VECode);
  KeySegment(OKFlag);
  KeySegment(SerNr);
  KeyBegin(Name);
  KeySegment(Addr0);
  KeySegment(SerNr);
  KeyBegin(OKFlag);
  KeySegment(OKFlag);
  KeySegment(SerNr);
  KeyBegin(TransDate);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(Reference);
  KeySegment(Reference);
  KeySegment(SerNr);
  KeyBegin(PlanShip);
  KeySegment(PlanShip);
  KeySegment(SerNr);
  KeyBegin(PlanShipDate);
  KeySegment(PlanShipDate);
  KeySegment(SerNr);
  EndRecord;

  RecordBegin(StExValVc,-,"");
  RecordField(ArtCode,M4Code,20,INVc);
  RecordField(RegDate,M4Date,0,0);
  RecordField(CurncyCode,M4Code,5,CurncyCodeVc);
  RecordField(Desc,M4Str,60,0);
  RecordField(Price1,M4Val,0,0);
  RecordField(Price2,M4Val,0,0);
  RecordField(Price3,M4Val,0,0);
  RecordField(Price4,M4Val,0,0);
  MainKeyBegin(ArtCode,0);
  KeySegment(ArtCode);
  KeySegment(CurncyCode);
  KeySegment(RegDate);
  KeyBegin(RegDate);
  KeySegment(RegDate);
  KeySegment(ArtCode);
  KeySegment(CurncyCode);
  EndRecord; 

  RecordBegin(ExtraCostVc,-,"");
  RecordField(Code,M4Code,5,0);
  RecordField(Comment,M4Str,60,0);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeyBegin(Comment);
  KeySegment(Comment);
  KeySegment(Code);
  EndRecord; 
  
  RecordBegin(POCOCostVc,-,"");
  RecordField(POCOSerNr,M4Long,0,0);
  RecordField(TransDate,M4Date,0,0);
  RecordField(ExtraCostCode,M4Code,5,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(Sum,M4Val,0,0);
  RecordField(ArtCode,M4Code,20,INVc);
  RecordField(SerialNr,M4Str,60,0);
  MainKeyBegin(POCOSerNr,0);
  KeySegment(POCOSerNr);
  KeySegment(ExtraCostCode);
  KeySegment(ArtCode);
  KeySegment(SerialNr);
  KeySegment(TransDate);
  KeyBegin(ExtraCostCode);
  KeySegment(ExtraCostCode);
  KeySegment(POCOSerNr);
  KeySegment(ArtCode);
  KeySegment(SerialNr);
  KeySegment(TransDate);
  KeyBegin(ArtCode);
  KeySegment(ArtCode);
  KeySegment(SerialNr);
  KeySegment(POCOSerNr);
  KeySegment(ExtraCostCode);
  KeySegment(TransDate);
  EndRecord; 

  RecordBegin(VEPSVc,-,"");
  RecordField(Signature,M4Code,10,UserVc);
  RecordField(Invoices,M4Int,0,0);
  RecordField(NotOKVI,M4Int,0,0);
  RecordField(NrOfVI,M4UVal,0,0);
  RecordField(ShowPU,M4Int,0,0);
  RecordField(MonthBal,M4Int,0,0);
  RecordField(VEItem,M4Int,0,0);
  RecordField(VEItemMonthNr,M4Long,0,0);
  RecordField(Orders,M4Int,0,0);
  RecordField(POClass,M4Code,5,0);
  RecordField(NrOfPO,M4UVal,0,0);
  RecordField(Activities,M4Int,0,0);
  RecordField(NotOKAct,M4Int,0,0);
  RecordField(NrOfAct,M4UVal,0,0);
  RecordField(SMSes,M4Int,0,0);
  RecordField(NrOfSMS,M4UVal,0,0);
  RecordField(ContactRelations,M4Int,0,0);
  MainKeyBegin(Signature,0);
  KeySegment(Signature);
  EndRecord;

  BlockBegin(NewspaperBlock,-,"");
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(NewsCode,M4Code,10,0);
  ArrayField(NewsName,M4Str,60,0);
  EndArray;
  EndBlock;

  RecordBegin(SalesGroupVc,-,"");
  RecordField(SGroupCode,M4Code,5,0);
  RecordField(SGroupName,M4Str,100,0);
  MainKeyBegin(SGroupCode,0);
  KeySegment(SGroupCode);
  KeyBegin(SGroupName);
  KeySegment(SGroupName);
  KeySegment(SGroupCode);
  EndRecord;

  RecordBegin(MinPerLocVc,-,"");
  RecordField(ItemCode,M4Code,20,INVc);
  RecordField(Location,M4Code,10,LocationVc);
  RecordField(VECode,M4Code,20,VEVc);
  RecordField(MinLevel,M4UVal,0,0);
  RecordField(MaxLevel,M4UVal,0,0);
  RecordField(MinPOQty,M4UVal,0,0);
  RecordField(NormPOQty,M4UVal,0,0);
  RecordField(Position,M4Code,20,0);
  MainKeyBegin(MainKey,0);
  KeySegment(ItemCode);
  KeySegment(Location);
  KeySegment(Position);
  EndRecord;
  
  RecordBegin(RestStatrsVc,-,"");
  ImpExpLevel(0);
  RecordField(SerNr,M4Long,0,0);
  RecordField(TransDate,M4Date,0,0);
  RecordField(TransTime,M4Time,0,0);
  RecordField(ArtCode,M4Code,20,INVc);
  RecordField(TransNr,M4Long,0,0);
  RecordField(SalesQty,M4Qty,0,0);
  RecordField(StockQty,M4Qty,0,0);
  RecordField(Price,M4Val,0,0);
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeyBegin(TransDate);
  KeySegment(TransDate);
  KeySegment(ArtCode);
  KeySegment(SerNr);
  KeyBegin(ArtCode);
  KeySegment(ArtCode);
  KeySegment(TransDate);
  KeySegment(TransTime);
  KeySegment(SerNr);
  EndRecord;
  
  RecordBegin(ChqDepVc,-,"");
  RecordField(SerNr,M4Long,0,0);
  SerialNoBlock(ChqDepSerBlock);
  RecordField(TransDate,M4Date,0,0);
  RecordField(Math,M4Matrix,0,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(OKFlag,M4Mark,0,0);
  RecordField(Sum,M4Val,0,0);
  RecordField(Cash,M4Val,0,0);
  RecordField(DepAccNr,M4Code,10,0);
  RecordField(TempAccNr,M4Code,10,0);
  RecordField(PayMode,M4Code,2,0);
  RecordField(BaseRate1,M4Rate,0,0); 
  RecordField(BaseRate2,M4Rate,0,0); 
  RecordField(FrRate,M4Val,0,0);
  RecordField(ToRate1,M4Val,0,0);
  RecordField(ToRate2,M4Val,0,0);
  RecordField(CurncyCode,M4Code,5,CurncyCodeVc);
  RecordField(PayModeCash,M4Code,2,0);
  RecordField(Objects,M4UStr,60,ObjVc);
  RecordField(Type,M4Int,0,0);
  RecordField(Commision,M4Val,0,0);
  RecordField(Reference,M4Str,20,0);
  ArrayBegin(Math,-,1);
  ArrayField(ChqNr,M4Long,0,0);
  ArrayField(Amount,M4Val,0,0);
  EndArray; 
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr); 
  KeyBegin(TransDate);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(Reference);
  KeySegment(Reference);
  KeySegment(SerNr);
  KeyBegin(OKFlag);
  KeySegment(OKFlag);
  KeySegment(SerNr);
  EndRecord;

  //QtyConvVc not used anymore
  RecordBegin(QtyConvVc,-,"");
  ImpExpLevel(0);
  RecordField(Code,M4Code,5,0);
  RecordField(Quantity,M4Long,0,0);
  RecordField(Comment,M4Str,60,0);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  EndRecord;

  RecordBegin(ReserSeqVc,-,"");
  RecordField(FromStatus,M4Code,5,0);
  RecordField(StatusAllowed,M4UStr,100,0);
  RecordField(Comment,M4Str,60,0);
  MainKeyBegin(FromStatus,0);
  KeySegment(FromStatus);
  EndRecord;

  BlockBegin(BookOrgBlock,-,"");
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(Code,M4Code,20,0);
  ArrayField(Name,M4Str,60,0);
  ArrayField(Objects,M4UStr,60,ObjVc);
  EndArray;
  EndBlock;

  BlockBegin(PhoneBlock,-,"");
  RecordField(EnableCharging,M4Int,0,0);
  RecordField(ChargeMethod,M4Int,0,0);
  RecordField(ArtCode,M4Code,20,INVc);
  RecordField(PulsPrice,M4Val,0,0);
  RecordField(PbxComPort,M4Str,5,0);
  RecordField(PbxBaudRate,M4Int,0,0);
  RecordField(PbxParity,M4Int,0,0);
  RecordField(PbxBits,M4Int,0,0);
  RecordField(PbxChkBit,M4Int,0,0);
  RecordField(PbxType,M4Set,29,0);
  EndBlock;

//?? no windows
  RecordBegin(ItemPriceVc,-,""); 
  RecordField(ArtCode,M4Code,20,INVc);
  RecordField(Comment,M4Str,60,0);
  RecordField(CurncyCode,M4Code,5,CurncyCodeVc);
  RecordField(UPrice,M423Val,0,0);
  MainKeyBegin(ArtCode,0);
  KeySegment(ArtCode);
  KeyBegin(Comment);
  KeySegment(Comment);
  KeySegment(ArtCode);
  KeyBegin(CurncyCode);
  KeySegment(CurncyCode);
  KeySegment(ArtCode);
  EndRecord;

  BlockBegin(ExpTBlock,-,"");
  RecordField(expDemandSign,M4Int,0,0);
  RecordField(ExpRateCostAcc,M4Int,0,0);
  EndBlock;

  RecordBegin(ConfSignVc,-,"");
  RegisterForAllCompanies(false);
  RecordField(SerNr,M4Long,0,0);
  RecordField(Math,M4TextField,0,0);
  RecordField(HtmlFlag,M4Int,0,0);
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  EndRecord;

/*
  BlockBegin(CompSignBlock,CompSignType,"");
  RecordField(SignatureSend,M4Int,0,0);
  RecordField(Math,M4TextField,0,0);
  EndBlock;
*/
  
  BlockBegin(FInvoiceBlock,-,"");
  RecordField(FInvoiceImportFolderPath,M4Str,200,0);
  EndBlock;
  
  BlockBegin(ItrsTransCodeBlock,-,"");
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(Code,M4Code,20,0);
  ArrayField(Description,M4Str,60,0);
  EndArray;
  EndBlock;
  
  return;
end;
