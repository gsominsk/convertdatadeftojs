/* datadef5.hal */

procedure DefineSMSVc()
begin
  RecordField(SerNr,M4Long,0,0);
  RecordField(TransDate,M4Date,0,0);
  RecordField(TransTime,M4Time,0,0);
  RecordField(LockedFlag,M4Int,0,0);
  RecordField(SendFlag,M4Mark,0,0);
  RecordField(Person,M4Str,200,0);//200 ? 
  RecordField(PhoneNo,M4PhoneNo,200,0);
  RecordField(FromPhoneNo,M4PhoneNo,200,0);
  RecordField(CustCode,M4Code,20,CUVc);
  RecordField(Math,M4TextField,0,0);
  RecordField(LTxtCode,M4Code,5,0);
  RecordField(CheckSum,M4Long,0,0);
  RecordField(MessageType,M4Set,575,0);
  RecordField(ChatId,M4Str,200,0);
  RecordField(SkypeChatMsgId,M4Long,0,0);
  RecordField(SkypeChatParties,M4Str,200,0);
  RecordField(SubMessageType,M4Set,576,0);
  RecordField(CustCode2,M4Code,20,CUVc);
  RecordField(Persons,M4UStr,200,UserVc);
  RecordField(Encryptedf,M4Int,0,0);
  RecordField(PrivacyLevel,M4Int,0,0);
  RecordField(Copiedf,M4Set,581,0);
  RecordField(CallStatus,M4Set,582,0);
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeyBegin(CustCode);
  KeySegment(CustCode);
  KeySegment(SerNr);
  KeyBegin(ChatId)
  KeySegment(ChatId);
  KeySegment(SerNr);
  KeyBegin(SkypeChatMsgId)
  KeySegment(SkypeChatMsgId);
  KeySegment(SerNr);
  SubSetKeyBegin2(Persons);
  AppendListFieldToKeyName(Persons);
  KeySegment(SerNr);
  KeyBegin(Copiedf)
  KeySegment(Copiedf);
  KeySegment(SerNr);
  KeyBegin(Person)
  KeySegment(Person);
  KeySegment(SerNr);
end;

begin
// Per company or??
  BlockBegin(ConvMasterBlock,-,"");
//  BlockInServer;
//  BlockForAllCompanies;
  RecordField(ConvAccFlag,M4Int,0,0);
  RecordField(DualBaseCurrencyFlag,M4Int,0,0);
  RecordField(Base1ToBase2Flag,M4Int,0,0);
  RecordField(ConvActTypeFlag,M4Int,0,0);
  RecordField(ConvCustFlag,M4Int,0,0);
  RecordField(ConvItemFlag,M4Int,0,0);
  RecordField(ConvCustClassFlag,M4Int,0,0);
  RecordField(ConvCurncyCodeFlag,M4Int,0,0);
  RecordField(ConvUserFlag,M4Int,0,0);
  RecordField(ConvConfAddrFlag,M4Int,0,0);
  RecordField(ConvObjectFlag,M4Int,0,0);
  RecordField(ConvVendFlag,M4Int,0,0);
  RecordField(ConvQuoteClass,M4Int,0,0);
  RecordField(ConvLocation,M4Int,0,0);
  EndBlock;
  
  BlockBegin(ConvAccBlock,-,"");
  ImpExpLevel(1);
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(OldAcc,M4Code,10,0);
  ArrayField(NewAcc,M4Code,10,0);
  ArrayField(OldVATCode,M4Code,10,0);
  ArrayField(NewVATCode,M4Code,10,0);
  EndArray;
  EndBlock;

  BlockBegin(ConvActTypeBlock,-,"");
  ImpExpLevel(1);
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(OldType,M4Code,5,0);
  ArrayField(NewType,M4Code,5,0);
  EndArray;
  EndBlock;

  BlockBegin(ConvCustBlock,-,"");
  ImpExpLevel(1);
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(OldCode,M4Code,20,0);
  ArrayField(NewCode,M4Code,20,0);
  EndArray;
  EndBlock;

  BlockBegin(ConvCustClassBlock,-,"");
  ImpExpLevel(1);
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,ConvCustClassRowType,1);
  ArrayField(OldCode,M4Code,10,0);
  ArrayField(NewCode,M4Code,10,0);
  EndArray;
  EndBlock;

  BlockBegin(ConvCurncyCodeBlock,-,"");
  ImpExpLevel(1);
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(OldCode,M4Code,5,0);
  ArrayField(NewCode,M4Code,5,0);
  EndArray;
  EndBlock;

  BlockBegin(ConvUserBlock,-,"");
  ImpExpLevel(1);
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(OldCode,M4Code,10,0);
  ArrayField(NewCode,M4Code,10,0);
  EndArray;
  EndBlock;

  BlockBegin(ConvConfAddrBlock,-,"");
  ImpExpLevel(1);
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(OldAddr,M4Code,30,0);
  ArrayField(NewAddr,M4Code,30,0);
  EndArray;
  EndBlock;

  BlockBegin(ConvObjBlock,-,"");
  ImpExpLevel(1);
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(OldObject,M4Code,30,0);
  ArrayField(NewObject,M4Code,30,0);
  EndArray;
  EndBlock;

  BlockBegin(ConvVendBlock,-,"");
  ImpExpLevel(1);
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(OldCode,M4Code,20,0);
  ArrayField(NewCode,M4Code,20,0);
  EndArray;
  EndBlock;

  BlockBegin(ConvQuoteClassBlock,-,"");
  ImpExpLevel(1);
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(OldCode,M4Code,10,0);
  ArrayField(NewCode,M4Code,10,0);
  EndArray;
  EndBlock;

  BlockBegin(MarginBlock,-,"");
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(Min,M4Qty,0,0);
  ArrayField(Max,M4Qty,0,0);
  ArrayField(PrivMarg,M4Qty,0,0);
  ArrayField(MuniMarg,M4Qty,0,0);
  ArrayField(Comment,M4Str,60,0);
  EndArray;
  EndBlock;
  
  BlockBegin(FunderIncBlock,-,"");
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(Min,M4UVal,0,0);
  ArrayField(Max,M4UVal,0,0);
  ArrayField(IncPrc,M4Qty,0,0);
  ArrayField(IncSum,M4Qty,0,0);
  ArrayField(Comment,M4Str,60,0);
  EndArray;
  EndBlock;
  
  RecordBegin(QBVc,-,"");
  RecordField(Date,M4Date,0,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(invType,M4Int,0,0);
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(Period,M4UVal,0,0);
  ArrayField(QBRate,M4Qty,0,0);
  EndArray;
  MainKeyBegin(Date,0);
  KeySegment(Date);
  EndRecord;

  RecordBegin(PurOptVc,-,"");
  RecordField(Code,M4Code,5,0);
  RecordField(Text1,M4Str,100,0);
  RecordField(Text2,M4Str,100,0);
  RecordField(Text3,M4Str,100,0);
  RecordField(Text4,M4Str,100,0);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  EndRecord;
  
  RecordBegin(SWAPVc,-,"");
  RecordField(Code,M4Code,20,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(invType,M4Int,0,0);
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(Period,M4UVal,0,0);
  ArrayField(Sum,M4Qty,0,0);
  EndArray;
  MainKeyBegin(Code,0);
  KeySegment(Code);
  EndRecord;
  
  RecordBegin(PRPOINVc,-,"");
  ImpExpLevel(0);
  RecordField(Project,M4Code,20,PRVc);
  RecordField(Item,M4Str,20,INVc);
  RecordField(POSerNr,M4Long,0,0);
  RecordField(POQty,M4Qty,0,0);
  RecordField(POVal,M4Val,0,0);
  RecordField(TransDate,M4Date,0,0);  
  MainKeyBegin(Project,0);
  KeySegment(Project);
  KeySegment(Item);
  KeySegment(POSerNr);
  KeyBegin(Item);
  KeySegment(Item);
  KeySegment(Project);
  KeySegment(POSerNr);
  KeyBegin(POSerNr);
  KeySegment(POSerNr);  
  KeySegment(Project);
  KeySegment(Item);
  EndRecord;

  RecordBegin(BPCVc,-,"");
  RecordField(SerNr,M4Long,0,0);
  RecordField(TransDate,M4Date,0,0);
  FieldIsTransDate(TransDate);
  RecordField(OKFlag,M4Mark,0,0);
  RecordField(Signature,M4Code,10,UserVc);
  RecordField(TotQty,M4Qty,0,0);
  RecordField(TotPriceBefore,M4Val,0,0);
  RecordField(TotPriceAfter,M4Val,0,0);
  RecordField(TotVATBefore,M4Val,0,0);
  RecordField(TotVATAfter,M4Val,0,0);
  RecordField(Comment0,M4Str,100,0);
  RecordField(Comment1,M4Str,100,0);
  RecordField(Comment2,M4Str,100,0);
  RecordField(Comment3,M4Str,100,0);
  RecordField(Math,M4Matrix,0,0);
  RecordField(Location,M4Code,10,LocationVc);
  RecordField(InclVAT,M4Int,0,0);
  RecordField(TaxMatrix,M4PackedMatrix,0,TaxMatrixVc);
  ArrayBegin(Math,-,1);
  ArrayField(ArtCode,M4Code,20,INVc);
  ArrayField(Spec,M4Str,100,0);
  ArrayField(SerialNr,M4Str,60,0);
  ArrayField(Qty,M4UVal,0,0);
  ArrayField(BasePriceBefore,M423Val,0,0);
  ArrayField(BasePriceAfter,M423Val,0,0);
  ArrayField(VATCode,M4Code,10,VATCodeBlock);
  ArrayField(UnitCode,M4Code,5,0);
  ArrayField(PurPrice,M423Val,0,0);
  ArrayField(PurSum,M4Val,0,0);
  ArrayField(PurExtraCost,M45Val,0,0);
  ArrayField(MarginPerc,M4Val,0,0);
  ArrayField(BasePriceAfterSum,M4Val,0,0);
  ArrayField(BasePriceAfterInclVAT,M423Val,0,0);
  ArrayField(BasePriceAfterSumInclVAT,M4Val,0,0);
  ArrayField(VATSum,M4Val,0,0);
  ArrayField(PriceFactor,M45Val,0,0);
  ArrayField(TaxTemplateCode,M4UStr,60,TaxTemplateVc);
  ArrayField(TaxMatrix,M4PackedMatrix,0,TaxMatrixVc);
  EndArray;
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeyBegin(OKFlag);
  KeySegment(OKFlag);
  KeySegment(SerNr);
  KeyBegin(TransDate);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(Signature);
  KeySegment(Signature);
  KeySegment(SerNr);

  SubsetKeyBegin2(ArtCode);
  StoreInBaseKey;
  AppendMatrixFieldToKeyName(ArtCode,0);
  KeySegment(TransDate);
  KeySegment(SerNr);
  EndRecord;
   
  BlockBegin(EDIFileBlock,-,"");
  RecordField(LastFileNr,M4Long,0,0);
  RecordField(ImportFileFolder,M4Str,20,0);
  RecordField(MoveFileFolder,M4Str,20,0);
  RecordField(SkipCreditInv,M4Int,0,0);
  RecordField(ConsEDIInvRows,M4Int,0,0);
  RecordField(ExportFileFolder,M4Str,60,0);
  RecordField(FileExtNr,M4Long,0,0);
  RecordField(TestCode,M4Str,20,0);
  RecordField(LiveCode,M4Str,20,0);
  RecordField(Live,M4Int,0,0);
  EndBlock;   
    
  RecordBegin(PRSOINVc,-,"");
  ImpExpLevel(0);
  RecordField(Project,M4Code,20,PRVc);
  RecordField(Item,M4Str,20,INVc);
  RecordField(SOSerNr,M4Long,0,0);
  RecordField(SOQty,M4Qty,0,0);
  RecordField(SOVal,M4Val,0,0);
  RecordField(TransDate,M4Date,0,0);  
  MainKeyBegin(Project,0);
  KeySegment(Project);
  KeySegment(Item);
  KeySegment(SOSerNr);
  KeyBegin(Item);
  KeySegment(Item);
  KeySegment(Project);
  KeySegment(SOSerNr);
  KeyBegin(SOSerNr);
  KeySegment(SOSerNr);  
  KeySegment(Project);
  KeySegment(Item);
  EndRecord;

/* Not used?
  SimpleRecordBegin(SMrsVc,-,"");
  ImpExpLevel(0);
  RecordField(TransVc,M4Str,20,0);
  RecordField(TransNr,M4Long,0,0);
  RecordField(TransDate,M4Date,0,0);
  RecordField(InvDate,M4Date,0,0);
  RecordField(CustCode,M4Code,20,CUVc);
  MainKeyBegin(MainKey,0);
  KeySegment(TransVc);
  KeySegment(TransNr);
  KeySegment(TransDate);
  KeyBegin(CustCode);
  KeySegment(CustCode);
  KeySegment(TransVc);
  KeySegment(TransNr);
  KeySegment(TransDate);
  KeyBegin(InvDate);
  KeySegment(InvDate);
  KeySegment(TransVc);
  KeySegment(TransNr);
  KeySegment(TransDate);
  KeyBegin(TransDate);
  KeySegment(TransDate);
  KeySegment(TransVc);
  KeySegment(TransNr);
  EndRecord;
*/
  RecordBegin(IntORVc,-,"");
  RecordField(SerNr,M4Long,0,0);
  SerialNoBlock(IntORSerBlock);    
  RecordField(OurUser,M4Code,5,0);
  RecordField(Name,M4Str,60,0);
  RecordField(TransDate,M4Date,0,0);
  FieldIsTransDate(TransDate);
  RecordField(PlanShip,M4Str,10,0);
  RecordField(ReceivedDate,M4Date,0,0);
  RecordField(OSFlag,M4Int,0,0);
  RecordField(StatusFlag,M4Int,0,0);
  RecordField(StatusMark,M4Mark,0,0);
  RecordField(OKPersons,M4UStr,60,UserVc);
  RecordField(Reference,M4Str,20,0);
  RecordField(Department,M4Code,10,0);
  RecordField(Location,M4Code,10,LocationVc);
  RecordField(ShipMode,M4Code,5,0);
  RecordField(ShipDeal,M4Code,5,0);
  RecordField(ShipAddr0,M4Str,60,0);
  RecordField(ShipAddr1,M4Str,60,0);
  RecordField(ShipAddr2,M4Str,60,0);
  RecordField(ShipAddr3,M4Str,60,0);
  RecordField(Sign,M4Code,10,UserVc);
  RecordField(InclVAT,M4Int,0,0);
  RecordField(Total,M4Val,0,0);
  RecordField(Phone,M4PhoneNo,20,0);
  RecordField(Fax,M4Str,20,0);
  RecordField(emailAddr,M4Str,60,0);
  RecordField(LangCode,M4Code,5,0);
  RecordField(Math2,M4Matrix,0,0);
  RecordField(Math,M4TextField,0,0);
  RecordField(DelAddr3,M4Str,60,0);
  RecordField(DelAddr4,M4Str,60,0);
  RecordField(xAcceptanceGroup,M4Code,20,AcceptGroupVc);
  RecordField(Closed,M4Int,0,0);
  RecordField(PlanShipDate,M4Date,0,0);
  RecordField(IntORClass,M4Code,5,IntORClassVc);
  RecordField(FrLocation,M4Code,10,LocationVc);
  RecordField(SalesGroup,M4Code,5,SalesGroupVc);
  FieldIsGroup(SalesGroup);
  RecordField(AcceptanceStatus,M4Int,0,0);
  RecordField(AcceptanceBy,M4List,200,UserVc);
  RecordField(AcceptanceFYI,M4List,200,UserVc);
  ArrayBegin(Math2,-,1);
  ArrayField(ovst,M4Int,0,0);
  ArrayField(ArtCode,M4Code,20,INVc);
  ArrayField(Quant,M4UVal,0,0);
  ArrayField(Spec,M4Str,100,0);
  ArrayField(Price,M4Val,0,0);
  ArrayField(Sum,M4Val,0,0);
  ArrayField(VATCode,M4Code,10,VATCodeBlock);
  ArrayField(VARList,M4UStr,30,0);
  ArrayField(CostAcc,M4UStr,10,AccVc);
  ArrayField(Objects,M4UStr,60,ObjVc);
  ArrayField(Recepy,M4Code,20,PRVc);
  ArrayField(Shipd1,M4UVal,0,0);
  ArrayField(Shipd2,M4UVal,0,0);
  ArrayField(POOrd,M4UVal,0,0);
  ArrayField(Sent,M4UVal,0,0);
  ArrayField(SerialNr,M4Str,60,0);
  EndArray;
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeyBegin(OurUser);
  KeySegment(OurUser);
  KeySegment(SerNr);
  KeyBegin(Name);
  KeySegment(Name);
  KeySegment(SerNr);
  KeyBegin(StatusFlag);
  KeySegment(StatusFlag);
  KeySegment(SerNr);
  KeyBegin(TransDate);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(Department);
  KeySegment(Department);
  KeySegment(StatusMark);
  KeySegment(SerNr);
  KeyBegin(Reference);
  KeySegment(Reference);
  KeySegment(SerNr);
  KeyBegin(OSFlag);
  KeySegment(OSFlag);
  KeySegment(SerNr);
  KeyBegin(PlanShip);
  KeySegment(PlanShip);
  KeySegment(SerNr);
  SubsetKeyBegin2(ArtCode);
  AppendMatrixFieldToKeyName(ArtCode,0);
  KeySegment(SerNr);
  KeyBegin(Location);
  KeySegment(Location);
  KeySegment(SerNr);
  KeyBegin(PlanShipDate);
  KeySegment(PlanShipDate);
  KeySegment(SerNr);  
  SubsetKeyBegin2(ArtCodeOSFlag);
  AppendMatrixFieldToKeyName(ArtCode,0);
  KeySegment(OSFlag);
  KeySegment(SerNr);  
  EndRecord;

  RecordBegin(IntORClassVc,-,"");
  RecordField(Code,M4Code,5,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(DisallowStockMov,M4Int,0,0);
  RecordField(DisallowSD,M4Int,0,0);
  RecordField(DisallowPO,M4Int,0,0);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  EndRecord;

  RecordBegin(BankRecVc,-,"");
  ImpExpLevel(0);
  RecordField(Math,M4Matrix,0,0);
  RecordField(AccNumber,M4Code,10,AccVc);
  RecordField(Period2Str,M4Str,30,0);
  RecordField(d1,M4Date,0,0);
  RecordField(d2,M4Date,0,0);
  RecordField(Incompletef,M4Int,0,0);
  RecordField(StartBal,M4Val,0,0);
  RecordField(RecVal,M4Val,0,0);
  RecordField(EndBal,M4Val,0,0);
  RecordField(Recedf,M4Int,0,0);
  RecordField(Unrecedf,M4Int,0,0);
  RecordField(RecDate,M4Date,0,0);
  RecordField(Objects,M4UStr,60,ObjVc);
  RecordField(CompCode,M4Code,20,CUVc);
  RecordField(Typ,M4Set,24,0);
  RecordField(ReconCode,M4Code,5,0);
  RecordField(CurncyCode,M4Code,5,CurncyCodeVc);
  RecordField(ShowRefStr,M4Int,0,0);
  RecordField(BankBal,M4Val,0,0);
  RecordField(ReconSum,M4Val,0,0);
  RecordField(Diff,M4Val,0,0);
  RecordField(ReconDate,M4Date,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(IntYc,M4Int,0,0);
  ArrayField(Number,M4Long,0,0);
  ArrayField(rownr,M4Int,0,0);
  ArrayField(TransDate,M4Date,0,0);
  ArrayField(Comment,M4Str,60,0);
  ArrayField(Val,M4Val,0,0);
  ArrayField(BalVal,M4Val,0,0);
  ArrayField(Reconsf,M4Set,27,0);
  ArrayField(Val2,M4Val,0,0);
  ArrayField(CurVal,M4Val,0,0);
  ArrayField(Objects,M4UStr,60,ObjVc);
  ArrayField(ReconCode,M4Code,5,0);
  ArrayField(CurncyCode,M4Code,5,CurncyCodeVc);
  ArrayField(ReconDate,M4Date,0,0);
  ArrayField(CheckNr,M4UStr,20,0);
  EndArray;
  MainKeyBegin(AccNumber,0);
  KeySegment(AccNumber);
  EndRecord;

  BlockBegin(NLRateBlock,-,"");
  RecordField(RateGainAcc,M4Code,10,AccVc);
  RecordField(RateLossAcc,M4Code,10,AccVc);
  RecordField(Limit,M4Qty,0,0);
  EndBlock;

  RecordBegin(SVOVc,-,"");
  RecordField(SerNr,M4Long,0,0);
  SerialNoBlock(SVOSerBlock);
  RecordField(TransDate,M4Date,0,0);
  FieldIsTransDate(TransDate);
  RecordField(PlanShip,M4Str,10,0);
  RecordField(CustCode,M4Code,20,CUVc);
  RecordField(Addr0,M4Str,60,0);
  RecordField(Addr1,M4Str,60,0);
  RecordField(Addr2,M4Str,60,0);
  RecordField(Addr3,M4Str,60,0);
  RecordField(OurContact,M4Str,20,0);
  RecordField(CustContact,M4Str,60,0);
  RecordField(ExportFlag,M4Int,0,0);
  RecordField(PayDeal,M4Code,2,0);
  RecordField(Objects,M4UStr,60,ObjVc);
  RecordField(ShipMode,M4Code,5,0);
  RecordField(Sign,M4Code,10,UserVc);
  RecordField(ShipDeal,M4Code,5,0);
  RecordField(ShipAddr0,M4Str,60,0);
  RecordField(ShipAddr1,M4Str,60,0);
  RecordField(ShipAddr2,M4Str,60,0);
  RecordField(ShipAddr3,M4Str,60,0);
  RecordField(LangCode,M4Code,5,0);
  RecordField(InvoiceToCode,M4Code,20,CUVc);
  RecordField(Comment1,M4Str,100,0);
  RecordField(Comment2,M4Str,100,0);
  RecordField(Comment3,M4Str,100,0);
  RecordField(Comment4,M4Str,100,0);
  RecordField(OrderClass,M4Code,5,0);
  RecordField(CustOrdNr,M4Str,60,0);
  RecordField(InclVAT,M4Int,0,0);
  RecordField(TotCost,M4Val,0,0); /* Customers Purch Cost then */
  RecordField(TotPrice,M4Val,0,0); /* Our Sales Price now */
  RecordField(CustVATCode,M4Code,10,VATCodeBlock);
  RecordField(VATNr,M4Str,20,0);
  RecordField(Phone,M4PhoneNo,20,0);
  RecordField(Fax,M4Str,20,0);
  RecordField(DoneMark,M4Mark,0,0);
  RecordField(InvFlag,M4Int,0,0);
  RecordField(InvMark,M4Mark,0,0);
  RecordField(SalesMan,M4Code,10,UserVc);
  FieldIsUser(SalesMan);
  RecordField(CustCat,M4Code,5,0);
  RecordField(PriceList,M4Code,5,0);
  RecordField(RebCode,M4Code,5,0);
  RecordField(WOMark,M4Mark,0,0);
  RecordField(WSMark,M4Mark,0,0);
  RecordField(Math,M4Matrix,0,0);
  RecordField(InvAddr3,M4Str,60,0);
  RecordField(InvAddr4,M4Str,60,0);
  RecordField(DelAddr3,M4Str,60,0);
  RecordField(DelAddr4,M4Str,60,0);
  RecordField(SalesGroup,M4Code,5,SalesGroupVc);
  FieldIsGroup(SalesGroup);
  RecordField(CurncyCode,M4Code,5,CurncyCodeVc);
  RecordField(FrRate,M4Rate,0,0); 
  RecordField(ToRateB1,M4Rate,0,0);
  RecordField(ToRateB2,M4Rate,0,0); 
  RecordField(BaseRate1,M4Rate,0,0); 
  RecordField(BaseRate2,M4Rate,0,0); 
  RecordField(QualConSerNr,M4Long,0,QualConVc);
  RecordField(PlanShipDate,M4Date,0,0);
  RecordField(DelAddrCode,M4Code,20,0);
  RecordField(Region,M4Code,20,RegionVc);
  RecordField(BranchID,M4Code,20,CUVc);
  RecordField(ServLocation,M4UStr,10,LocationVc);
  RecordField(RegDate,M4Date,0,0);
  RecordField(RegTime,M4Time,0,0);
  RecordField(ConfirmationNo,M4Str,20,0);
  RecordField(CustComplaint1,M4Str,100,0);
  RecordField(CustComplaint2,M4Str,100,0);
  RecordField(CustComplaint3,M4Str,100,0);
  RecordField(CustComplaint4,M4Str,100,0);
  RecordField(TechComment1,M4Str,100,0);
  RecordField(TechComment2,M4Str,100,0);
  RecordField(TechComment3,M4Str,100,0);
  RecordField(TechComment4,M4Str,100,0);
  RecordField(Note1,M4Str,100,0);
  RecordField(Note2,M4Str,100,0);
  RecordField(Note3,M4Str,100,0);
  RecordField(Note4,M4Str,100,0);
  RecordField(TechnicianID,M4Str,20,0);
  RecordField(SupplierReviewFlag,M4Mark,0,0);
  RecordField(InvCountry,M4Code,5,0);
  RecordField(DelCountry,M4Code,5,0);
  RecordField(CustTaxTemplateCode,M4Code,10,TaxTemplateVc);
  RecordField(RecipientGLN,M4Str,20,0);
  RecordField(DelRecipientGLN,M4Str,20,0);
//  RecordField(TaxMatrix,M4PackedMatrix,0,TaxMatrixVc);
  ArrayBegin(Math,-,1);
  ArrayField(stp,M4Int,0,0);
  ArrayField(ArtCode,M4Code,20,INVc);
  ArrayField(Quant,M4UVal,0,0);
  ArrayField(Cost,M423Val,0,0);
  ArrayField(Price,M4Val,0,0);
  ArrayField(SalesAcc,M4Code,10,AccVc);
  ArrayField(WOSerNr,M4Long,0,0);
  ArrayField(WOEnum,M4Long,0,0);
  ArrayField(Objects,M4UStr,60,ObjVc);
  ArrayField(Spec,M4Str,100,0);
  ArrayField(VATCode,M4Code,10,VATCodeBlock);
  ArrayField(SerialNr,M4Str,60,0);
  ArrayField(WOMade,M4UVal,0,0);
  ArrayField(Invd,M4UVal,0,0);
  ArrayField(MaxCost,M423Val,0,0);
  ArrayField(ItemType,M4Set,31,0);
  ArrayField(PlanShiprw,M4Str,10,0);
  ArrayField(StandProblem,M4Code,20,0);
  ArrayField(MotherNr,M4Str,30,0);
  ArrayField(ContractNr,M4Long,0,0);
  ArrayField(ItemKind,M4Set,457,0);
  ArrayField(StdProblemMod,M4Code,20,StdProblemModVc);
  ArrayField(DiagnosticCode,M4Str,100,0);
  ArrayField(TaxTemplateCode,M4UStr,60,TaxTemplateVc);
//  ArrayField(TaxMatrix,M4PackedMatrix,0,TaxMatrixVc);
  ArrayField(SecondarySerialNr,M4Str,60,0);
  ArrayField(AlternateDeviceID,M4Str,30,0);
  ArrayField(MotherSecondarySerialNr,M4Str,60,0);
  ArrayField(MotherAlternateDeviceID,M4Str,30,0);
  EndArray;
  MainKeyBegin(SerNr,1);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(SerNr);
  SubsetKeyBegin2(CustCode);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(CustCode);
  KeySegment(SerNr);
  SubsetKeyBegin2(InvFlag);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(InvFlag);
  KeySegment(SerNr);
  SubsetKeyBegin2(Name);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(Addr0);
  KeySegment(SerNr);
  SubsetKeyBegin2(OrderClass);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(OrderClass);
  KeySegment(SerNr);
  SubsetKeyBegin2(TransDate);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(TransDate);
  KeySegment(SerNr);
  SubsetKeyBegin2(CustOrdNr);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(CustOrdNr);
  KeySegment(SerNr);
  SubsetKeyBegin2(WOMark);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(WOMark);
  KeySegment(SerNr);
  SubsetKeyBegin2(PlanShip);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(PlanShip);
  KeySegment(SerNr);
  SubsetKeyBegin2(WSMark);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(WSMark);
  KeySegment(SerNr);
  SubsetKeyBegin2(SalesMan);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(SalesMan);
  KeySegment(SerNr);
/* Not used ?
  SubsetKeyBegin2(SerialNr);
  APPENDMATRIXFIELDTOKEYNAME(SerialNr,0);
  KeySegment(SerNr);
*/
  SubsetKeyBegin2(PlanShipDate);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(PlanShipDate);
  KeySegment(SerNr);
  EndRecord;
  

  RecordBegin(WOVc,-,"");
  RecordField(SerNr,M4Long,0,0);
  SerialNoBlock(WOSerBlock);  
  RecordField(SVOSerNr,M4Long,0,0);
  RecordField(CustCode,M4Code,20,CUVc);
  RecordField(Addr0,M4Str,60,0);
  RecordField(TransDate,M4Date,0,0);
  FieldIsTransDate(TransDate);
  RecordField(PlanDate,M4Str,10,0);
  RecordField(PlanWork,M4Str,10,0);
  RecordField(OurContact,M4Str,20,0);
  RecordField(CustContact,M4Str,60,0);
  RecordField(Objects,M4UStr,60,ObjVc); /* Not used at the moment */
  RecordField(Sign,M4Code,10,UserVc);
  RecordField(CustOrdNr,M4Str,60,0);
  RecordField(Closed,M4Int,0,0);
  RecordField(Done,M4Mark,0,0);
  RecordField(EMCode,M4Code,10,UserVc); // was 20
  FieldIsUser(EMCode);
  RecordField(EMName,M4Str,60,0);
  RecordField(Phone,M4PhoneNo,20,0);
  RecordField(Fax,M4Str,20,0);
  RecordField(LangCode,M4Code,5,0);
  RecordField(Comment1,M4Str,100,0);
  RecordField(Comment2,M4Str,100,0);
  RecordField(Comment3,M4Str,100,0);
  RecordField(Comment4,M4Str,100,0);
  RecordField(VATNr,M4Str,20,0);
  RecordField(CustVATCode,M4Code,10,VATCodeBlock);
  RecordField(InvoiceToCode,M4Code,20,CUVc);
  RecordField(Prntdf,M4Int,0,0);
  RecordField(SalesGroup,M4Code,5,SalesGroupVc);
  FieldIsGroup(SalesGroup);
  RecordField(CurncyCode,M4Code,5,CurncyCodeVc);
  RecordField(FrRate,M4Rate,0,0); 
  RecordField(ToRateB1,M4Rate,0,0);
  RecordField(ToRateB2,M4Rate,0,0); 
  RecordField(BaseRate1,M4Rate,0,0); 
  RecordField(BaseRate2,M4Rate,0,0); 
  RecordField(Math,M4Matrix,0,0);
  RecordField(RegDate,M4Date,0,0);
  RecordField(RegTime,M4Time,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(stp,M4Int,0,0);
  ArrayField(ArtCode,M4Code,20,INVc);
  ArrayField(Quant,M4UVal,0,0);
  ArrayField(Objects,M4UStr,60,ObjVc); /* Not used at the moment */
  ArrayField(Spec,M4Str,100,0);
  ArrayField(SerialNr,M4Str,60,0);
  ArrayField(PlanWork,M4UVal,0,0);
  ArrayField(VARList,M4UStr,30,0);
  ArrayField(MaxCost,M423Val,0,0);
  ArrayField(ItemType,M4Set,31,0);
  ArrayField(PlanShiprw,M4Str,10,0);
  ArrayField(ContractNr,M4Long,0,0);
  ArrayField(StandProblem,M4Code,20,0);
  ArrayField(VATCode,M4Code,10,VATCodeBlock);
  EndArray;
  MainKeyBegin(SerNr,1);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(EMCode);
  KeySegment(SerNr);
  SubsetKeyBegin2(SVOSerNr);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(EMCode);
  KeySegment(SVOSerNr);
  KeySegment(SerNr);
  SubsetKeyBegin2(CustCode);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(EMCode);
  KeySegment(CustCode);
  KeySegment(SerNr);
  SubsetKeyBegin2(Name);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(EMCode);
  KeySegment(Addr0);
  KeySegment(SerNr);
  SubsetKeyBegin2(EMCode);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(EMCode);
  KeySegment(EMCode);
  KeySegment(SerNr);
  SubsetKeyBegin2(PlanDate);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(EMCode);
  KeySegment(PlanDate);
  KeySegment(SerNr);
  SubsetKeyBegin2(CustOrdNr);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(EMCode);
  KeySegment(CustOrdNr);
  KeySegment(SerNr);
  SubsetKeyBegin2(Closed);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(EMCode);
  KeySegment(Closed);
  KeySegment(SerNr);
  SubsetKeyBegin2(TransDate);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(EMCode);
  KeySegment(TransDate);
  KeySegment(SerNr);
  EndRecord;

  RecordBegin(WSVc,-,"WSVc2");
  RecordField(SerNr,M4Long,0,0);
  SerialNoBlock(WSSerBlock);
  RecordField(WONr,M4Long,0,0);
  RecordField(TransDate,M4Date,0,0);
  FieldIsTransDate(TransDate);
  RecordField(EMCode,M4Code,10,UserVc); // was 20
  FieldIsUser(EMCode);
  RecordField(EMName,M4Str,60,0);
  RecordField(CustCode,M4Code,20,CUVc);
  RecordField(Addr0,M4Str,60,0);
  RecordField(OKFlag,M4Mark,0,0);
  RecordField(InvFlag,M4Mark,0,0);
  RecordField(CustContact,M4Str,60,0);
  RecordField(Sum0,M4Val,0,0);
  RecordField(Sum1,M4Val,0,0);
  RecordField(Sum2,M4Val,0,0);
  RecordField(Sum3,M4Val,0,0);
  RecordField(Sum4,M4Val,0,0);
  RecordField(Objects,M4UStr,60,ObjVc);
  RecordField(Phone,M4PhoneNo,20,0);
  RecordField(Fax,M4Str,20,0);
  RecordField(Sign,M4Code,10,UserVc);
  RecordField(InvoiceToCode,M4Code,20,CUVc);
  RecordField(Comment1,M4Str,100,0);
  RecordField(Comment2,M4Str,100,0);
  RecordField(Comment3,M4Str,100,0);
  RecordField(Comment4,M4Str,100,0);
  RecordField(Location,M4Code,10,LocationVc);
  FieldIsLocation(Location);
  RecordField(CustCat,M4Code,5,0);
  RecordField(PriceList,M4Code,5,0);
  RecordField(RebCode,M4Code,5,0);
  RecordField(LangCode,M4Code,5,0);
  RecordField(ExportFlag,M4Int,0,0);
  RecordField(CustVATCode,M4Code,10,VATCodeBlock);
  RecordField(InclVAT,M4Int,0,0);
/* khxx */
/* We want to remove all Vc from the registers, that is why he renamed it */
  RecordField(oVc,M4Int,0,0);
  RecordField(ArtCode,M4Code,20,INVc);
  RecordField(SerialNr,M4Str,60,0);//what is this for
  RecordField(Spec,M4Str,100,0);
  RecordField(MaxCost,M4Qty,0,0);
  RecordField(PrelOK,M4Mark,0,0);
  RecordField(SVONr,M4Long,0,0);
  RecordField(LocOKNr,M4Qty,0,0);
  RecordField(SalesGroup,M4Code,5,SalesGroupVc);
  FieldIsGroup(SalesGroup);
  RecordField(CurncyCode,M4Code,5,CurncyCodeVc);
  RecordField(FrRate,M4Rate,0,0); 
  RecordField(ToRateB1,M4Rate,0,0);
  RecordField(ToRateB2,M4Rate,0,0); 
  RecordField(BaseRate1,M4Rate,0,0); 
  RecordField(BaseRate2,M4Rate,0,0); 
  RecordField(ACShort,M4Code,5,0); 
  RecordField(CostAcc,M4Code,10,AccVc);
  RecordField(Invalid,M4Int,0,0);
  FieldIsInvalid(Invalid);
  RecordField(InvalidDate,M4Date,0,0);
  RecordField(UpdStockFlag,M4Int,0,0);
  RecordField(Math,M4Matrix,0,0);
  RecordField(CustTaxTemplateCode,M4Code,10,TaxTemplateVc);
  RecordField(TaxMatrix,M4PackedMatrix,0,TaxMatrixVc);
  ArrayBegin(Math,-,1);
  ArrayField(stp,M4Int,0,0);
  ArrayField(ArtCode,M4Code,20,INVc);
  ArrayField(Quant,M4UVal,0,0);
  ArrayField(Price,M423Val,0,0);
  ArrayField(Sum,M4Val,0,0);
  ArrayField(vRebate,M41Val,0,0);
  ArrayField(SalesAcc,M4Code,10,AccVc);
  ArrayField(Objects,M4UStr,60,ObjVc);
  ArrayField(BasePrice,M423Val,0,0);
  ArrayField(Spec,M4Str,100,0);
  ArrayField(VATCode,M4Code,10,VATCodeBlock);
  ArrayField(Recepy,M4Code,20,RecVc);
  ArrayField(SerialNr,M4Str,60,0);
  ArrayField(ovst,M4Int,0,0);
  ArrayField(Invd,M4UVal,0,0);
  ArrayField(VARList,M4UStr,30,0);
  ArrayField(ItemType,M4Set,31,0);
  ArrayField(QtyInvbl,M4UVal,0,0);
  ArrayField(MotherNr,M4Str,30,0);
  ArrayField(FIFO,M45Val,0,0);
  ArrayField(FIFORowVal,M45Val,0,0);
  ArrayField(Coefficient,M45Val,0,0);
  ArrayField(PosCode,M4Code,20,0);
  ArrayField(CostAcc,M4Code,10,AccVc);
  ArrayField(ACShort,M4Code,5,0); 
  ArrayField(Returned,M4Qty,0,0);
  ArrayField(TaxTemplateCode,M4UStr,60,TaxTemplateVc);
  ArrayField(TaxMatrix,M4PackedMatrix,0,TaxMatrixVc);
  EndArray;
  MainKeyBegin(SerNr,1);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(EMCode);
  KeySegment(SerNr);
  SubsetKeyBegin2(EMCode);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(EMCode);
  KeySegment(EMCode);
  KeySegment(SerNr);
  SubsetKeyBegin2(CustCode);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(EMCode);
  KeySegment(CustCode);
  KeySegment(SerNr);
  SubsetKeyBegin2(Name);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(EMCode);
  KeySegment(Addr0);
  KeySegment(SerNr);
  SubsetKeyBegin2(TransDate);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(EMCode);
  KeySegment(TransDate);
  KeySegment(SerNr);
  SubsetKeyBegin2(OKFlag);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(EMCode);
  KeySegment(OKFlag);
  KeySegment(SerNr);
  SubsetKeyBegin2(WONr);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(EMCode);
  KeySegment(WONr);
  KeySegment(SerNr);
  SubsetKeyBegin2(SVONr);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(EMCode);
  KeySegment(SVONr);
  KeySegment(SerNr);
  SubsetKeyBegin2(LocOK);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(EMCode);
  KeySegment(Location);
  KeySegment(OKFlag);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(OKFlagTransDate);
  KeySegment(OKFlag);
  KeySegment(TransDate);  
  KeySegment(SerNr);  
  EndRecord;

  BlockBegin(ProgramStatusBlock,ProgramStatusType,"");
  BlockInServer; // Are you sure about this?
  BlockForAllCompanies;
  RecordField(ProgramName,M4Str,60,0);
  RecordField(DefaultCompany,M4Code,10,0);
  RecordField(ServerFlag,M4Int,0,0);
  RecordField(ServerPort,M4Long,0,0);
  RecordField(EvalPort,M4Long,0,0);
  RecordField(DistributorPort,M4Long,0,0);
  RecordField(Serv1Addr,M4Str,60,0);
  RecordField(Serv1Port,M4Long,0,0);
  RecordField(Serv2Addr,M4Str,60,0);
  RecordField(Serv2Port,M4Long,0,0);
  RecordField(Serv3Addr,M4Str,60,0);
  RecordField(Serv3Port,M4Long,0,0);
  RecordField(Serv4Addr,M4Str,60,0);
  RecordField(Serv4Port,M4Long,0,0);
  RecordField(Serv5Addr,M4Str,60,0);
  RecordField(Serv5Port,M4Long,0,0);
  RecordField(httpPort,M4Long,0,0);
  RecordField(ftpPort,M4Long,0,0);
  RecordField(FtpStartDir,M4Str,60,0);
  RecordField(printServerPort,M4Long,0,0);
  RecordField(maxHTTPUsers,M4Long,0,0);
  RecordField(maxFTPUsers,M4Long,0,0);
  RecordField(AllowAnonymFTP,M4Int,0,0);
  RecordField(AutoLoginPrintServf,M4Int,0,0);
  RecordField(autoServerIP,M4Str,60,0);
  RecordField(autoServerPort,M4Long,0,0);
  RecordField(autoConnectSeconds,M4Long,0,0);
  RecordField(BeepOnMessage,M4Int,0,0);
  RecordField(HTTPTimeOut,M4Long,0,0);
  RecordField(BindToAddr,M4Str,60,0);
  RecordField(FaxServerPeriod,M4Long,0,0);
  RecordField(HTSPort,M4Long,0,0);
  RecordField(httpsPort,M4Long,0,0);
  RecordField(UseHttps,M4Int,0,0);
  RecordField(SSLCertFile,M4Str,60,0);
  RecordField(SSLPrivKeyFile,M4Str,60,0);
  RecordField(SSLPrivKeyPassword,M4Str,255,0);
  RecordField(SingleUserServer,M4Int,0,0);
  RecordField(BPMini,M4Int,0,0);
  RecordField(BPMPort,M4Long,0,0);
  RecordField(NoSSL2,M4Int,0,0);
  RecordField(NoSSL3,M4Int,0,0);
  RecordField(NoTLS1,M4Int,0,0);
  RecordField(WebSessionTimeout,M4Long,0,0);
  RecordField(MaxWebPost,M4Long,0,0);
  EndBlock;

  BlockBegin(FaxSettingsBlock,FaxSettingsType,"");
  RecordField(ModemType,M4Set,48,0);
  RecordField(Resolution,M4Int,0,0);
  RecordField(Speaker,M4Int,0,0);
  RecordField(BaudRate,M4Set,49,0);
  RecordField(Port,M4Str,60,0);
  RecordField(DialPrefix,M4Str,20,0);
  RecordField(PamFaxUserName,M4Str,30,0);
  RecordField(PamFaxPassword,M4Str,30,0);
  RecordField(PamFaxMode,M4Int,0,0);
  EndBlock;

  BlockBegin(CashPrintBlock,-,"CashPrintBlock1");
  CacheBlockInClient;
  NewAutosyncBlock(kSyncDirectionToClient);
  RecordField(Head0,M4Str,40,0);
  RecordField(Head1,M4Str,40,0);
  RecordField(Head2,M4Str,40,0);
  RecordField(Head3,M4Str,40,0);
  RecordField(Head4,M4Str,40,0);
  RecordField(Foot0,M4Str,40,0);
  RecordField(Foot1,M4Str,40,0);
  RecordField(Foot2,M4Str,40,0);
  RecordField(Foot3,M4Str,40,0);
  RecordField(Foot4,M4Str,40,0);
  RecordField(PrinterType,M4Int,0,0);
  RecordField(MinCashLen,M4Int,0,0);
  RecordField(CommPort,M4Str,100,0);
  RecordField(FiscalPrinter,M4Set,69,0);
  RecordField(DisplayText,M4Str,40,0);
  EndBlock;

  BlockBegin(BackupBlock,BackupType,"");
  BlockInServer;
  BlockForAllCompanies;
  RecordField(TBtype,M4Int,0,0);
  RecordField(TransTime,M4Str,5,0);
  RecordField(Path,M4Str,60,0);
  RecordField(CloseTime,M4Str,5,0);
  RecordField(OpenTime,M4Str,5,0);
  RecordField(UpdateBrowse,M4Long,0,0);
  RecordField(xxx,M4Long,0,0);
  RecordField(MailCleanup,M4Int,0,0);
  RecordField(Backup,M4Int,0,0);
  RecordField(DailyHAL,M4Str,20,0);
  RecordField(BackgroundHAL,M4Str,20,0);
  RecordField(BackgroundTimer,M4Long,0,0);
  RecordField(ClientTimeOut,M4Long,0,0);
  RecordField(DBCopyTime,M4Str,5,0);
  RecordField(DBCopyTime2,M4Str,5,0);
  RecordField(HTSConnectionTime,M4Str,5,0);
  RecordField(HTSBackgroundTimer,M4Long,0,0);
  RecordField(ContDBCopyf,M4Int,0,0);
  RecordField(ContDBCopyMinDelay,M4Long,0,0);
  RecordField(ReportTimeout,M4Long,0,0);
  EndBlock;

  BlockBegin(SIPServerBlock,-,"");
  BlockInServer;
  BlockForAllCompanies;
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,SIPServerRowType,1);
  ArrayField(SIP_IP_Address,M4Str,60,0);
  ArrayField(SIP_Port,M4Str,60,0);
  ArrayField(User_ID,M4Str,60,0);
  ArrayField(Password,M4Str,60,0);
  ArrayField(IntPrefix,M4Str,3,0);
  ArrayField(CountryCode,M4Str,3,0);
  ArrayField(DefAreaCode,M4Str,9,0);
  ArrayField(SkipDigit,M4Str,1,0);
  EndArray;
  EndBlock;

  RecordBegin(PBXConnectionVc,-,"");
  RegisterForAllCompanies(false);
  RecordField(Code,M4Code,20,0);
  RecordField(Closed,M4Int,0,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(PBXType,M4Set,474,0);
  RecordField(PBXTapiTSP,M4Str,100,0);
  RecordField(PBXHost,M4Str,60,0);
  RecordField(PBXPort,M4Str,60,0);
  RecordField(PBXUser,M4Str,60,0);
  RecordField(PBXPassword,M4Str,60,0);
  RecordField(IntPrefix,M4Str,3,0);
  RecordField(CountryCode,M4Str,3,0);
  RecordField(DefAreaCode,M4Str,9,0);
  RecordField(SkipDigit,M4Str,1,0);
  RecordField(Math,M4Matrix,0,0);
  RecordField(RemoteConfigDir,M4Str,255,0);
  RecordField(RemoteUser,M4Str,255,0);
  RecordField(UpdateOnRecordChangef,M4Int,0,0);
  RecordField(IAXf,M4Int,0,0);
  RecordField(IAXPassword,M4Str,60,0);
  RecordField(PBXHostIP,M4Str,60,0);
  RecordField(xDefaultCallerId,M4Str,20,0);
  RecordField(ExtLinePrefix,M4Str,3,0);
  RecordField(AsteriskController,M4Str,255,0);
  RecordField(AsteriskControllerKey,M4Str,60,0);
  RecordField(AsteriskControllerPort,M4Int,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(PBXRuleType,M4Set,475,0);
  ArrayField(PBXRuleIdentifier,M4Str,60,0);
  ArrayField(PBXRuleComment,M4Str,60,0);
  EndArray;
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeyBegin(PBXType);
  KeySegment(PBXType);
  KeySegment(Code);
  KeyBegin(PBXHost);
  KeySegment(PBXHost);
  KeySegment(Code);
  KeyBegin(PBXTapiTSP);
  KeySegment(PBXTapiTSP);
  KeySegment(Code);
  KeyBegin(Closed);
  KeySegment(Closed);
  KeySegment(Code);
  EndRecord;

  RecordBegin(CalcFormVc,-,"");
  RecordField(PayCode,M4Code,20,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(From,M4Qty,0,0);
  ArrayField(To,M4Qty,0,0);
  ArrayField(Percent,M4Qty,0,0);
  ArrayField(Amount,M4Qty,0,0);
  EndArray;
  MainKeyBegin(PayCode,0);
  KeySegment(PayCode);
  EndRecord;

  RecordBegin(StandProblemVc,-,"");
  RecordField(Code,M4Code,20,0);
  RecordField(ShortDesc,M4Str,100,0);
  RecordField(Comment1,M4Str,100,0);
  RecordField(Comment2,M4Str,100,0);
  RecordField(Comment3,M4Str,100,0);
  RecordField(Classification,M4List,200,0);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeyBegin(ShortDesc);
  KeySegment(ShortDesc);
  KeySegment(Code);
  SubsetKeyBegin2(Classification);
  AppendListFieldToKeyName(Classification);
  KeySegment(Code);
  KeySegment(ShortDesc);
  SubsetKeyBegin2(ClassificationShort);
  AppendListFieldToKeyName(Classification);
  KeySegment(ShortDesc);
  KeySegment(Code);
  EndRecord;

  RecordBegin(SVOSerVc,-,"SVOSerVc2");
  ImpExpLevel(1); // Change of design...
  RecordField(SerialNr,M4Str,60,0);
  RecordField(ItemCode,M4Code,20,INVc);
  RecordField(ItemName,M4Str,60,0);
  RecordField(CustCode,M4Code,20,CUVc);
  RecordField(CustName,M4Str,60,0);
  RecordField(xInStock,M4UVal,0,0); // Not used anymore
  RecordField(SalesPrice,M423Val,0,0);
  RecordField(CostPrice,M423Val,0,0);
  RecordField(SoldDate,M4Date,0,0);
  RecordField(WarrantyUntil,M4Date,0,0); //coverageEndDate //daysRemaining??
  RecordField(MotherNr,M4Str,30,0);
  RecordField(VECode,M4Code,20,VEVc);
  RecordField(Contract,M4Long,0,0);
  RecordField(ChildCONr,M4Long,0,0);
  RecordField(Math,M4Matrix,0,0);
  RecordField(WarrantyStatus,M4Str,35,0);
  RecordField(CoverageStartDate,M4Date,0,0);
  RecordField(EstimatedPurchaseDate,M4Date,0,0);
  RecordField(GlobalWarranty,M4Mark,0,0);
  RecordField(OnsiteStartDate,M4Date,0,0);
  RecordField(OnsiteEndDate,M4Date,0,0);
  RecordField(PurchaseCountry,M4Str,40,0);
  RecordField(RegistrationDate,M4Date,0,0);
  RecordField(ImageURL,M4Str,255,0);
  RecordField(ExplodedViewURL,M4Str,255,0);
  RecordField(ManualURL,M4Str,255,0);
  RecordField(ProductDescription,M4Str,40,0);
  RecordField(ConfigDescription,M4Str,100,0);
  RecordField(SLAGroupDesc,M4Str,15,0);
  RecordField(PowerTrainFlag,M4Mark,0,0);
  RecordField(TriCareFlag,M4Mark,0,0);
  RecordField(EcorathFlag,M4Mark,0,0);
  RecordField(ContractCoverageEndDate,M4Date,0,0);
  RecordField(ContractCoverageStartDate,M4Date,0,0);
  RecordField(ContractType,M4Str,60,0);
  RecordField(LaborCovered,M4Mark,0,0);
  RecordField(LimitedWarranty,M4Mark,0,0);
  RecordField(PartCovered,M4Mark,0,0);
  RecordField(CSCode,M4Str,20,0);
  RecordField(CSType,M4Str,3,0);
  RecordField(Personalized,M4Mark,0,0);
  RecordField(LastGSXQuery,M4Date,0,0);
  RecordField(WarrantyRefNo,M4Str,15,0);
  RecordField(CoverageEndDate,M4Date,0,0);
  RecordField(APPAgreementNumber,M4Str,60,0);
  RecordField(APPTotalFromOrder,M4Str,60,0);
  RecordField(APPCoverageDurationStatement,M4Str,200,0);
  RecordField(SecondarySerialNr,M4Str,60,0);
  RecordField(AlternateDeviceID,M4Str,30,0);
  ArrayBegin(Math,-,1);
  ArrayField(PartNumber,M4Str,18,0);
  ArrayField(PartWarranty,M4Str,3,0);
  ArrayField(CoverageRefNo,M4Str,100,0);
  ArrayField(PartError,M4Str,100,0);
  ArrayField(StockPrice,M4Val,0,0);
  ArrayField(ExchangePrice,M4Val,0,0);
  ArrayField(EEECode,M4Str,200,0);
  ArrayField(IsSerialized,M4UStr,5,0);
  ArrayField(LaborTier,M4Str,100,0);
  ArrayField(PartDescription,M4Str,200,0);
  ArrayField(PartType,M4Str,50,0);
  ArrayField(ComponentCode,M4Str,50,0);
  ArrayField(OriginalPartNumber,M4Str,18,0);
  EndArray;
  MainKeyBegin(MainKey,0);
  KeySegment(SerialNr);
  KeySegment(ItemCode);
  KeyBegin(ItemCode);
  KeySegment(ItemCode);
  KeySegment(SerialNr);
  KeyBegin(ItemName);
  KeySegment(ItemName);
  KeySegment(SerialNr);
  KeySegment(ItemCode);
  KeyBegin(CustCode);
  KeySegment(CustCode);
  KeySegment(ItemCode);
  KeySegment(SerialNr);
  KeyBegin(CustName);
  KeySegment(CustName);
  KeySegment(ItemCode);
  KeySegment(SerialNr);
  KeyBegin(MotherNr);
  KeySegment(MotherNr);
  KeySegment(SerialNr);
  KeySegment(ItemCode);
  KeyBegin(VECode);
  KeySegment(VECode);
  KeySegment(SerialNr);
  KeySegment(ItemCode);
  EndRecord;
  
  RecordBegin(SVOSerHistVc,-,"");
  ImpExpLevel(0);
  RecordField(ItemCode,M4Code,20,INVc);
  RecordField(SerialNr,M4Str,60,0);
  RecordField(FileName,M4Str,20,0);
  RecordField(TransNr,M4Long,0,0);
  RecordField(Date,M4Date,0,0);
  RecordField(CustCode,M4Code,20,CUVc);
  RecordField(VECode,M4Code,20,VEVc);
  MainKeyBegin(MainKey,0);
  KeySegment(ItemCode);
  KeySegment(Date);
  KeySegment(FileName);
  KeySegment(TransNr);
  KeyBegin(CustCode);
  KeySegment(CustCode);
  KeySegment(ItemCode);
  KeySegment(Date);
  KeySegment(FileName);
  KeySegment(TransNr);
  KeyBegin(VECode);
  KeySegment(VECode);
  KeySegment(ItemCode);
  KeySegment(Date);
  KeySegment(FileName);
  KeySegment(TransNr);
  EndRecord;

  RecordBegin(SVOTextVc,-,"");
  RecordField(ArtCode,M4Code,20,INVc);
  RecordField(SerialNr,M4Str,60,0);
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(Spec,M4Str,100,0);
  EndArray;
  MainKeyBegin(SerialNr,0);
  KeySegment(SerialNr);
  KeySegment(ArtCode);
  KeyBegin(ArtCode);
  KeySegment(ArtCode);
  KeySegment(SerialNr);
  EndRecord;

  RecordBegin(SVGMVc,-,"");
  RecordField(SerNr,M4Long,0,0);
  SerialNoBlock(SVGMSerBlock);  
  RecordField(TransDate,M4Date,0,0);
  FieldIsTransDate(TransDate);
  RecordField(EMCode,M4Code,10,UserVc); // was 20
  RecordField(EMName,M4Str,60,0);
  RecordField(CustCode,M4Code,20,CUVc);
  RecordField(Addr0,M4Str,60,0);
  RecordField(CustContact,M4Str,60,0);
  RecordField(SVONr,M4Long,0,0);
  RecordField(OKFlag,M4Mark,0,0);
  RecordField(SumCostVal,M45Val,0,0);
  RecordField(SumSalesVal,M45Val,0,0);
  RecordField(SumQuant,M4Qty,0,0); /* not used */
  RecordField(Comment1,M4Str,100,0);
  RecordField(Comment2,M4Str,100,0);
  RecordField(Comment3,M4Str,100,0);
  RecordField(Comment4,M4Str,100,0);
  RecordField(CurncyCode,M4Code,5,CurncyCodeVc);
  RecordField(FrRate,M4Rate,0,0); 
  RecordField(ToRateB1,M4Rate,0,0);
  RecordField(ToRateB2,M4Rate,0,0); 
  RecordField(BaseRate1,M4Rate,0,0); 
  RecordField(BaseRate2,M4Rate,0,0); 
  RecordField(Math,M4Matrix,0,0);
  RecordField(LangCode,M4Code,5,0);
  ArrayBegin(Math,-,1);
  ArrayField(ArtCode,M4Code,20,INVc);
  ArrayField(InQuant,M4UVal,0,0);
  ArrayField(OutQuant,M4UVal,0,0);
  ArrayField(VARList,M4UStr,30,0);
  ArrayField(Spec,M4Str,100,0);
  ArrayField(CostPrice,M45Val,0,0);
  ArrayField(SalesPrice,M45Val,0,0);
  ArrayField(SerialNr,M4Str,60,0);
  ArrayField(PlanShiprw,M4Str,10,0);
  ArrayField(SoldDate,M4Date,0,0);
  ArrayField(WarrantyUntil,M4Date,0,0);
  ArrayField(Location,M4Code,10,LocationVc);
  ArrayField(MotherNr,M4Str,30,0);
  ArrayField(VECode,M4Code,20,VEVc);
  ArrayField(Contact,M4Str,60,0);
  EndArray;
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeyBegin(OKFlag);
  KeySegment(OKFlag);
  KeySegment(SerNr);
  KeyBegin(TransDate);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(SVONr);
  KeySegment(SVONr);
  KeySegment(SerNr);
  KeyBegin(CustCode);
  KeySegment(CustCode);
  KeySegment(SerNr);
  EndRecord;

  RecordBegin(RetVc,-,"");
  RecordField(SerNr,M4Long,0,0);
  SerialNoBlock(RetSerBlock);
  RecordField(RegDate,M4Date,0,0);
  RecordField(TransDate,M4Date,0,0);
  FieldIsTransDate(TransDate);
  RecordField(Comment,M4Str,60,0);
  RecordField(Math,M4Matrix,0,0);
  RecordField(CustCode,M4Code,20,CUVc);
  RecordField(CustName,M4Str,60,0);
  RecordField(OrdNr,M4Long,0,0);
  RecordField(Location,M4Code,10,LocationVc);
  FieldIsLocation(Location);
  RecordField(OKFlag,M4Mark,0,0);
  RecordField(CurncyCode,M4Code,5,CurncyCodeVc);
  RecordField(ToRateB1,M4Rate,0,0);
  RecordField(InclVAT,M4Int,0,0);
  RecordField(SumQuant,M4Qty,0,0);
  RecordField(ExtraCost,M4Val,0,0);
  RecordField(FrRate,M4Rate,0,0); 
  RecordField(ToRateB2,M4Rate,0,0); 
  RecordField(BaseRate1,M4Rate,0,0); 
  RecordField(BaseRate2,M4Rate,0,0); 
  RecordField(UpdStockFlag,M4Int,0,0);
  RecordField(Type,M4Int,0,0);
  RecordField(LocOKNr,M4Qty,0,0);
  RecordField(Objects,M4UStr,60,ObjVc);
  RecordField(Sum4,M4Val,0,0);
  RecordField(SHNr,M4Long,0,0);
  RecordField(Reason,M4Code,20,0);
  RecordField(Invalid,M4Int,0,0);
  FieldIsInvalid(Invalid);
  RecordField(InvalidDate,M4Date,0,0);
  RecordField(InvoiceNr,M4Long,0,0);
  RecordField(TerminalID,M4Str,60,0);
  RecordField(BranchID,M4Code,20,CUVc);
  RecordField(OfficialSerNr,M4Str,100,0);
  RecordField(Hash,M4Str,255,0);
  RecordField(HashKeyVersion,M4Int,0,0);
  RecordField(RegTime,M4Time,0,0);
  RecordField(LocalMachineCode,M4Code,20,0);
  RecordField(WSNr,M4Long,0,0);
  RecordField(SVONr,M4Long,0,0);
  RecordField(Closed,M4Mark,0,0);
  RecordField(EMCode,M4Code,10,UserVc);
  RecordField(LangCode,M4Code,5,0);
  RecordField(Sign,M4Code,10,UserVc);
  FieldIsUser(Sign);
  RecordField(OKBy,M4Code,10,UserVc);
  RecordField(Status,M4Set,361,0);
  RecordField(OfficialSerNrSerie,M4Str,30,0);
  RecordField(OfficialSerNr2,M4Str,100,0);
  RecordField(OfficialSerNr2Serie,M4Str,30,0);
  RecordField(SalesGroup,M4Code,5,SalesGroupVc);
  FieldIsGroup(SalesGroup);
  ArrayBegin(Math,-,1);
  ArrayField(ArtCode,M4Code,20,INVc);
  ArrayField(Quant,M4UVal,0,0);
  ArrayField(Spec,M4Str,100,0);
  ArrayField(UPrice,M45Val,0,0);
  ArrayField(SerialNr,M4Str,60,0);
  ArrayField(OrdRow,M4Long,0,0);
  ArrayField(Extra,M4PrcStr,20,0);
  ArrayField(CostPrice,M45Val,0,0);
  ArrayField(VARList,M4UStr,30,0);
  ArrayField(BestBefore,M4Date,0,0);
  ArrayField(Recepy,M4Code,20,RecVc);
  ArrayField(Objects,M4UStr,60,ObjVc);
  ArrayField(BatchStatus,M4Code,5,BatchStatusVc);
  ArrayField(UnitXval,M4UVal,0,0);
  ArrayField(UnitYval,M4UVal,0,0);
  ArrayField(UnitZval,M4UVal,0,0);
  ArrayField(BasePrice,M423Val,0,0);
  ArrayField(PosCode,M4Code,20,0);//??, do we want to do it?
  ArrayField(Coefficient,M45Val,0,0);
  ArrayField(SHRow,M4Long,0,0);
  ArrayField(Location,M4Code,10,LocationVc);
  ArrayField(BBCostPrice,M423Val,0,0);
  ArrayField(CostAcc,M4Code,10,AccVc);
  ArrayField(Invd,M4UVal,0,0);
  ArrayField(WSRow,M4Long,0,0);
  ArrayField(SVORow,M4Long,0,0);
  ArrayField(WSNr,M4Long,0,0);
  ArrayField(WSIVType,M4Set,31,0);
  ArrayField(MotherNr,M4Str,30,0);
  EndArray;
  MainKeyBegin(SerNr,1);
  StoreInBaseKey;
  AppendListFieldToKeyName(Sign);
  AppendListFieldToKeyName(SalesGroup);
  KeySegment(SerNr);
  SubsetKeyBegin2(OKFlag);
  StoreInBaseKey;
  AppendListFieldToKeyName(Sign);
  AppendListFieldToKeyName(SalesGroup);
  KeySegment(OKFlag);
  KeySegment(SerNr);
  SubsetKeyBegin2(TransDate);
  StoreInBaseKey;
  AppendListFieldToKeyName(Sign);
  AppendListFieldToKeyName(SalesGroup);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(OrdNr);
  KeySegment(OrdNr);
  KeySegment(SerNr);
  SubsetKeyBegin2(CustCode);
  StoreInBaseKey;
  AppendListFieldToKeyName(Sign);
  AppendListFieldToKeyName(SalesGroup);
  KeySegment(CustCode);
  KeySegment(SerNr);
  SubsetKeyBegin2(Comment);
  StoreInBaseKey;
  AppendListFieldToKeyName(Sign);
  AppendListFieldToKeyName(SalesGroup);
  KeySegment(Comment);
  KeySegment(SerNr);
  KeyBegin(LocOK);
  KeySegment(Location);
  KeySegment(OKFlag);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(SHNr);
  KeySegment(SHNr);
  KeySegment(SerNr);
  KeyBegin(OKFlagTransDate);
  KeySegment(OKFlag);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(CustCodeTransDate);
  KeySegment(CustCode);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(InvoiceNr);
  KeySegment(InvoiceNr);
  KeySegment(SerNr);
  SubsetKeyBegin2(OfficialSerNr);
  StoreInBaseKey;
  AppendListFieldToKeyName(Sign);
  AppendListFieldToKeyName(SalesGroup);
  KeySegment(OfficialSerNr);
  KeySegment(SerNr);
  KeyBegin(RegDate);
  KeySegment(RegDate);
  KeySegment(RegTime);
  KeySegment(SerNr);
  KeyBegin(WSNr);
  KeySegment(WSNr);
  KeySegment(SerNr);
  KeyBegin(SVONr);
  KeySegment(SVONr);
  KeySegment(SerNr);
  KeyBegin(Closed);
  KeySegment(Closed);
  KeySegment(SerNr);
  KeyBegin(OpenOfficialSerNr2);
  KeySegment(OfficialSerNr2);
  KeySegment(SerNr);
  EndRecord;
  
  RecordBegin(ArchiveVc,-,"");
  RegisterForAllCompanies(false);
  RecordField(SerNr,M4Long,0,0);
  RecordField(FolderName,M4Str,60,0);
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  EndRecord;
  
  RecordBegin(ConfVc,ConfView,"ConfVc5");
  //RecordBegin(ConfVc,ConfView,"ConfVc4");
  RegisterForAllCompanies(false);
  NewAutosyncRegister(kSyncDirectionToClient,true);
  RecordField(SerNr,M4Long,0,0);
  RecordField(AddrName,M4Str,30,0);
  RecordField(AddrCode,M4Code,20,0);//UserVc, used to be 10, 20 cause of some internal servers where we abused length
  RecordField(MotherConf,M4Long,0,0);
  RecordField(Class,M4Set,35,0);
  RecordField(MaxMail,M4Long,0,0);
  RecordField(MaxReadDays,M4Long,0,0);
  RecordField(MaxUnreadDays,M4Long,0,0);
  RecordField(Math,M4Matrix,0,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(HtmForm,M4Str,20,0);
  RecordField(Closed,M4Int,0,0);
  RecordField(UserType,M4Int,0,0);
  RecordField(Identifier,M4Str,200,0);
  RecordField(Sortorder,M4Str,20,0);
  RecordField(Version,M4Long,0,0);
  RecordField(ExtEmailAddrs,M4Str,255,0);
  RecordField(MaxUpdateDays,M4Long,0,0);
  RecordField(DefaultHtmlFlag,M4Int,0,0);
  RecordField(DefaultTemplate,M4Code,20,HtmlTemplateVc);
  RecordField(ForceHtmlFlag,M4Int,0,0);
  RecordField(ForceDefaultTemplate,M4Int,0,0);
  RecordField(RequireTemplate,M4Int,0,0);
  RecordField(ReplyFromConference,M4Int,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(Group,M4Code,5,0);
  EndArray;
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeyBegin(AddrName);
  KeySegment(AddrName);
  KeySegment(SerNr);
  KeyBegin(AddrCode);
  KeySegment(AddrCode);
  KeySegment(SerNr);
  SubsetKeyBegin2(SubConfAddrName);
  AppendFieldToKeyName(MotherConf);
  KeySegment(AddrName);
  KeySegment(SerNr);
  SubsetKeyBegin2(SubConfSortorder);
  AppendFieldToKeyName(MotherConf);
  KeySegment(Sortorder);
  KeySegment(AddrName);
  KeySegment(SerNr);
  KeyBegin(ActAddrName);
  KeySegment(AddrName);
  KeySegment(SerNr);
  KeySegment(Closed);
  KeyBegin(UserType);
  KeySegment(UserType);
  KeySegment(SerNr);
  KeyBegin(Identifier);
  KeySegment(Identifier);
  KeySegment(Version);
  KeySegment(SerNr);
  SubsetKeyBegin2(Group);
  StoreInBaseKey;
  AppendMatrixFieldToKeyName(Group,0);
  KeySegment(Class);
  KeySegment(SerNr);
  SubsetKeyBegin2(ExtEmailAddrs);
  AppendListFieldToKeyName(ExtEmailAddrs);
  KeySegment(SerNr);
  EndRecord;
  
  BlockBegin(MailSettingsBlock,MailSettingsType,"");
  RecordField(MBoxMaxMail,M4Long,0,0);
  RecordField(MBoxMaxReadDays,M4Long,0,0);
  RecordField(MBoxMaxUnreadDays,M4Long,0,0);
  RecordField(ArcMaxMail,M4Long,0,0);
  RecordField(ArcMaxDays,M4Long,0,0);
  RecordField(ConMaxMail,M4Long,0,0);
  RecordField(ConMaxDays,M4Long,0,0);
  RecordField(NewMaxMail,M4Long,0,0);
  RecordField(NewMaxDays,M4Long,0,0);
  RecordField(BilMaxMail,M4Long,0,0);
  RecordField(BilMaxDays,M4Long,0,0);
  RecordField(Admin,M4Str,60,0);
  RecordField(Postmaster,M4Str,60,0);
  RecordField(QueMaxSentMail,M4Long,0,0);
  RecordField(QueMaxSentDays,M4Long,0,0);
  RecordField(LockReceivedEmail,M4Int,0,0);
  RecordField(LockSentEmail,M4Int,0,0);
  RecordField(ExclEmail,M4Int,0,0);
  RecordField(FromSystem,M4Str,60,0);
  RecordField(UseExternalMail,M4Int,0,0);
  RecordField(UseHTMLMail,M4Int,0,0);
  RecordField(RequireExtEmail,M4Int,0,0);
  EndBlock;

  RecordBegin(ConfAccVc,-,"ConfAccVc2");
  RegisterForAllCompanies(false);
  NewAutosyncRegister(kSyncDirectionToClient,true);
  RecordField(Code,M4Code,5,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(AccLevel,M4Set,1,0);
  MainKeyBegin(MainKey,0);
  KeySegment(Code);
  KeyBegin(Comment);
  KeySegment(Comment);
  KeySegment(Code);
  EndRecord;

  RecordBegin(ConfPresVc,-,"");
  RegisterForAllCompanies(false);
  RecordField(SerNr,M4Long,0,0);
  RecordField(Math,M4TextField,0,0);
  RecordField(Pich,M4Pict,0,0);
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  EndRecord;
  
  RecordBegin(SMSVc,SMSView,"");
  RegisterForAllCompanies(false);
  DefineSMSVc;
  EndRecord;
  
  RecordBegin(SMSLocVc,-,"");
  RegisterForAllCompanies(true);
  DefineSMSVc;
  EndRecord;

  RecordBegin(ChatNameCustomerVc,-,"");
  RegisterForAllCompanies(true);
  RecordField(ChatParty,M4Str,60,0);
  RecordField(CustCode,M4Code,20,CUVc);
  RecordField(CompanyNr,M4Int,0,0);
  RecordField(Sign,M4Code,10,UserVc);
  MainKeyBegin(ChatParty,0);
  KeySegment(ChatParty);
  EndRecord;

  RecordBegin(ChatFilterVc,-,"");
  RegisterForAllCompanies(false);
  RecordField(Sign,M4Code,10,UserVc);
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(ChatParty,M4Str,60,0);
  ArrayField(PrivacyLevel,M4Set,577,0);
  ArrayField(CustCode,M4Code,20,CUVc);
  ArrayField(CompanyNr,M4Int,0,0);
  ArrayField(ChatPartyDisplayName,M4Str,60,0);
  EndArray;
  MainKeyBegin(Sign,0);
  KeySegment(Sign);
  SubsetKeyBegin2(CustCode);
  StoreInBaseKey;
  AppendMatrixFieldToKeyName(CustCode,0);
  KeySegment(Sign);
  EndRecord;
  
  RecordBegin(MailVc,MailView,"mail3"); //Note: Don't change tag in master. presence server depends on format of this record
  //RecordBegin(MailVc,MailView,"mail2");
  RegisterForAllCompanies(false);
  NewAutosyncRegister(kSyncDirectionFull,true);
  RecordField(SerNr,M4Long,0,0);
  SerialNoBlock(MailSerBlock);
  RecordField(Header,M4Str,200,0);
  RecordField(TransDate,M4Date,0,0);
  RecordField(TransTime,M4Time,0,0);
  RecordField(LockedFlag,M4Int,0,0);
  RecordField(SendFlag,M4Mark,0,0);
  RecordField(HasFileAtt,M4Int,0,0);
  RecordField(HasRecAtt,M4Int,0,0);
  RecordField(Math2,M4Matrix,0,0);
  RecordField(Math,M4TextField,0,0);
  RecordField(Priority,M4Int,0,0);
  RecordField(Lifespan,M4Set,44,0);
  RecordField(MessageID,M4Str,200,0);
  RecordField(Identifier,M4Str,200,0);
  RecordField(LangCode,M4Code,5,0);
  RecordField(Sortorder,M4Str,20,0);
  RecordField(Version,M4Long,0,0);
  RecordField(HtmlTranslation,M4Int,0,0);
  RecordField(HtmlTemplate,M4Code,20,HtmlTemplateVc);
  RecordField(HtmlFlag,M4Int,0,0);
  RecordField(SendDate,M4Date,0,0);
  RecordField(SendTime,M4Time,0,0);
  RecordField(Tags,M4TokenList,255,0);
  RecordField(HtmlRev,M4Long,0,0);
  RecordField(RequireAcceptance,M4Int,0,0);
  RecordField(IsComment,M4Mark,0,0);
  ArrayBegin(Math2,MailAddrRowType,1);
  ArrayField(RowTyp,M4Set,34,0);
  ArrayField(AddrCode,M4Str,60,0);
  ArrayField(AddrStatus,M4Int,0,0);
  ArrayField(AddrFolder,M4Str,60,0);
  ArrayField(Mailbox,M4Long,0,0);
  EndArray;
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  SubsetKeyBegin2(UserSer);
  AppendMatrixFieldToKeyName(Mailbox,AddrStatus);
  AppendTagsToKeyName(Tags);
  KeySegment(SerNr);
  SubsetKeyBegin2(UserTime);
  AppendMatrixFieldToKeyName(Mailbox,AddrStatus);
  AppendTagsToKeyName(Tags);
  KeySegment(TransDate);
  KeySegment(TransTime);
  KeySegment(SerNr);
  SubsetKeyBegin2(UserSubject);
  AppendMatrixFieldToKeyName(Mailbox,AddrStatus);
  AppendTagsToKeyName(Tags);
  KeySegment(Header);
  KeySegment(SerNr);
/*
  SubsetKeyBegin2(UserStat);
  AppendMatrixFieldToKeyName(Mailbox,AddrStatus);
  AppendTagsToKeyName(Tags);
  KeySegment(1);
  KeySegment(SerNr);
*/
  
  SubsetKeyBegin2(UserAddr);
  AppendMatrixFieldToKeyName(Mailbox,AddrStatus);
  AppendTagsToKeyName(Tags);
  KeySegment(2);
  KeySegment(SerNr);
  
  SubsetKeyBegin2(UserPrio);
  AppendMatrixFieldToKeyName(Mailbox,AddrStatus);
  AppendTagsToKeyName(Tags);
  KeySegment(SerNr);
  SubsetKeyBegin2(UserSortorder);
  AppendMatrixFieldToKeyName(Mailbox,AddrStatus);
  AppendTagsToKeyName(Tags);
  KeySegment(Sortorder);
//  KeySegment(Header);
  KeySegment(SerNr);
  KeyBegin(Identifier);
  KeySegment(Identifier);
  KeySegment(Version);
  KeySegment(SerNr);
  KeyBegin(MessageID);
  KeySegment(MessageID);
  KeySegment(SerNr);
  EndRecord;

  RecordBegin(LocalMailVc,LocalMailView,"locmail");
  RegisterForAllCompanies(true);
  RecordField(SerNr,M4Long,0,0);
  RecordField(Header,M4Str,200,0);
  RecordField(TransDate,M4Date,0,0);
  RecordField(TransTime,M4Time,0,0);
  RecordField(LockedFlag,M4Int,0,0);
  RecordField(SendFlag,M4Mark,0,0);
  RecordField(HasFileAtt,M4Int,0,0);
  RecordField(HasRecAtt,M4Int,0,0);
  RecordField(Math2,M4Matrix,0,0);
  RecordField(Math,M4TextField,0,0);
  RecordField(Priority,M4Int,0,0);
  RecordField(Lifespan,M4Set,44,0);
  RecordField(seqnr,M4Long,0,0);
  RecordField(readflag,M4Int,0,0);
  RecordField(copyf,M4Int,0,0);
  RecordField(MessageID,M4Str,200,0);
  ArrayBegin(Math2,LocalMailAddrRowType,1);
  ArrayField(RowTyp,M4Set,34,0);
  ArrayField(AddrCode,M4Str,60,0);
  EndArray;
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeySegment(copyf);
  KeyBegin(UserSerNr);
  KeySegment(SerNr);
  KeySegment(copyf);
  KeyBegin(UserTime);
  KeySegment(TransDate);
  KeySegment(TransTime);
  KeySegment(SerNr);
  KeySegment(copyf);
  KeyBegin(UserSubject);
  KeySegment(Header);
  KeySegment(SerNr);
  KeySegment(copyf);
  KeyBegin(Copy);
  KeySegment(SerNr);
  KeySegment(copyf);
  EndRecord;  

  RecordBegin(NotepadVc,-,""); //Note: Don't change tag in master. presence server depends on format of this record
  RegisterForAllCompanies(false);
  RecordField(SerNr,M4Long,0,0);
  RecordField(LangCode,M4Code,5,0);
  RecordField(Classification,M4Code,10,0);
  RecordField(FromRecidStr,M4RLink,200,0);
  RecordField(CompanyNr,M4Int,0,0);
  RecordField(Math,M4TextField,0,0);
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeyBegin(LangCode);
  KeySegment(LangCode);
  KeySegment(SerNr);
  EndRecord;  

  RecordBegin(EMailQueVc,EMailQueView,"");
  RegisterForAllCompanies(false);
  RecordField(SerNr,M4Long,0,0);
  RecordField(QueDate,M4Date,0,0);
  RecordField(QueTime,M4Time,0,0);
  RecordField(EMailSent,M4Int,0,0);
  RecordField(Header,M4Str,200,0);
  RecordField(TransDate,M4Date,0,0);
  RecordField(TransTime,M4Time,0,0);
  RecordField(HasFileAtt,M4Int,0,0);
  RecordField(HasRecAtt,M4Int,0,0);
  RecordField(Math2,M4Matrix,0,0);
  RecordField(Math,M4TextField,0,0);
  RecordField(Priority,M4Int,0,0);
  RecordField(Lifespan,M4Set,44,0);
  RecordField(OrgSerNr,M4Long,0,0);
  RecordField(MessageID,M4Str,200,0);
  RecordField(Direction,M4Int,0,0); // 0 = Sending, 1 = Received // Ok, i can't see this field used anywhere...
  RecordField(FileName,M4Str,20,0); // Blank is Mail...
  RecordField(HtmlFlag,M4Int,0,0);
  RecordField(HtmlTemplate,M4Code,20,HtmlTemplateVc);
  RecordField(RetryCount,M4Int,0,0);
  RecordField(RetryDate,M4Date,0,0);
  RecordField(RetryTime,M4Time,0,0);
  RecordField(SendDate,M4Date,0,0);
  RecordField(SendTime,M4Time,0,0);
  ArrayBegin(Math2,-,1); // Must be the same as MailVc row.
  ArrayField(RowTyp,M4Set,34,0);
  ArrayField(AddrCode,M4Str,60,0);
  ArrayField(AddrStatus,M4Int,0,0);
  ArrayField(AddrFolder,M4Str,60,0);
  ArrayField(Mailbox,M4Long,0,0);
  EndArray;
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeySegment(QueDate);
  KeySegment(QueTime);
  KeySegment(Direction);
  KeyBegin(Sending);
  KeySegment(EMailSent);
  KeySegment(Priority);
  KeySegment(QueDate);
  KeySegment(QueTime);
  KeySegment(Direction);
  KeySegment(SerNr);
  KeyBegin(OrgSerNr);
  KeySegment(FileName);
  KeySegment(OrgSerNr);
  KeySegment(QueDate);
  KeySegment(QueTime);
  KeySegment(Direction);
  KeySegment(SerNr);
  EndRecord;  

  BlockBegin(GatewayBlock,GatewayType,"");
  BlockForAllCompanies;
  RecordField(EnabOTCP,M4Int,0,0);
  RecordField(OTCPPort,M4Long,0,0);
  RecordField(EnabHTTP,M4Int,0,0);
  RecordField(HTTPPort,M4Long,0,0);
  RecordField(EnabPOP3,M4Int,0,0);
  RecordField(Pop3Seconds,M4Long,0,0);
  RecordField(EnabAutIn,M4Int,0,0);
  RecordField(INSeconds,M4Long,0,0);
  RecordField(Username,M4Str,100,0);
  RecordField(Password,M4Str,100,0);
  RecordField(TapiTSP,M4Str,100,0);
//  RecordField(INFromFolder,M4Str,100,0);
//  RecordField(INToFolder,M4Str,100,0);
  EndBlock;

  BlockBegin(DBLogBlock,DBLogType,"");
  BlockForAllCompanies;
  RecordField(DBEvents,M4Int,0,0);
  RecordField(DBIdentity,M4Code,5,0);
  EndBlock;

  RecordBegin(DBLogVc,-,"");
  RegisterForAllCompanies(true);
  RecordField(EventType,M4Long,0,0);
  RecordField(EventDate,M4Date,0,0);
  RecordField(EventTime,M4Time,0,0);
  RecordField(DBSize,M4Long,0,0);
  RecordField(FreeDiskSpace,M4Long,0,0);
  RecordField(ExtraSize,M4Long,0,0);
  RecordField(ExtraInfo,M4Str,60,0);
  MainKeyBegin(MainKey,0);
  KeySegment(EventType);
  KeySegment(EventDate);
  KeySegment(EventTime);
  KeyBegin(EventDate);
  KeySegment(EventDate);
  KeySegment(EventTime);
  KeySegment(EventType);
  EndRecord;
  
  RecordBegin(Pop3ServVc,Pop3ServView,"");
  RegisterForAllCompanies(false);
  RecordField(Code,M4Code,20,0);
  RecordField(IPaddr,M4Str,60,0);
  RecordField(Portnr,M4Long,0,0);
  RecordField(User,M4Str,60,0);
  RecordField(Passw,M4Str,60,0);
  RecordField(Closedf,M4Mark,0,0);
  RecordField(Apopf,M4Int,0,0);
  RecordField(ReturnToSend,M4Int,0,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(Type,M4Int,0,0);
  RecordField(Mailbox,M4Str,60,0);
  RecordField(UseSSLf,M4Int,0,0);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeyBegin(IPaddr);
  KeySegment(IPaddr);
  KeySegment(Code);
  KeyBegin(Closedf);
  KeySegment(Closedf);
  KeySegment(Code);
  KeyBegin(Comment);
  KeySegment(Comment);
  KeySegment(Code);
  EndRecord;

  RecordBegin(EmailAliasVc,-,"");
  RegisterForAllCompanies(true);
  RecordField(Pop3Serv,M4Code,20,0);
  RecordField(InternalName,M4Str,60,0);
  RecordField(Field,M4Str,60,0);
  RecordField(MatchText,M4Str,60,0);
  RecordField(Priority,M4Long,0,0);
  RecordField(SetPrio,M4Int,0,0);
  RecordField(FullHeader,M4Int,0,0);
  RecordField(KeepOriginalAddress,M4Int,0,0);
  MainKeyBegin(Pop3Serv,0);
  KeySegment(Pop3Serv);
  KeySegment(InternalName);
  KeySegment(MatchText);
  KeySegment(Priority);
  KeyBegin(Priority);
  KeySegment(Pop3Serv);
  KeySegment(Priority);
  KeySegment(InternalName);
  KeySegment(MatchText);
  KeyBegin(InternalName);
  KeySegment(InternalName);
  KeySegment(Pop3Serv);
  KeySegment(MatchText);
  KeySegment(Priority);
  KeyBegin(MatchText);
  KeySegment(MatchText);
  KeySegment(Pop3Serv);
  KeySegment(InternalName);
  KeySegment(Priority);
  EndRecord;
  
  RecordBegin(MailReadVc,MailReadView,"mailread3");
  //SimpleRecordBegin(MailReadVc,MailReadView,"mailread2");
  RegisterForAllCompanies(false);
  NewAutosyncRegister(kSyncDirectionFull,true);
  RecordField(mailSerNr,M4Long,0,0);
  RecordField(mailBoxNr,M4Long,0,0);
  RecordField(accode,M4Int,0,0);
  RecordField(fDate,M4Date,0,0);
  RecordField(fTime,M4Time,0,0);
  RecordField(Comment,M4Str,255,0);
  
// Can possibly be removed....  
  MainKeyBegin(MainKey,0);
  KeySegment(mailSerNr);
  KeySegment(fDate);
  KeySegment(fTime);
  KeySegment(mailBoxNr);
  KeySegment(accode);
  
  KeyBegin(userCode);
  KeySegment(mailSerNr);
  KeySegment(mailBoxNr);
  KeySegment(accode);
  KeySegment(fDate);
  KeySegment(fTime);
  
  KeyBegin(accode);
  KeySegment(mailSerNr);
  KeySegment(accode);
  KeySegment(fDate);
  KeySegment(fTime);
  KeySegment(mailBoxNr);

  KeyBegin(mailNrmailBoxNr);
  KeySegment(mailSerNr);
  KeySegment(mailBoxNr);
  KeySegment(fDate);
  KeySegment(fTime);
  KeySegment(accode);

  KeyBegin(mailBoxNr);
  KeySegment(mailBoxNr);
  KeySegment(accode);
  KeySegment(fDate);
  KeySegment(fTime);
  KeySegment(mailSerNr);

  EndRecord;
  
  SimpleRecordBegin(LocalMailReadVc,LocalMailReadView,"");
  RegisterForAllCompanies(true);
  RecordField(mailSerNr,M4Long,0,0);
  RecordField(mailBoxNr,M4Long,0,0);
  RecordField(accode,M4Int,0,0);
  RecordField(fDate,M4Date,0,0);
  RecordField(fTime,M4Time,0,0);
  MainKeyBegin(MainKey,0);
  KeySegment(mailSerNr);
  KeySegment(fDate);
  KeySegment(fTime);
  KeySegment(mailBoxNr);
  KeySegment(accode);

  KeyBegin(userCode);
  KeySegment(mailSerNr);
  KeySegment(mailBoxNr);
  KeySegment(accode);
  KeySegment(fDate);
  KeySegment(fTime);

  KeyBegin(accode);
  KeySegment(mailSerNr);
  KeySegment(accode);
  KeySegment(fDate);
  KeySegment(fTime);
  KeySegment(mailBoxNr);

  KeyBegin(mailBoxNr);
  KeySegment(mailBoxNr);
  KeySegment(accode);
  KeySegment(fDate);
  KeySegment(fTime);
  KeySegment(mailSerNr);
  EndRecord;
  
  RecordBegin(UserEventVc,-,"");
  RegisterForAllCompanies(false);
  RecordField(mailBoxNr,M4Long,0,0);
  RecordField(LastLoginDate,M4Date,0,0);
  RecordField(LastLoginTime,M4Time,0,0);
  RecordField(LastLogoutDate,M4Date,0,0);
  RecordField(LastLogoutTime,M4Time,0,0);
  RecordField(LastLoginWebDate,M4Date,0,0);
  RecordField(LastLoginWebTime,M4Time,0,0);
  RecordField(LastLogoutWebDate,M4Date,0,0);
  RecordField(LastLogoutWebTime,M4Time,0,0);
  RecordField(LastLogout2Date,M4Date,0,0);
  RecordField(LastLogout2Time,M4Time,0,0);
  RecordField(LastIP,M4Str,20,0);
  MainKeyBegin(MainKey,0);
  KeySegment(mailBoxNr);
  KeyBegin(LastLoginDate);
  KeySegment(LastLoginDate);
  KeySegment(mailBoxNr);
  EndRecord;
  
  BlockBegin(HalSourceBlock,-,"");
  ImpExpLevel(0);
  BlockForAllCompanies;
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,HalSourceRowType,1);
  ArrayField(FileName,M4Str,60,0);
  ArrayField(Makef,M4Int,0,0);
//  ArrayField(ModTime,M4Long,0,0);
  ArrayField(ModTime,M4DateTime,0,0);
  ArrayField(Errf,M4Int,0,0);
  ArrayField(SegmentNr,M4Long,0,0);
  EndArray;
  EndBlock;

/*
  RecordBegin(HalSymbolVc,HalSymbolView,"");
  ImpExpLevel(0);
//##  RegisterForAllCompanies;
  RecordField(hsFileName,M4Str,60,0);
//  RecordField(hsHobName,M4Str,60,0);
  RecordField(SymbolName,M4Str,60,0);
  RecordField(SegmentNr,M4Long,0,0);
  RecordField(Firstf,M4Int,0,0);
  RecordField(Windowf,M4Int,0,0);
  MainKeyBegin(MainKey,0);
  KeySegment(SymbolName);
//  KeySegment(hsFileName);
  KeyBegin(hsFileName);
  KeySegment(hsFileName);
  KeySegment(SymbolName);
//  KeyBegin(hsHobName);
//  KeySegment(hsHobName);
//  KeySegment(SymbolName);
//  KeySegment(hsFileName);
  EndRecord;
*/
  
  RecordBegin(WSIVVc,-,"");
  RecordField(SerNr,M4Long,0,0);
  RecordField(TransDate,M4Date,0,0);
  RecordField(Type,M4Int,0,0);  //Contract,Invoiceable,Warranty
  RecordField(Row,M4Int,0,0);
  RecordField(ArtCode,M4Code,20,INVc);
  RecordField(CUCode,M4Code,20,CUVc);
  RecordField(EMCode,M4Code,10,UserVc);
  RecordField(UsedQty,M4Qty,0,0);
  RecordField(Price,M4Val,0,0);
  RecordField(Discount,M4Qty,0,0);
  RecordField(Sum,M4Val,0,0);
  RecordField(InvQty,M4Qty,0,0);
  RecordField(InvNr,M4Long,0,0);
  RecordField(Markup,M4PrcStr,10,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(ItemType,M4Int,0,0);
  RecordField(GP,M4Val,0,0);
  RecordField(CostPrice,M4Val,0,0);
  RecordField(MotherNr,M4Str,30,0);
  RecordField(WONr,M4Long,0,0);
  RecordField(InvoiceTo,M4Str,20,0);
  RecordField(SVONr,M4Long,0,0);
  RecordField(SerialNr,M4Str,60,0);
  RecordField(Coefficient,M45Val,0,0);
  RecordField(ContractNr,M4Long,0,0);
  RecordField(CurncyCode,M4Code,5,CurncyCodeVc);
  RecordField(FrRate,M4Rate,0,0); 
  RecordField(ToRateB1,M4Rate,0,0);
  RecordField(ToRateB2,M4Rate,0,0); 
  RecordField(BaseRate1,M4Rate,0,0); 
  RecordField(BaseRate2,M4Rate,0,0); 
  RecordField(RecType,M4Int,0,0);
  RecordField(WSNr,M4Long,0,0);
  RecordField(RegTime,M4Time,0,0);
  MainKeyBegin(MainKey,0);
  KeySegment(CUCode);
  KeySegment(RecType); 
  KeySegment(SerNr);
  KeySegment(Row);
  KeySegment(ArtCode);
  KeySegment(EMCode); 
  KeyBegin(ArtCode);
  KeySegment(ArtCode);
  KeySegment(CUCode);
  KeySegment(Type);
  KeySegment(RecType); 
  KeySegment(SerNr);
  KeySegment(Row);
  KeySegment(EMCode); 
  KeyBegin(EMCode);
  KeySegment(EMCode);
  KeySegment(CUCode);
  KeySegment(Type);
  KeySegment(Row);
  KeySegment(SerNr);
  KeySegment(ArtCode);
  KeySegment(RecType); 
  KeyBegin(TransDate);
  KeySegment(TransDate);
  KeySegment(CUCode);
  KeySegment(Type);
  KeySegment(RecType); 
  KeySegment(SerNr);
  KeySegment(Row);
  KeySegment(ArtCode);
  KeySegment(EMCode); 
  KeyBegin(InvKey);
  KeySegment(InvNr);
  KeySegment(CUCode);
  KeySegment(Type);
  KeySegment(ArtCode);
  KeySegment(EMCode);
  KeySegment(RecType); 
  KeySegment(SerNr);
  KeySegment(Row);
  KeyBegin(SVONr);
  KeySegment(SVONr);
  KeySegment(TransDate);
  KeySegment(CUCode);
  KeySegment(InvoiceTo);
  KeySegment(EMCode);
  KeySegment(RecType); 
  KeySegment(SerNr);
  KeySegment(Row);
  KeySegment(ArtCode);
  KeyBegin(Type);
  KeySegment(Type);
  KeySegment(SVONr);
  KeySegment(SerNr);
  KeySegment(TransDate);
  KeySegment(CUCode);
  KeySegment(ArtCode);
  KeySegment(EMCode); 
  KeySegment(Row);
  KeySegment(RecType); 
  KeyBegin(RecType);
  KeySegment(RecType);
  KeySegment(CUCode);
  KeySegment(SerNr);
  KeySegment(Row);
  KeySegment(ArtCode);
  KeySegment(EMCode);   
  KeyBegin(MotherNr);
  KeySegment(MotherNr);
  KeySegment(ArtCode);
  KeySegment(RecType); 
  KeySegment(SerNr);
  KeySegment(Row);
  KeySegment(CUCode);
  KeySegment(EMCode); 
  EndRecord;

  BlockBegin(CheckTargetAccBlock,-,"");
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(AccNr,M4Code,10,AccVc);
  ArrayField(TargetTyp,M4Set,38,0);
  EndArray;
  EndBlock;

  BlockBegin(CuAccBlock,-,"");
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,-,1);
  ArrayField(ObjType,M4Code,5,OTVc);
  ArrayField(Comment,M4Str,60,0);
  ArrayField(InterestAcc,M4Code,10,AccVc);
  ArrayField(InstallmentAcc,M4Code,10,AccVc);
  ArrayField(TopayLoanAcc,M4Code,10,AccVc);
  ArrayField(TopayInterestAcc,M4Code,10,AccVc);
  ArrayField(TopayLoanDebAcc,M4Code,10,AccVc);
  ArrayField(TmpAcc,M4Code,10,AccVc);
  ArrayField(VATCode,M4Code,10,VATCodeBlock);
  ArrayField(CheckObj,M4Set,41,0);
  ArrayField(YearDays,M4Set,42,0);
  ArrayField(ARInstallmentAcc,M4Code,10,AccVc);
  ArrayField(ARInterestAcc,M4Code,10,AccVc);
  ArrayField(ToRoyalty,M4Code,10,AccVc);
  ArrayField(FromRoyalty,M4Code,10,AccVc);
  ArrayField(ToStock,M4Code,10,AccVc);
  ArrayField(Losses,M4Code,10,AccVc);
  EndArray;
  EndBlock;

  BlockBegin(MainCLBlock,-,"clsettings");
  RecordField(CommonNoSer,M4Int,0,0);
  RecordField(PostVAT,M4Int,0,0);
  RecordField(VATCode,M4Code,10,VATCodeBlock);
  RecordField(CashCollection,M4Int,0,0);
  RecordField(DefPM,M4Code,2,0);
  RecordField(DefCorspCode,M4Code,20,0);
  RecordField(PMControl,M4Int,0,0);
  RecordField(ChronologyforCLNo,M4Int,0,0);
  RecordField(CLOutTransBankPerRow,M4Int,0,0);
  EndBlock;

/* Haven't acutally started implementing this */
/*
  BlockBegin(FileLibBlock,-,"");
  BlockForAllCompanies;
  RecordField(Math,M4Matrix,0,0);
  ArrayBegin(Math,FileLibRowType,1);
  ArrayField(Code,M4Str,5,0);
  ArrayField(Description,M4Str,60,0);
  ArrayField(FileName,M4Str,60,0);
  EndArray;
  EndBlock;
*/
  
  RecordBegin(Attach2Vc,Attach2View,"attach3");
  RegisterForAllCompanies(false);
  NewAutosyncRegister(kSyncDirectionFull,true);
  RecordField(SerNr,M4Long,0,0);
  RecordField(FileName,M4Str,200,0);
  RecordField(PackTyp,M4Int,0,0);
  RecordField(Uploading,M4Int,0,0);
  RecordField(FileSize,M4Long,0,0);
  RecordField(Type,M4Int,0,0);
  RecordField(Storage,M4Set,343,0);
  RecordField(ContentId,M4Str,255,0);
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  EndRecord;
  
  RecordBegin(NavLinkVc,NavLinkView,"");
  RegisterForAllCompanies(false);
  RecordField(SerNr,M4Long,0,0);
  RecordField(WindowName,M4Str,200,0);
  RecordField(Comment,M4Str,200,0);
  RecordField(Description,M4Str,200,0);
  RecordField(LinkComm,M4Str,40,0);
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  EndRecord;
  
  RecordBegin(CheckVc,-,"");
  RecordField(SerNr,M4Long,0,0);
  SerialNoBlock(CheckSerBlock);
  RecordField(CheckNr,M4UStr,20,0);
  RecordField(BankCode,M4Code,10,0);
  RecordField(BankName,M4Str,60,0);
  RecordField(CUCode,M4Code,20,CUVc);
  RecordField(CUName,M4Str,60,0);
  RecordField(TransDate,M4Date,0,0);
  FieldIsTransDate(TransDate);
  RecordField(EmissionDate,M4Date,0,0);
  RecordField(EffectDate,M4Date,0,0);
  RecordField(ClearingDate,M4Date,0,0);
  RecordField(Openf,M4Int,0,0);
  RecordField(Amount,M4Val,0,0);
  RecordField(CurncyCode,M4Code,5,CurncyCodeVc);
  RecordField(Base1Amount,M4Val,0,0);
  RecordField(Base2Amount,M4Val,0,0);
  RecordField(ClearedAmount,M4Val,0,0);
  RecordField(BankFee,M4Val,0,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(OrigAccNr,M4Code,10,0);
  RecordField(OrigObjects,M4UStr,60,ObjVc);
  RecordField(TempAccNr,M4Code,10,AccVc);
  RecordField(TempObjects,M4UStr,60,ObjVc);
  RecordField(TargetAccNr,M4Code,10,AccVc);
  RecordField(TargetObjects,M4UStr,60,ObjVc);
  RecordField(Invalid,M4Int,0,0);
  FieldIsInvalid(Invalid);
  RecordField(ChkMode,M4Int,0,0);
  RecordField(ECDate,M4Date,0,0);
  RecordField(Desc,M4Str,20,0);
  RecordField(BankAcc,M4Str,60,0);
  RecordField(ExportedFlag,M4Int,0,0);
  RecordField(FromNo,M4Long,0,0);
  RecordField(ToNo,M4Long,0,0);
  RecordField(ToType,M4Int,0,0);
  RecordField(FromFileName,M4Str,20,0);
  RecordField(VATNr,M4Str,20,0);
  RecordField(Id,M4Str,20,0);
  RecordField(BouncedDate,M4Date,0,0);
  RecordField(CancelledDate,M4Date,0,0);
  RecordField(AcceptedDate,M4Date,0,0);
  RecordField(EndorsedDate,M4Date,0,0);
  RecordField(ToFileName,M4Str,20,0);
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeyBegin(CheckNr);
  KeySegment(CheckNr);
  KeySegment(SerNr);
  KeyBegin(RegSerNr);
  KeySegment(SerNr);
  KeyBegin(OpenSerNr);
  KeySegment(SerNr);
  KeyBegin(OpenEffectDate);
  KeySegment(EffectDate);
  KeySegment(SerNr);
  KeyBegin(DepSerNr);
  KeySegment(SerNr);
  KeyBegin(CUCode);
  KeySegment(CUCode);
  KeySegment(EffectDate);
  KeySegment(SerNr);
  KeyBegin(EffectDate);
  KeySegment(EffectDate);
  KeySegment(SerNr);
  KeyBegin(DepositedDate);
  KeySegment(ClearingDate);
  KeySegment(SerNr);
  KeyBegin(DepEffectDate);
  KeySegment(EffectDate);
  KeySegment(SerNr);
  KeyBegin(DepECDate);
  KeySegment(ECDate);
  KeySegment(SerNr);
  KeyBegin(OpenECDate);
  KeySegment(ECDate);
  KeySegment(SerNr);
  KeyBegin(OpenDepECDate);
  KeySegment(ECDate);
  KeySegment(SerNr);
  KeyBegin(TransDate);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(ExportedFlag);
  KeySegment(ExportedFlag);
  KeySegment(SerNr);
  KeyBegin(Openf);
  KeySegment(Openf);
  KeySegment(EffectDate);
  KeySegment(SerNr);  
  KeyBegin(OpenfCUCode);
  KeySegment(CUCode);
  KeySegment(SerNr);  
  KeySegment(Openf);
  KeyBegin(OpenfCheckNr);
  KeySegment(CheckNr);
  KeySegment(SerNr);  
  KeySegment(Openf);
  KeyBegin(CUName);
  KeySegment(CUName);
  KeySegment(SerNr);  
  KeyBegin(OpenfCUName);
  KeySegment(CUName);
  KeySegment(SerNr);  
  KeySegment(Openf);
  KeyBegin(DepCUName);
  KeySegment(CUName);
  KeySegment(SerNr);  
  KeySegment(Openf);
  KeyBegin(OpenfAmount);
  KeySegment(Amount);
  KeySegment(SerNr);  
  KeySegment(Openf);
  KeyBegin(RegCUCode);
  KeySegment(CUCode);
  KeySegment(SerNr);  
  KeySegment(Openf);
  KeyBegin(RegCheckNr);
  KeySegment(CheckNr);
  KeySegment(SerNr);  
  KeySegment(Openf);
  KeyBegin(Amount);
  KeySegment(Amount);
  KeySegment(SerNr);  
  KeyBegin(DepAmount);
  KeySegment(Amount);
  KeySegment(SerNr);  
  KeySegment(Openf);
  KeyBegin(DepCheckNr);
  KeySegment(CheckNr);
  KeySegment(SerNr);  
  KeySegment(Openf);
  KeyBegin(BankAcc);
  KeySegment(BankAcc);
  KeySegment(SerNr);
  KeyBegin(RegAmount);
  KeySegment(Amount);
  KeySegment(SerNr);  
  KeySegment(Openf);
  EndRecord;

  RecordBegin(OrdenChqVc,-,""); 
  RecordField(Code,M4Code,20,VEVc);
  RecordField(Comment,M4Str,60,0); 
  MainKeyBegin(Code,0);
  KeySegment(Code);
  EndRecord;    

  RecordBegin(OwnCheckVc,-,"");
  RecordField(SerNr,M4Long,0,0);
  SerialNoBlock(OwnCheckSerBlock);
  RecordField(CheckNr,M4UStr,20,0);
  RecordField(VECode,M4Code,20,VEVc);
  RecordField(VEName,M4Str,60,0);
  RecordField(TransDate,M4Date,0,0);
  FieldIsTransDate(TransDate);
  RecordField(EffectDate,M4Date,0,0);
  RecordField(ClearingDate,M4Date,0,0);
  RecordField(Openf,M4Int,0,0);
  RecordField(Amount,M4Val,0,0);
  RecordField(CurncyCode,M4Code,5,CurncyCodeVc);
  RecordField(Base1Amount,M4Val,0,0);
  RecordField(Base2Amount,M4Val,0,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(OrigAccNr,M4Code,10,0);
  RecordField(OrigObjects,M4UStr,60,ObjVc);
  RecordField(TempAccNr,M4Code,10,AccVc);
  RecordField(TempObjects,M4UStr,60,ObjVc);
  RecordField(TargetAccNr,M4Code,10,AccVc);
  RecordField(TargetObjects,M4UStr,60,ObjVc);
  RecordField(Invalid,M4Int,0,0);
  FieldIsInvalid(Invalid);
  RecordField(ChkMode,M4Int,0,0);
  RecordField(BankAcc,M4Str,60,0);
  RecordField(ExportedFlag,M4Int,0,0);
  RecordField(FromNo,M4Long,0,0);
  RecordField(ToNo,M4Long,0,0);
  RecordField(ToType,M4Int,0,0);// M4Dummy ? , ToFileName used instead 
  RecordField(FromFileName,M4Str,20,0);
  RecordField(BankCode,M4Code,10,0);
  RecordField(BankName,M4Str,60,0);
  RecordField(VATNr,M4Str,20,0);
  RecordField(LangCode,M4Code,5,0);
  RecordField(ToFileName,M4Str,20,0);
  RecordField(BouncedDate,M4Date,0,0);
  RecordField(CancelledDate,M4Date,0,0);
  RecordField(IssuedDate,M4Date,0,0);
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeyBegin(OpenSerNr);
  KeySegment(SerNr);
  KeyBegin(DepEffectDate);
  KeySegment(EffectDate);
  KeySegment(SerNr);
  KeyBegin(DepSerNr);
  KeySegment(SerNr);
  KeyBegin(CheckNr);
  KeySegment(CheckNr);
  KeySegment(SerNr);
  KeyBegin(VECode);
  KeySegment(VECode);
  KeySegment(EffectDate);
  KeySegment(SerNr);
  KeyBegin(EffectDate);
  KeySegment(EffectDate);
  KeySegment(SerNr);
  KeyBegin(TransDate);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(TargetAccNr);
  KeySegment(TargetAccNr);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(ExportedFlag);
  KeySegment(ExportedFlag);
  KeySegment(SerNr);
  KeyBegin(OpenCheckNr);
  KeySegment(CheckNr);
  KeySegment(SerNr);
  KeyBegin(VEName);
  KeySegment(VEName);
  KeySegment(SerNr);
  KeyBegin(DepVEName);
  KeySegment(VEName);
  KeySegment(SerNr);
  KeyBegin(Amount);
  KeySegment(Amount);
  KeySegment(SerNr);
  KeyBegin(DepCheckNr);
  KeySegment(Openf);
  KeySegment(CheckNr);
  KeySegment(SerNr);
  KeyBegin(DepAmount);
  KeySegment(Amount);
  KeySegment(SerNr);
  KeyBegin(BankCode);
  KeySegment(BankCode);
  KeySegment(SerNr);
  KeyBegin(OpenAmount);
  KeySegment(Amount);
  KeySegment(SerNr);
  KeyBegin(ClearingDate);
  KeySegment(ClearingDate);
  KeySegment(SerNr);
  KeyBegin(ToFileName);
  KeySegment(ToFileName);
  KeySegment(ToNo);
  KeySegment(SerNr);
  EndRecord;

  BlockBegin(CheckAccBlock,-,"");
  RecordField(InBounceAcc,M4Code,10,AccVc);
  RecordField(OutBounceAcc,M4Code,10,AccVc);
  RecordField(OwnBounceAcc,M4Code,10,AccVc);
  RecordField(BounceChargeAcc,M4Code,10,AccVc);
  RecordField(ReconClearCheck,M4Int,0,0);
  RecordField(GenCoupons,M4Int,0,0);
  RecordField(PostVATfromBounceCheck,M4Int,0,0);
  RecordField(PostVATfromBounceOwnCheck,M4Int,0,0);
  EndBlock;

  RecordBegin(CreditCardVc,-,"");
  RecordField(CreditCardNr,M4UStr,20,0);
  RecordField(BankCode,M4Code,10,0);
  RecordField(BankName,M4Str,60,0);
  RecordField(CUCode,M4Code,20,CUVc);
  RecordField(CUName,M4Str,60,0);
  RecordField(ValidThru,M4Str,10,0);
  RecordField(SecurityCode,M4Str,5,0);
  RecordField(Invalid,M4Int,0,0); //## real invalid? , don't think so
  RecordField(CredCardType,M4Code,5,CredCardTypeVc);
  RecordField(ID,M4Str,20,0);
  RecordField(UserStr1,M4Str,255,0);
  RecordField(UserStr2,M4Str,255,0);
  RecordField(UserStr3,M4Str,255,0);
  RecordField(UserStr4,M4Str,255,0);
  RecordField(UserStr5,M4Str,255,0);
  RecordField(UserVal1,M4UVal,0,0);
  RecordField(UserVal2,M4UVal,0,0);
  RecordField(UserVal3,M4UVal,0,0);
  RecordField(UserDate1,M4Date,0,0);
  RecordField(UserDate2,M4Date,0,0);
  RecordField(UserDate3,M4Date,0,0);
  RecordField(Start,M4Str,10,0);
  RecordField(Issue,M4Str,10,0);
  MainKeyBegin(MainKey,0);
  KeySegment(CreditCardNr);
  KeyBegin(CUCode);
  KeySegment(CUCode);
  KeySegment(CreditCardNr);
  KeyBegin(CredCardType);
  KeySegment(CredCardType);
  KeySegment(CreditCardNr);
  KeyBegin(CUName);
  KeySegment(CUName);
  KeySegment(CreditCardNr);
  EndRecord;

  RecordBegin(NewCreditCardVc,-,"");
  RecordField(SerNr,M4Long,0,0);
  RecordField(CreditCardNr,M4UStr,20,0);
  RecordField(BankCode,M4Code,10,0);
  RecordField(BankName,M4Str,60,0);
  RecordField(CUCode,M4Code,20,CUVc);
  RecordField(CUName,M4Str,60,0);
  RecordField(ValidThru,M4Str,10,0);
  RecordField(SecurityCode,M4Str,5,0);
  RecordField(Invalid,M4Int,0,0); //## real invalid? , don't think so
  RecordField(CredCardType,M4Code,5,CredCardTypeVc);
  RecordField(ID,M4Str,20,0);
  RecordField(UserStr1,M4Str,255,0);
  RecordField(UserStr2,M4Str,255,0);
  RecordField(UserStr3,M4Str,255,0);
  RecordField(UserStr4,M4Str,255,0);
  RecordField(UserStr5,M4Str,255,0);
  RecordField(UserVal1,M4UVal,0,0);
  RecordField(UserVal2,M4UVal,0,0);
  RecordField(UserVal3,M4UVal,0,0);
  RecordField(UserDate1,M4Date,0,0);
  RecordField(UserDate2,M4Date,0,0);
  RecordField(UserDate3,M4Date,0,0);
  RecordField(Start,M4Str,10,0);
  RecordField(Issue,M4Str,10,0);
  RecordField(SubscriptionID,M4Str,200,0);
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeyBegin(CreditCardNr);
  KeySegment(CreditCardNr);
  KeySegment(SerNr);
  KeyBegin(CUCode);
  KeySegment(CUCode);
  KeySegment(CreditCardNr);
  KeySegment(SerNr);
  KeyBegin(CredCardType);
  KeySegment(CredCardType);
  KeySegment(CreditCardNr);
  KeySegment(SerNr);
  KeyBegin(CUName);
  KeySegment(CUName);
  KeySegment(CreditCardNr);
  KeySegment(SerNr);
  EndRecord;
  
  RecordBegin(ReplItemsVc,-,"");
  RecordField(SerNr,M4Long,0,0);
  RecordField(VECode,M4Code,20,VEVc);
  RecordField(OldArtCode,M4Code,20,INVc);
  RecordField(OldSerialNr,M4Str,60,0);
  RecordField(OldQty,M4Qty,0,0);
  RecordField(OldDesc,M4Str,60,0);
  RecordField(ArtCode,M4Code,20,INVc);
  RecordField(SerialNr,M4Str,60,0);
  RecordField(Qty,M4Qty,0,0);
  RecordField(Desc,M4Str,60,0);
  RecordField(Comment1,M4Str,100,0);
  RecordField(Comment2,M4Str,100,0);
  RecordField(Comment3,M4Str,100,0);
  RecordField(Comment4,M4Str,100,0);
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeyBegin(VECode);  
  KeySegment(VECode);
  KeySegment(SerNr);
  KeyBegin(OldArtCode);  
  KeySegment(OldArtCode);
  KeySegment(SerNr);
  KeyBegin(ArtCode);  
  KeySegment(ArtCode);
  KeySegment(SerNr);
  KeyBegin(OldSerialNr);  
  KeySegment(OldSerialNr);
  KeySegment(SerNr);
  KeyBegin(SerialNr);  
  KeySegment(SerialNr);
  KeySegment(SerNr);
  EndRecord;

  BlockBegin(SVOAccBlock,-,"SVOAccBlock2");
  RecordField(SalesAcc,M4Code,10,AccVc);
  RecordField(StockAcc,M4Code,10,AccVc);
  RecordField(ServiceAcc,M4Code,10,AccVc);
  RecordField(SVOText,M4Int,0,0);
  RecordField(InvoiceSVO,M4Int,0,0);
  RecordField(WSHeaderObjectOnSVOIV,M4Int,0,0);
  RecordField(WSUpdStockFlag,M4Int,0,0);
  RecordField(AllowOneMainItem,M4Int,0,0);
  EndBlock;

  BlockBegin(PPAccBlock,-,"");
  RecordField(SalesAcc,M4Code,10,AccVc);
  RecordField(CostAcc,M4Code,10,AccVc);
  EndBlock;

  RecordBegin(ResClasVc,-,"");
  RecordField(Code,M4Code,10,ResClasVc);
  RecordField(Comment,M4Str,60,0);
  RecordField(Type,M4Code,5,ResClasTypeVc);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeyBegin(Comment);
  KeySegment(Comment);
  KeySegment(Code);
  EndRecord;

  RecordBegin(ResClasTypeVc,-,"");
  RecordField(Code,M4Code,5,ResClasTypeVc);
  RecordField(Comment,M4Str,60,0);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeyBegin(Comment);
  KeySegment(Comment);
  KeySegment(Code);
  EndRecord;

  RecordBegin(ResTypeVc,-,"");
  RecordField(Code,M4Code,10,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(InvoiceBy,M4Int,0,0);
  RecordField(DefArtCode,M4Code,20,INVc);
  RecordField(ChargeMethod,M4Int,0,0);
  RecordField(LastJobNr,M4Long,0,0);
  RecordField(LastDaughterJobNr,M4Long,0,0);
  RecordField(TimeToClean,M4Time,0,0);
  RecordField(TimeToCleanChOut,M4Time,0,0);
  RecordField(Objects,M4UStr,60,ObjVc);
  RecordField(OverbookPrc,M4Qty,0,0);
  RecordField(HoursBeforef,M4Mark,0,0);
  RecordField(NoHoursBefore,M4Int,0,0);
  RecordField(ColourBefore,M4Set,46,0);
  RecordField(HoursAfterf,M4Mark,0,0);
  RecordField(NoHoursAfter,M4Int,0,0);
  RecordField(ColourAfter,M4Set,46,0);
  RecordField(MaxPersons,M4Long,0,0);
  RecordField(ResLoc,M4Code,5,0);
  RecordField(MaxChildren,M4Long,0,0);
  RecordField(MaxPax,M4Long,0,0);
  RecordField(Sort,M4Int,0,0);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeyBegin(Comment);
  KeySegment(Comment);
  KeySegment(Code);
  
  SubsetKeyBegin2(RLCode);
  StoreInBaseKey;
  AppendFieldToKeyName(ResLoc);
  KeySegment(Sort);
  KeySegment(Code);
  SubsetKeyBegin2(RLComment);
  StoreInBaseKey;
  AppendFieldToKeyName(ResLoc);
  KeySegment(Comment);
  KeySegment(Sort);
  KeySegment(Code);

  SubsetKeyBegin2(RLRsrtCode);
  StoreInBaseKey;
  AppendFieldToKeyName(ResLoc);
  KeySegment(Sort);
  KeySegment(Code);
  SubsetKeyBegin2(RLRsrtComment);
  StoreInBaseKey;
  AppendFieldToKeyName(ResLoc);
  KeySegment(Comment);
  KeySegment(Sort);
  KeySegment(Code);

  KeyBegin(Sort);
  KeySegment(Sort);
  KeySegment(Code);
  EndRecord;

  RecordBegin(ResCatVc,-,"");
  RecordField(Code,M4Code,5,0);
  RecordField(Comment,M4Str,60,0);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeyBegin(Comment);
  KeySegment(Comment);
  KeySegment(Code);
  EndRecord;
/*
  RecordBegin(ResModeVc,-,"");
  RecordField(Code,M4Code,5,0);
  RecordField(Comment,M4Str,60,0);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeyBegin(Comment);
  KeySegment(Comment);
  KeySegment(Code);
  EndRecord;
*/
  RecordBegin(ResLocVc,-,"");
  RecordField(Code,M4Code,5,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(MaxExtraBeds,M4Long,0,0);
  RecordField(BranchID,M4Code,20,CUVc);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeyBegin(Comment);
  KeySegment(Comment);
  KeySegment(Code);
  EndRecord;
/*
  RecordBegin(ResDescVc,-,"");
  RecordField(Code,M4Code,5,0);
  RecordField(Comment,M4Str,60,0);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeyBegin(Comment);
  KeySegment(Comment);
  KeySegment(Code);
  EndRecord;
*/
  RecordBegin(ItemTypeVc,-,"");
  RecordField(Code,M4Code,5,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(Type,M4Int,0,0);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeyBegin(Comment);
  KeySegment(Comment);
  KeySegment(Code);
  EndRecord;
/*
  RecordBegin(ResKeyVc,-,"");
  RecordField(Code,M4Code,5,0);
  RecordField(Comment,M4Str,60,0);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeyBegin(Comment);
  KeySegment(Comment);
  KeySegment(Code);
  EndRecord;
*/
  RecordBegin(ResourceStatusVc,-,"");
  RecordField(Code,M4Code,5,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(SeqNr,M4Long,0,0);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeyBegin(Comment);
  KeySegment(Comment);
  KeySegment(Code);
  EndRecord;

  RecordBegin(ReservationStatusVc,-,"");
  RecordField(Code,M4Code,5,0);
  RecordField(Comment,M4Str,60,0);
  RecordField(CalColNr,M4Set,46,0);
  RecordField(StatType,M4Int,0,0);
  RecordField(SeqNr,M4Long,0,0);
  RecordField(DocName,M4UStr,20,0);
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeyBegin(Comment);
  KeySegment(Comment);
  KeySegment(Code);
  KeyBegin(SeqNr);
  KeySegment(SeqNr);
  KeySegment(Code);
  EndRecord;

  RecordBegin(ResVc,-,"ResVc2");
  RecordField(Code,M4Code,10,0);
  RecordField(Name,M4Str,60,0);
  RecordField(Contact,M4Str,60,0);
  RecordField(BankAcc,M4Code,60,0);
  RecordField(BankName,M4Str,20,0);
  RecordField(Comment0,M4Str,100,0);
  RecordField(Terminated,M4Int,0,0);
  RecordField(Number,M4Str,30,0);
  RecordField(Class,M4UStr,200,0);
  RecordField(Type,M4Code,10,ResTypeVc);
  RecordField(Spec,M4Str,100,0);
  RecordField(Category,M4Code,5,0);
  RecordField(xMode,M4Str,60,0);        // Removed, goes into Class instead
  RecordField(xDescription,M4Code,5,0); // Removed, goes into Class instead
  RecordField(xKey,M4Code,5,0);         // Removed, goes into Class instead
  RecordField(JobGroup,M4Code,5,0);
  RecordField(ResLoc,M4Code,5,0);
  RecordField(LTxtCode,M4Str,20,0);
  RecordField(DefArtCode,M4Code,20,INVc);
  RecordField(AreaCode,M4Code,5,0);
  RecordField(InvoiceBy,M4Int,0,0);
  RecordField(xPich,M4Dummy,0,0);
  RecordField(ResStatus,M4Code,5,0);
  RecordField(InvAsGroup,M4Int,0,0);
  RecordField(MaxPersons,M4Long,0,0);
  RecordField(PosX,M4Long,0,0);
  RecordField(PosY,M4Long,0,0);
  RecordField(Smoking,M4Int,0,0);
  RecordField(Addr1,M4Str,60,0);  
  RecordField(Addr2,M4Str,60,0);  
  RecordField(Addr3,M4Str,60,0);
  RecordField(Comment1,M4Str,60,0);  
  RecordField(Comment2,M4Str,60,0);  
  RecordField(Phone,M4PhoneNo,20,0);
  RecordField(Fax,M4Str,20,0);
  RecordField(eMail,M4Str,100,0);
  RecordField(wwwAddr,M4Str,60,0);
  RecordField(Equipment1,M4Str,60,0);  
  RecordField(Equipment2,M4Str,60,0);  
  RecordField(Equipment3,M4Str,60,0);  
  RecordField(MaxExtraBeds,M4Long,0,0);
  RecordField(MaxChildren,M4Long,0,0);
  RecordField(MaxPax,M4Long,0,0);
  RecordField(Sort,M4Int,0,0);
  RecordField(Objects,M4UStr,60,ObjVc);
  RecordField(Resources,M4List,200,ResVc);
  RecordField(Price,M423Val,0,0);//For stdhotel only
  MainKeyBegin(Code,0);
  KeySegment(Code);
  KeyBegin(Name);
  KeySegment(Name);
  KeySegment(Code);
  KeyBegin(Contact);
  KeySegment(Contact);
  KeySegment(Code);
  KeyBegin(Number);
  KeySegment(Number);
  KeySegment(Code);
  KeyBegin(Type);
  KeySegment(Type);
  KeySegment(Code);
  KeyBegin(ResStatus);
  KeySegment(ResStatus);
  KeySegment(Code);
  KeyBegin(Spec);
  KeySegment(Spec);
  KeySegment(Code);
  KeyBegin(JobGroup);
  KeySegment(JobGroup);
  KeySegment(Code);
  KeyBegin(Category);
  KeySegment(Category);
  KeySegment(Code);
  KeyBegin(ResLoc);
  KeySegment(ResLoc);
  KeySegment(Code);
  KeyBegin(LTxtCode);
  KeySegment(LTxtCode);
  KeySegment(Code);
  KeyBegin(ActCode);
  KeySegment(Code);
  KeyBegin(ActName);
  KeySegment(Name);
  KeySegment(Code);
  KeyBegin(ActContact);
  KeySegment(Contact);
  KeySegment(Code);
  KeyBegin(ActNumber);
  KeySegment(Number);
  KeySegment(Code);
  KeyBegin(ActType);
  KeySegment(Type);
  KeySegment(Code);
  KeyBegin(ActSpec);
  KeySegment(Spec);
  KeySegment(Code);
  KeyBegin(ActJobGroup);
  KeySegment(JobGroup);
  KeySegment(Code);
  KeyBegin(ActCategory);
  KeySegment(Category);
  KeySegment(Code);
  KeyBegin(ActResLoc);
  KeySegment(ResLoc);
  KeySegment(Code);
  KeyBegin(ActLTxtCode);
  KeySegment(LTxtCode);
  KeySegment(Code);
  
  SubsetKeyBegin2(RLCode);
  StoreInBaseKey;
  AppendFieldToKeyName(ResLoc);
  KeySegment(Code);
  SubsetKeyBegin2(RLType);
  StoreInBaseKey;
  AppendFieldToKeyName(ResLoc);
  KeySegment(Type);
  KeySegment(Code);
  SubsetKeyBegin2(RLResStatus);
  StoreInBaseKey;
  AppendFieldToKeyName(ResLoc);
  KeySegment(ResStatus);
  KeySegment(Code);
  SubsetKeyBegin2(RLName);
  StoreInBaseKey;
  AppendFieldToKeyName(ResLoc);
  KeySegment(Name);
  KeySegment(Code);
  SubsetKeyBegin2(RLNumber);
  StoreInBaseKey;
  AppendFieldToKeyName(ResLoc);
  KeySegment(Number);
  KeySegment(Code);

  KeyBegin(SortRsrtCode);
  KeySegment(Sort);
  KeySegment(Code);
  KeyBegin(SortRsrtResLoc);
  KeySegment(ResLoc);
  KeySegment(Sort);
  KeySegment(Code);
  KeyBegin(SortRsrtType);
  KeySegment(Type);
  KeySegment(Sort);
  KeySegment(Code);
  KeyBegin(SortRsrtName);
  KeySegment(Name);
  KeySegment(Sort);
  KeySegment(Code);

  KeyBegin(SortHotCode);
  KeySegment(Sort);
  KeySegment(Code);
  KeyBegin(SortHotResLoc);
  KeySegment(ResLoc);
  KeySegment(Sort);
  KeySegment(Code);
  KeyBegin(SortHotType);
  KeySegment(Type);
  KeySegment(Sort);
  KeySegment(Code);
  KeyBegin(SortHotName);
  KeySegment(Name);
  KeySegment(Sort);
  KeySegment(Code);
  KeyBegin(SortHotResStatus);
  KeySegment(ResStatus);
  KeySegment(Sort);
  KeySegment(Code);
  KeyBegin(SortHotNumber);
  KeySegment(Number);
  KeySegment(Sort);
  KeySegment(Code);
  EndRecord;

  RecordBegin(JobVc,-,"Job2");
  RecordField(SerNr,M4Long,0,0);
  SerialNoBlock(JobSerBlock);    
  RecordField(ResCode,M4Code,10,0);
  RecordField(xPRPlNo,M4Dummy,0,0);
  RecordField(xPlace,M4Dummy,0,0);
  RecordField(ResName,M4Str,60,0);
  RecordField(Objects,M4UStr,60,ObjVc);
  RecordField(TransDate,M4Date,0,0);
  FieldIsTransDate(TransDate);
  RecordField(StartTime,M4STime,0,0);
  RecordField(EndTime,M4STime,0,0);
  RecordField(LangCode,M4Code,5,0);
  RecordField(xUserSign,M4Code,10,UserVc);
  RecordField(xPlanShip,M4Dummy,0,0);
  RecordField(xInvd,M4Mark,0,0);
  RecordField(xExSerNr,M4Dummy,0,0);
  RecordField(xTSgen,M4Dummy,0,0);
  RecordField(xTSNr,M4Dummy,0,0);
  RecordField(Type,M4Code,10,ResTypeVc);
  RecordField(xPRPlName,M4Dummy,0,0);
  RecordField(xPlaceName,M4Dummy,0,0);
  RecordField(CustContact,M4Str,60,0);
  RecordField(Math2,M4Matrix,0,0); //?? should be Math
  RecordField(EndDate,M4Date,0,0);
  RecordField(RegDate,M4Date,0,0); // Used to be NextConfDate
  RecordField(Comment,M4Str,60,0);
  RecordField(ResStatus,M4Code,5,0);
  RecordField(Source,M4Code,20,CUVc);
  RecordField(LengthClass,M4Int,0,0);
  RecordField(CUCode,M4Code,20,CUVc);
  RecordField(CUName,M4Str,60,0);
  RecordField(Persons,M4Long,0,0);
  RecordField(LastTransferDate,M4Date,0,0);
  RecordField(LastTransferTime,M4STime,0,0);
  RecordField(PriceList,M4Code,5,0);
  RecordField(MaxPersons,M4Long,0,0);
  RecordField(SalesMan,M4Code,10,UserVc);
  FieldIsUser(SalesMan);
  RecordField(SalesGroup,M4Code,5,SalesGroupVc);
  FieldIsGroup(SalesGroup);
  RecordField(ResUsage,M4Code,10,ResUsageVc);
  RecordField(BookOrigin,M4Code,20,0);
  RecordField(Mother,M4Long,0,0);
  RecordField(PLPrice,M4Val,0,0);
  RecordField(AgreedPrice,M4Val,0,0);
  RecordField(AgreedDiscount,M4PrcStr,10,0);
  RecordField(Sum4,M4Val,0,0);
  RecordField(xQtyConv,M4Dummy,5,0); //Not used anymore
  RecordField(BookDate,M4Date,0,0);
  RecordField(RequestType,M4Code,10,ResTypeVc);
  RecordField(SourceName,M4Str,60,0);
  RecordField(ConfComment,M4Str,200,0);
  RecordField(TotalSum4,M4Val,0,0);
  RecordField(SwitchFlag,M4Int,0,0);
  RecordField(Sign,M4Code,10,UserVc);
  RecordField(NrOfDays,M4Long,0,0);
  RecordField(LTxtCode,M4Str,20,0);
  RecordField(RoomChangeFlag,M4Int,0,0);
  RecordField(GroupWillNotPay,M4Int,0,0);
  RecordField(VatSum,M4Val,0,0);
  RecordField(TotalVatSum,M4Val,0,0);
  RecordField(ConfDate,M4Date,0,0);
  RecordField(Newspapers,M4UStr,200,0);
  RecordField(CreditCard,M4UStr,20,CreditCardVc);
  RecordField(AuthorizationCode,M4UStr,20,0);
  RecordField(PreAuthorized,M4Int,0,0);
  RecordField(ExtraBeds,M4Long,0,0);
  RecordField(Children,M4Long,0,0);
  RecordField(MaxChildren,M4Long,0,0);
  RecordField(BranchID,M4Code,20,CUVc);
  RecordField(Sum4ExclDisc,M4Val,0,0);
  RecordField(RefStr,M4Str,30,0);
  RecordField(WebSession,M4UStr,100,0);//RecordField(WebSession,M4UUID,0,0); in 7.1
  RecordField(Pax,M4Long,0,0);
  RecordField(MaxPax,M4Long,0,0);
  RecordField(VisitPurpose,M4Code,10,VisitPurposeVc);
  RecordField(ReservationType,M4Int,0,0);
  RecordField(ResLoc,M4Code,5,0);
  RecordField(ElectronicCardsNo,M4Int,0,0);
  RecordField(CurncyCode,M4Code,5,CurncyCodeVc); 
  RecordField(FrRate,M4Rate,0,0); 
  RecordField(ToRateB1,M4Rate,0,0); 
  RecordField(ToRateB2,M4Rate,0,0); 
  RecordField(BaseRate1,M4Rate,0,0); 
  RecordField(BaseRate2,M4Rate,0,0); 
  RecordField(BorderCheckPoint,M4Code,10,BorderCheckPointVc);
  RecordField(TourOperator,M4Code,20,CUVc);
  RecordField(TourOperatorName,M4Str,60,0);
  RecordField(Resources,M4List,200,ResVc);
  RecordField(AgentCommision,M4Val,0,0);
  RecordField(InclVAT,M4Int,0,0);
  ArrayBegin(Math2,-,1);
  ArrayField(CUCode,M4Code,20,CUVc);
  ArrayField(CUName,M4Str,60,0);
  ArrayField(PriceList,M4Code,5,0);
  ArrayField(GuestCode,M4Code,20,CUVc);
  ArrayField(BarTab,M4Set,318,0);
  ArrayField(VisaNo,M4Str,100,0);
  ArrayField(VisaType,M4Str,30,0);
  ArrayField(VisaValid,M4Date,0,0);
  ArrayField(vRebate,M41Val,0,0);
  ArrayField(CClass,M4Code,10,CClassVc);  
  ArrayField(ArrivalSequence,M4Long,0,0);
  EndArray;
  MainKeyBegin(SerNr,1);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(SerNr);
  SubsetKeyBegin2(ResCode);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(ResCode);
  KeySegment(SerNr);
  SubsetKeyBegin2(CUCode);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(CUCode);
  KeySegment(SerNr);
  SubsetKeyBegin2(ResStatus);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(ResStatus);
  KeySegment(SerNr);
  SubsetKeyBegin2(TransDate);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(TransDate);
  KeySegment(StartTime);
  KeySegment(SerNr);
  SubsetKeyBegin2(ResStartTime);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(ResCode);
  KeySegment(TransDate);
  KeySegment(StartTime);
  KeySegment(SerNr);
  SubsetKeyBegin2(CalResStartTime);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(ResCode);
  KeySegment(LengthClass);
  KeySegment(TransDate);
  KeySegment(StartTime);
  KeySegment(SerNr);
  SubsetKeyBegin2(ConfDate);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(ConfDate);
  KeySegment(TransDate);
  KeySegment(SerNr);
  SubsetKeyBegin2(RegDate);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(RegDate);
  KeySegment(TransDate);
  KeySegment(SerNr);
  SubsetKeyBegin2(Source);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(Source);
  KeySegment(SerNr);
  SubSetKeyBegin2(Mother);//sepcial index, be aware
  StoreInBaseKey;                   // are these needed ??
  AppendFieldToKeyName(SalesGroup); // are these needed ??
  AppendFieldToKeyName(SalesMan);   // are these needed ??
  AppendFieldToKeyName(Mother);
  KeySegment(SerNr);
  SubsetKeyBegin2(ResCust);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(ResCode);
  KeySegment(CUCode);
  KeySegment(SerNr);
  SubsetKeyBegin2(DateType);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(Type);
  KeySegment(TransDate);
  KeySegment(SerNr);
  SubsetKeyBegin2(CUName);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(CUName);
  KeySegment(SerNr);
  SubsetKeyBegin2(BookDate);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(BookDate);
  KeySegment(SerNr);
  SubsetKeyBegin2(EndDate);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(EndDate);
  KeySegment(EndTime);
  KeySegment(SerNr);
  SubsetKeyBegin2(MotherKey);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(Mother);
  KeySegment(SerNr);
  SubSetKeyBegin(MotherDate);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(SerNr);
  KeySegment(TransDate);
  SubsetKeyBegin2(ResCodeStatus);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(ResCode);
  KeySegment(ResStatus);
  KeySegment(SerNr);
  SubsetKeyBegin2(CalTypeStartTime);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(Type);
  KeySegment(LengthClass);
  KeySegment(TransDate);
  KeySegment(StartTime);
  KeySegment(SerNr);
  KeyBegin(WebSession);
  KeySegment(WebSession);
  KeySegment(SerNr);

  SubsetKeyBegin2(NormalSerNr);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(SerNr);
  SubsetKeyBegin2(NormalCUCode);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(CUCode);
  KeySegment(SerNr);
  SubsetKeyBegin2(NormalCUName);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(CUName);
  KeySegment(SerNr);
  SubsetKeyBegin2(NormalTransDate);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(TransDate);
  KeySegment(SerNr);
  SubsetKeyBegin2(NormalMotherKey);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(Mother);
  KeySegment(SerNr);
  SubsetKeyBegin2(NormalResStatus);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(ResStatus);
  KeySegment(SerNr);
  SubsetKeyBegin2(NormalRefStr);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(RefStr);
  KeySegment(SerNr);

  SubsetKeyBegin2(GroupSerNr);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(SerNr);
  SubsetKeyBegin2(GroupResStatus);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(ResStatus);
  KeySegment(SerNr);
  SubsetKeyBegin2(GroupCUCode);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(CUCode);
  KeySegment(SerNr);
  SubsetKeyBegin2(GroupCUName);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(CUName);
  KeySegment(SerNr);
  SubsetKeyBegin2(GroupMotherKey);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(Mother);
  KeySegment(SerNr);
  SubsetKeyBegin2(GroupRefStr);
  StoreInBaseKey;
  AppendFieldToKeyName(SalesGroup);
  AppendFieldToKeyName(SalesMan);
  KeySegment(RefStr);
  KeySegment(SerNr);
  KeyBegin(LengthClass);
  KeySegment(LengthClass);
  KeySegment(TransDate);
  KeySegment(StartTime);
  KeySegment(SerNr);
  SubsetKeyBegin2(AllResources);
  StoreInBaseKey;
  AppendListFieldToKeyName(Resources);
  KeySegment(LengthClass);
  KeySegment(TransDate);
  KeySegment(StartTime);
  KeySegment(SerNr);

  EndRecord;

  RecordBegin(ResAvVc,-,"ResAvVc3");
  RecordField(SerNr,M4Long,0,0);
  SerialNoBlock(ResAvSerBlock);      
  RecordField(TransDate,M4Date,0,0);
  RecordField(EndDate,M4Date,0,0);
  RecordField(Math2,M4Matrix,0,0); //?? should be Math
  RecordField(Comment,M4Str,60,0);
  RecordField(SourceCode,M4Code,20,CUVc);
  RecordField(SourceName,M4Str,60,0);
  RecordField(AgentPriceList,M4Code,5,0);
  RecordField(AgentSum4,M4Val,0,0);
  RecordField(OKFlag,M4Mark,0,0);
  RecordField(Closed,M4Mark,0,0);
  RecordField(TotPersons,M4Long,0,0);
  RecordField(PubSum4,M4Val,0,0);
  RecordField(MatherJobNr,M4Long,0,0);
  RecordField(LangCode,M4Code,5,0);
  RecordField(CUCode,M4Code,20,CUVc);
  RecordField(CUName,M4Str,60,0);
  RecordField(NrOfDays,M4Long,0,0);
  RecordField(xLangCode,M4Dummy,0,0);
  RecordField(IncludePackage,M4Int,0,0);
  RecordField(PrelFlag,M4Mark,0,0);
  RecordField(StartTime,M4STime,0,0);
  RecordField(EndTime,M4STime,0,0);
  RecordField(Math,M4TextField,0,0);
  RecordField(LTxtCode,M4Code,5,0);
  RecordField(GroupWillNotPay,M4Int,0,0);
  RecordField(CustContact,M4Str,60,CUVc);
  RecordField(Sign,M4Code,10,UserVc);
  RecordField(RefStr,M4Str,30,0);
  RecordField(BookOrigin,M4Code,20,0);
  RecordField(ResLoc,M4Code,5,0);
  RecordField(VisitPurpose,M4Code,10,VisitPurposeVc);
  RecordField(CurncyCode,M4Code,5,CurncyCodeVc); 
  RecordField(FrRate,M4Rate,0,0); 
  RecordField(ToRateB1,M4Rate,0,0); 
  RecordField(ToRateB2,M4Rate,0,0); 
  RecordField(BaseRate1,M4Rate,0,0); 
  RecordField(BaseRate2,M4Rate,0,0); 
  RecordField(TourOperator,M4Code,20,CUVc);
  RecordField(TourOperatorName,M4Str,60,0);
  ArrayBegin(Math2,-,1);
  ArrayField(ResType,M4Code,10,ResTypeVc);
  ArrayField(QtyWanted,M4UVal,0,0);
  ArrayField(QtyAvailable,M4Qty,0,0);
  ArrayField(PubPriceList,M4Code,5,0);
  ArrayField(Usage,M4Code,10,ResUsageVc);
  ArrayField(AgentPrice,M4Val,0,0);
  ArrayField(AgentSum,M4Val,0,0);
  ArrayField(Persons,M4Long,0,0);
  ArrayField(GuestCode,M4Code,20,CUVc);
  ArrayField(xQtyConv,M4Dummy,5,0); //Not used anymore
  ArrayField(ArtCode,M4Code,20,INVc);
  ArrayField(PubPrice,M4Val,0,0);
  ArrayField(PubSum,M4Val,0,0);
  ArrayField(CalcType,M4Set,57,0);
  ArrayField(Comment,M4Str,60,0);
  ArrayField(TransDate,M4Date,0,0);
  ArrayField(EndDate,M4Date,0,0);
  ArrayField(StartTime,M4STime,0,0);
  ArrayField(EndTime,M4STime,0,0);
  ArrayField(AgentVat,M4Val,0,0);
  ArrayField(PubVat,M4Val,0,0);
  ArrayField(NrOfDays,M4Long,0,0);
  ArrayField(Classification,M4UStr,200,CClassVc);
  ArrayField(Children,M4Long,0,0);
  ArrayField(RefStr,M4Str,30,0);
  ArrayField(BookOrigin,M4Code,20,0);
  ArrayField(NoOfGuests,M4Long,0,0); //New field that substitutes the old 'QtyConv' field
  ArrayField(ResLoc,M4Code,5,0);
  ArrayField(VisitPurpose,M4Code,10,VisitPurposeVc);
  ArrayField(ResCode,M4Code,10,0);
  EndArray;
  MainKeyBegin(SerNr,0);
  KeySegment(SerNr);
  KeyBegin(SourceCode);
  KeySegment(SourceCode);
  KeySegment(SerNr);
  KeyBegin(TransDate);
  KeySegment(TransDate);
  KeySegment(SerNr);
  KeyBegin(SourceName);
  KeySegment(SourceName);
  KeySegment(SerNr);
  KeyBegin(MatherJobNr);
  KeySegment(MatherJobNr);
  KeySegment(SerNr);
  KeyBegin(CUCode);
  KeySegment(CUCode);
  KeySegment(SerNr);
  KeyBegin(CUName);
  KeySegment(CUName);
  KeySegment(SerNr);
  EndRecord;
  
  return;
end;
